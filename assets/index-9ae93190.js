function Ux(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Y1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wa={},jx={get exports(){return Wa},set exports(t){Wa=t}},Sd={},y={},Bx={get exports(){return y},set exports(t){y=t}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al=Symbol.for("react.element"),Vx=Symbol.for("react.portal"),zx=Symbol.for("react.fragment"),Hx=Symbol.for("react.strict_mode"),Wx=Symbol.for("react.profiler"),Kx=Symbol.for("react.provider"),qx=Symbol.for("react.context"),Gx=Symbol.for("react.forward_ref"),Qx=Symbol.for("react.suspense"),Yx=Symbol.for("react.memo"),Xx=Symbol.for("react.lazy"),p0=Symbol.iterator;function Jx(t){return t===null||typeof t!="object"?null:(t=p0&&t[p0]||t["@@iterator"],typeof t=="function"?t:null)}var X1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J1=Object.assign,Z1={};function Os(t,e,n){this.props=t,this.context=e,this.refs=Z1,this.updater=n||X1}Os.prototype.isReactComponent={};Os.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Os.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eS(){}eS.prototype=Os.prototype;function rg(t,e,n){this.props=t,this.context=e,this.refs=Z1,this.updater=n||X1}var ig=rg.prototype=new eS;ig.constructor=rg;J1(ig,Os.prototype);ig.isPureReactComponent=!0;var m0=Array.isArray,tS=Object.prototype.hasOwnProperty,og={current:null},nS={key:!0,ref:!0,__self:!0,__source:!0};function rS(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)tS.call(e,r)&&!nS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Al,type:t,key:o,ref:s,props:i,_owner:og.current}}function Zx(t,e){return{$$typeof:Al,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Al}function eR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var g0=/\/+/g;function Jf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eR(""+t.key):e.toString(36)}function Gu(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Al:case Vx:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Jf(s,0):r,m0(i)?(n="",t!=null&&(n=t.replace(g0,"$&/")+"/"),Gu(i,e,n,"",function(u){return u})):i!=null&&(sg(i)&&(i=Zx(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(g0,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",m0(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Jf(o,a);s+=Gu(o,e,n,l,i)}else if(l=Jx(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Jf(o,a++),s+=Gu(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function wu(t,e,n){if(t==null)return t;var r=[],i=0;return Gu(t,r,"","",function(o){return e.call(n,o,i++)}),r}function tR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bt={current:null},Qu={transition:null},nR={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Qu,ReactCurrentOwner:og};fe.Children={map:wu,forEach:function(t,e,n){wu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wu(t,function(){e++}),e},toArray:function(t){return wu(t,function(e){return e})||[]},only:function(t){if(!sg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=Os;fe.Fragment=zx;fe.Profiler=Wx;fe.PureComponent=rg;fe.StrictMode=Hx;fe.Suspense=Qx;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nR;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=J1({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=og.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)tS.call(e,l)&&!nS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Al,type:t.type,key:i,ref:o,props:r,_owner:s}};fe.createContext=function(t){return t={$$typeof:qx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kx,_context:t},t.Consumer=t};fe.createElement=rS;fe.createFactory=function(t){var e=rS.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:Gx,render:t}};fe.isValidElement=sg;fe.lazy=function(t){return{$$typeof:Xx,_payload:{_status:-1,_result:t},_init:tR}};fe.memo=function(t,e){return{$$typeof:Yx,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=Qu.transition;Qu.transition={};try{t()}finally{Qu.transition=e}};fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};fe.useCallback=function(t,e){return Bt.current.useCallback(t,e)};fe.useContext=function(t){return Bt.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Bt.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Bt.current.useEffect(t,e)};fe.useId=function(){return Bt.current.useId()};fe.useImperativeHandle=function(t,e,n){return Bt.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Bt.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Bt.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Bt.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Bt.current.useReducer(t,e,n)};fe.useRef=function(t){return Bt.current.useRef(t)};fe.useState=function(t){return Bt.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Bt.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Bt.current.useTransition()};fe.version="18.2.0";(function(t){t.exports=fe})(Bx);const Wt=Y1(y),lp=Ux({__proto__:null,default:Wt},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rR=y,iR=Symbol.for("react.element"),oR=Symbol.for("react.fragment"),sR=Object.prototype.hasOwnProperty,aR=rR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lR={key:!0,ref:!0,__self:!0,__source:!0};function iS(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)sR.call(e,r)&&!lR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:iR,type:t,key:o,ref:s,props:i,_owner:aR.current}}Sd.Fragment=oR;Sd.jsx=iS;Sd.jsxs=iS;(function(t){t.exports=Sd})(jx);const _r=Wa.Fragment,C=Wa.jsx,q=Wa.jsxs;var up={},Ka={},uR={get exports(){return Ka},set exports(t){Ka=t}},ln={},cp={},cR={get exports(){return cp},set exports(t){cp=t}},oS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,j){var P=$.length;$.push(j);e:for(;0<P;){var ne=P-1>>>1,se=$[ne];if(0<i(se,j))$[ne]=j,$[P]=se,P=ne;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var j=$[0],P=$.pop();if(P!==j){$[0]=P;e:for(var ne=0,se=$.length,He=se>>>1;ne<He;){var we=2*(ne+1)-1,ke=$[we],Me=we+1,Et=$[Me];if(0>i(ke,P))Me<se&&0>i(Et,ke)?($[ne]=Et,$[Me]=P,ne=Me):($[ne]=ke,$[we]=P,ne=we);else if(Me<se&&0>i(Et,P))$[ne]=Et,$[Me]=P,ne=Me;else break e}}return j}function i($,j){var P=$.sortIndex-j.sortIndex;return P!==0?P:$.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,v=!1,w=!1,p=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=$)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function S($){if(w=!1,E($),!v)if(n(l)!==null)v=!0,ve(T);else{var j=n(u);j!==null&&le(S,j.startTime-$)}}function T($,j){v=!1,w&&(w=!1,g(k),k=-1),h=!0;var P=f;try{for(E(j),d=n(l);d!==null&&(!(d.expirationTime>j)||$&&!L());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,f=d.priorityLevel;var se=ne(d.expirationTime<=j);j=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&r(l),E(j)}else r(l);d=n(l)}if(d!==null)var He=!0;else{var we=n(u);we!==null&&le(S,we.startTime-j),He=!1}return He}finally{d=null,f=P,h=!1}}var I=!1,_=null,k=-1,M=5,A=-1;function L(){return!(t.unstable_now()-A<M)}function G(){if(_!==null){var $=t.unstable_now();A=$;var j=!0;try{j=_(!0,$)}finally{j?K():(I=!1,_=null)}}else I=!1}var K;if(typeof m=="function")K=function(){m(G)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ge=ue.port2;ue.port1.onmessage=G,K=function(){ge.postMessage(null)}}else K=function(){p(G,0)};function ve($){_=$,I||(I=!0,K())}function le($,j){k=p(function(){$(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,ve(T))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var P=f;f=j;try{return $()}finally{f=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,j){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var P=f;f=$;try{return j()}finally{f=P}},t.unstable_scheduleCallback=function($,j,P){var ne=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?ne+P:ne):P=ne,$){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=P+se,$={id:c++,callback:j,priorityLevel:$,startTime:P,expirationTime:se,sortIndex:-1},P>ne?($.sortIndex=P,e(u,$),n(l)===null&&$===n(u)&&(w?(g(k),k=-1):w=!0,le(S,P-ne))):($.sortIndex=se,e(l,$),v||h||(v=!0,ve(T))),$},t.unstable_shouldYield=L,t.unstable_wrapCallback=function($){var j=f;return function(){var P=f;f=j;try{return $.apply(this,arguments)}finally{f=P}}}})(oS);(function(t){t.exports=oS})(cR);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS=y,rn=cp;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aS=new Set,qa={};function wo(t,e){cs(t,e),cs(t+"Capture",e)}function cs(t,e){for(qa[t]=e,t=0;t<e.length;t++)aS.add(e[t])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dp=Object.prototype.hasOwnProperty,dR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v0={},y0={};function fR(t){return dp.call(y0,t)?!0:dp.call(v0,t)?!1:dR.test(t)?y0[t]=!0:(v0[t]=!0,!1)}function hR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pR(t,e,n,r){if(e===null||typeof e>"u"||hR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ag=/[\-:]([a-z])/g;function lg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ag,lg);vt[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ag,lg);vt[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ag,lg);vt[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ug(t,e,n,r){var i=vt.hasOwnProperty(e)?vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pR(e,n,i,r)&&(n=null),r||i===null?fR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ur=sS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eu=Symbol.for("react.element"),$o=Symbol.for("react.portal"),Mo=Symbol.for("react.fragment"),cg=Symbol.for("react.strict_mode"),fp=Symbol.for("react.profiler"),lS=Symbol.for("react.provider"),uS=Symbol.for("react.context"),dg=Symbol.for("react.forward_ref"),hp=Symbol.for("react.suspense"),pp=Symbol.for("react.suspense_list"),fg=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),cS=Symbol.for("react.offscreen"),w0=Symbol.iterator;function ta(t){return t===null||typeof t!="object"?null:(t=w0&&t[w0]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,Zf;function pa(t){if(Zf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zf=e&&e[1]||""}return`
`+Zf+t}var eh=!1;function th(t,e){if(!t||eh)return"";eh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{eh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pa(t):""}function mR(t){switch(t.tag){case 5:return pa(t.type);case 16:return pa("Lazy");case 13:return pa("Suspense");case 19:return pa("SuspenseList");case 0:case 2:case 15:return t=th(t.type,!1),t;case 11:return t=th(t.type.render,!1),t;case 1:return t=th(t.type,!0),t;default:return""}}function mp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mo:return"Fragment";case $o:return"Portal";case fp:return"Profiler";case cg:return"StrictMode";case hp:return"Suspense";case pp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uS:return(t.displayName||"Context")+".Consumer";case lS:return(t._context.displayName||"Context")+".Provider";case dg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fg:return e=t.displayName||null,e!==null?e:mp(t.type)||"Memo";case Gr:e=t._payload,t=t._init;try{return mp(t(e))}catch{}}return null}function gR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mp(e);case 8:return e===cg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ei(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vR(t){var e=dS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Su(t){t._valueTracker||(t._valueTracker=vR(t))}function fS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gp(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function E0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ei(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hS(t,e){e=e.checked,e!=null&&ug(t,"checked",e,!1)}function vp(t,e){hS(t,e);var n=Ei(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yp(t,e.type,n):e.hasOwnProperty("defaultValue")&&yp(t,e.type,Ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function S0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yp(t,e,n){(e!=="number"||mc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ma=Array.isArray;function Xo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ei(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function C0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(ma(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ei(n)}}function pS(t,e){var n=Ei(e.value),r=Ei(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function T0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ep(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cu,gS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cu=Cu||document.createElement("div"),Cu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ga(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yR=["Webkit","ms","Moz","O"];Object.keys(ka).forEach(function(t){yR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ka[e]=ka[t]})});function vS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ka.hasOwnProperty(t)&&ka[t]?(""+e).trim():e+"px"}function yS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var wR=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sp(t,e){if(e){if(wR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Cp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tp=null;function hg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ip=null,Jo=null,Zo=null;function I0(t){if(t=Ml(t)){if(typeof Ip!="function")throw Error(D(280));var e=t.stateNode;e&&(e=kd(e),Ip(t.stateNode,t.type,e))}}function wS(t){Jo?Zo?Zo.push(t):Zo=[t]:Jo=t}function ES(){if(Jo){var t=Jo,e=Zo;if(Zo=Jo=null,I0(t),e)for(t=0;t<e.length;t++)I0(e[t])}}function SS(t,e){return t(e)}function CS(){}var nh=!1;function TS(t,e,n){if(nh)return t(e,n);nh=!0;try{return SS(t,e,n)}finally{nh=!1,(Jo!==null||Zo!==null)&&(CS(),ES())}}function Qa(t,e){var n=t.stateNode;if(n===null)return null;var r=kd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var _p=!1;if(kr)try{var na={};Object.defineProperty(na,"passive",{get:function(){_p=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{_p=!1}function ER(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ba=!1,gc=null,vc=!1,kp=null,SR={onError:function(t){ba=!0,gc=t}};function CR(t,e,n,r,i,o,s,a,l){ba=!1,gc=null,ER.apply(SR,arguments)}function TR(t,e,n,r,i,o,s,a,l){if(CR.apply(this,arguments),ba){if(ba){var u=gc;ba=!1,gc=null}else throw Error(D(198));vc||(vc=!0,kp=u)}}function Eo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function IS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _0(t){if(Eo(t)!==t)throw Error(D(188))}function IR(t){var e=t.alternate;if(!e){if(e=Eo(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return _0(i),t;if(o===r)return _0(i),e;o=o.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function _S(t){return t=IR(t),t!==null?kS(t):null}function kS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kS(t);if(e!==null)return e;t=t.sibling}return null}var bS=rn.unstable_scheduleCallback,k0=rn.unstable_cancelCallback,_R=rn.unstable_shouldYield,kR=rn.unstable_requestPaint,qe=rn.unstable_now,bR=rn.unstable_getCurrentPriorityLevel,pg=rn.unstable_ImmediatePriority,xS=rn.unstable_UserBlockingPriority,yc=rn.unstable_NormalPriority,xR=rn.unstable_LowPriority,RS=rn.unstable_IdlePriority,Cd=null,Yn=null;function RR(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Cd,t,void 0,(t.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:OR,NR=Math.log,DR=Math.LN2;function OR(t){return t>>>=0,t===0?32:31-(NR(t)/DR|0)|0}var Tu=64,Iu=4194304;function ga(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ga(a):(o&=s,o!==0&&(r=ga(o)))}else s=n&~i,s!==0?r=ga(s):o!==0&&(r=ga(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mn(e),i=1<<n,r|=t[n],e&=~i;return r}function AR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Mn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=AR(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function bp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NS(){var t=Tu;return Tu<<=1,!(Tu&4194240)&&(Tu=64),t}function rh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mn(e),t[e]=n}function $R(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Mn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function mg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function DS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var OS,gg,AS,PS,$S,xp=!1,_u=[],si=null,ai=null,li=null,Ya=new Map,Xa=new Map,Xr=[],MR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b0(t,e){switch(t){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":Ya.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xa.delete(e.pointerId)}}function ra(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ml(e),e!==null&&gg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LR(t,e,n,r,i){switch(e){case"focusin":return si=ra(si,t,e,n,r,i),!0;case"dragenter":return ai=ra(ai,t,e,n,r,i),!0;case"mouseover":return li=ra(li,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ya.set(o,ra(Ya.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Xa.set(o,ra(Xa.get(o)||null,t,e,n,r,i)),!0}return!1}function MS(t){var e=Vi(t.target);if(e!==null){var n=Eo(e);if(n!==null){if(e=n.tag,e===13){if(e=IS(n),e!==null){t.blockedOn=e,$S(t.priority,function(){AS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tp=r,n.target.dispatchEvent(r),Tp=null}else return e=Ml(n),e!==null&&gg(e),t.blockedOn=n,!1;e.shift()}return!0}function x0(t,e,n){Yu(t)&&n.delete(e)}function FR(){xp=!1,si!==null&&Yu(si)&&(si=null),ai!==null&&Yu(ai)&&(ai=null),li!==null&&Yu(li)&&(li=null),Ya.forEach(x0),Xa.forEach(x0)}function ia(t,e){t.blockedOn===e&&(t.blockedOn=null,xp||(xp=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,FR)))}function Ja(t){function e(i){return ia(i,t)}if(0<_u.length){ia(_u[0],t);for(var n=1;n<_u.length;n++){var r=_u[n];r.blockedOn===t&&(r.blockedOn=null)}}for(si!==null&&ia(si,t),ai!==null&&ia(ai,t),li!==null&&ia(li,t),Ya.forEach(e),Xa.forEach(e),n=0;n<Xr.length;n++)r=Xr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xr.length&&(n=Xr[0],n.blockedOn===null);)MS(n),n.blockedOn===null&&Xr.shift()}var es=Ur.ReactCurrentBatchConfig,Ec=!0;function UR(t,e,n,r){var i=be,o=es.transition;es.transition=null;try{be=1,vg(t,e,n,r)}finally{be=i,es.transition=o}}function jR(t,e,n,r){var i=be,o=es.transition;es.transition=null;try{be=4,vg(t,e,n,r)}finally{be=i,es.transition=o}}function vg(t,e,n,r){if(Ec){var i=Rp(t,e,n,r);if(i===null)hh(t,e,r,Sc,n),b0(t,r);else if(LR(i,t,e,n,r))r.stopPropagation();else if(b0(t,r),e&4&&-1<MR.indexOf(t)){for(;i!==null;){var o=Ml(i);if(o!==null&&OS(o),o=Rp(t,e,n,r),o===null&&hh(t,e,r,Sc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else hh(t,e,r,null,n)}}var Sc=null;function Rp(t,e,n,r){if(Sc=null,t=hg(r),t=Vi(t),t!==null)if(e=Eo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=IS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sc=t,null}function LS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bR()){case pg:return 1;case xS:return 4;case yc:case xR:return 16;case RS:return 536870912;default:return 16}default:return 16}}var ni=null,yg=null,Xu=null;function FS(){if(Xu)return Xu;var t,e=yg,n=e.length,r,i="value"in ni?ni.value:ni.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Xu=i.slice(t,1<r?1-r:void 0)}function Ju(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ku(){return!0}function R0(){return!1}function un(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ku:R0,this.isPropagationStopped=R0,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),e}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wg=un(As),$l=ze({},As,{view:0,detail:0}),BR=un($l),ih,oh,oa,Td=ze({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oa&&(oa&&t.type==="mousemove"?(ih=t.screenX-oa.screenX,oh=t.screenY-oa.screenY):oh=ih=0,oa=t),ih)},movementY:function(t){return"movementY"in t?t.movementY:oh}}),N0=un(Td),VR=ze({},Td,{dataTransfer:0}),zR=un(VR),HR=ze({},$l,{relatedTarget:0}),sh=un(HR),WR=ze({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),KR=un(WR),qR=ze({},As,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GR=un(qR),QR=ze({},As,{data:0}),D0=un(QR),YR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JR[t])?!!e[t]:!1}function Eg(){return ZR}var eN=ze({},$l,{key:function(t){if(t.key){var e=YR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ju(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eg,charCode:function(t){return t.type==="keypress"?Ju(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ju(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tN=un(eN),nN=ze({},Td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O0=un(nN),rN=ze({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eg}),iN=un(rN),oN=ze({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),sN=un(oN),aN=ze({},Td,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lN=un(aN),uN=[9,13,27,32],Sg=kr&&"CompositionEvent"in window,xa=null;kr&&"documentMode"in document&&(xa=document.documentMode);var cN=kr&&"TextEvent"in window&&!xa,US=kr&&(!Sg||xa&&8<xa&&11>=xa),A0=String.fromCharCode(32),P0=!1;function jS(t,e){switch(t){case"keyup":return uN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lo=!1;function dN(t,e){switch(t){case"compositionend":return BS(e);case"keypress":return e.which!==32?null:(P0=!0,A0);case"textInput":return t=e.data,t===A0&&P0?null:t;default:return null}}function fN(t,e){if(Lo)return t==="compositionend"||!Sg&&jS(t,e)?(t=FS(),Xu=yg=ni=null,Lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return US&&e.locale!=="ko"?null:e.data;default:return null}}var hN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hN[t.type]:e==="textarea"}function VS(t,e,n,r){wS(r),e=Cc(e,"onChange"),0<e.length&&(n=new wg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ra=null,Za=null;function pN(t){ZS(t,0)}function Id(t){var e=jo(t);if(fS(e))return t}function mN(t,e){if(t==="change")return e}var zS=!1;if(kr){var ah;if(kr){var lh="oninput"in document;if(!lh){var M0=document.createElement("div");M0.setAttribute("oninput","return;"),lh=typeof M0.oninput=="function"}ah=lh}else ah=!1;zS=ah&&(!document.documentMode||9<document.documentMode)}function L0(){Ra&&(Ra.detachEvent("onpropertychange",HS),Za=Ra=null)}function HS(t){if(t.propertyName==="value"&&Id(Za)){var e=[];VS(e,Za,t,hg(t)),TS(pN,e)}}function gN(t,e,n){t==="focusin"?(L0(),Ra=e,Za=n,Ra.attachEvent("onpropertychange",HS)):t==="focusout"&&L0()}function vN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Id(Za)}function yN(t,e){if(t==="click")return Id(e)}function wN(t,e){if(t==="input"||t==="change")return Id(e)}function EN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fn=typeof Object.is=="function"?Object.is:EN;function el(t,e){if(Fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!dp.call(e,i)||!Fn(t[i],e[i]))return!1}return!0}function F0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function U0(t,e){var n=F0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=F0(n)}}function WS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?WS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KS(){for(var t=window,e=mc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mc(t.document)}return e}function Cg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function SN(t){var e=KS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&WS(n.ownerDocument.documentElement,n)){if(r!==null&&Cg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=U0(n,o);var s=U0(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CN=kr&&"documentMode"in document&&11>=document.documentMode,Fo=null,Np=null,Na=null,Dp=!1;function j0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dp||Fo==null||Fo!==mc(r)||(r=Fo,"selectionStart"in r&&Cg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Na&&el(Na,r)||(Na=r,r=Cc(Np,"onSelect"),0<r.length&&(e=new wg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fo)))}function bu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Uo={animationend:bu("Animation","AnimationEnd"),animationiteration:bu("Animation","AnimationIteration"),animationstart:bu("Animation","AnimationStart"),transitionend:bu("Transition","TransitionEnd")},uh={},qS={};kr&&(qS=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function _d(t){if(uh[t])return uh[t];if(!Uo[t])return t;var e=Uo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qS)return uh[t]=e[n];return t}var GS=_d("animationend"),QS=_d("animationiteration"),YS=_d("animationstart"),XS=_d("transitionend"),JS=new Map,B0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(t,e){JS.set(t,e),wo(e,[t])}for(var ch=0;ch<B0.length;ch++){var dh=B0[ch],TN=dh.toLowerCase(),IN=dh[0].toUpperCase()+dh.slice(1);xi(TN,"on"+IN)}xi(GS,"onAnimationEnd");xi(QS,"onAnimationIteration");xi(YS,"onAnimationStart");xi("dblclick","onDoubleClick");xi("focusin","onFocus");xi("focusout","onBlur");xi(XS,"onTransitionEnd");cs("onMouseEnter",["mouseout","mouseover"]);cs("onMouseLeave",["mouseout","mouseover"]);cs("onPointerEnter",["pointerout","pointerover"]);cs("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_N=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function V0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TR(r,e,void 0,t),t.currentTarget=null}function ZS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;V0(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;V0(i,a,u),o=l}}}if(vc)throw t=kp,vc=!1,kp=null,t}function Oe(t,e){var n=e[Mp];n===void 0&&(n=e[Mp]=new Set);var r=t+"__bubble";n.has(r)||(eC(e,t,2,!1),n.add(r))}function fh(t,e,n){var r=0;e&&(r|=4),eC(n,t,r,e)}var xu="_reactListening"+Math.random().toString(36).slice(2);function tl(t){if(!t[xu]){t[xu]=!0,aS.forEach(function(n){n!=="selectionchange"&&(_N.has(n)||fh(n,!1,t),fh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xu]||(e[xu]=!0,fh("selectionchange",!1,e))}}function eC(t,e,n,r){switch(LS(e)){case 1:var i=UR;break;case 4:i=jR;break;default:i=vg}n=i.bind(null,e,n,t),i=void 0,!_p||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Vi(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}TS(function(){var u=o,c=hg(n),d=[];e:{var f=JS.get(t);if(f!==void 0){var h=wg,v=t;switch(t){case"keypress":if(Ju(n)===0)break e;case"keydown":case"keyup":h=tN;break;case"focusin":v="focus",h=sh;break;case"focusout":v="blur",h=sh;break;case"beforeblur":case"afterblur":h=sh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=N0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=zR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=iN;break;case GS:case QS:case YS:h=KR;break;case XS:h=sN;break;case"scroll":h=BR;break;case"wheel":h=lN;break;case"copy":case"cut":case"paste":h=GR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=O0}var w=(e&4)!==0,p=!w&&t==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var m=u,E;m!==null;){E=m;var S=E.stateNode;if(E.tag===5&&S!==null&&(E=S,g!==null&&(S=Qa(m,g),S!=null&&w.push(nl(m,S,E)))),p)break;m=m.return}0<w.length&&(f=new h(f,v,null,n,c),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Tp&&(v=n.relatedTarget||n.fromElement)&&(Vi(v)||v[br]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?Vi(v):null,v!==null&&(p=Eo(v),v!==p||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(w=N0,S="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=O0,S="onPointerLeave",g="onPointerEnter",m="pointer"),p=h==null?f:jo(h),E=v==null?f:jo(v),f=new w(S,m+"leave",h,n,c),f.target=p,f.relatedTarget=E,S=null,Vi(c)===u&&(w=new w(g,m+"enter",v,n,c),w.target=E,w.relatedTarget=p,S=w),p=S,h&&v)t:{for(w=h,g=v,m=0,E=w;E;E=Ro(E))m++;for(E=0,S=g;S;S=Ro(S))E++;for(;0<m-E;)w=Ro(w),m--;for(;0<E-m;)g=Ro(g),E--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=Ro(w),g=Ro(g)}w=null}else w=null;h!==null&&z0(d,f,h,w,!1),v!==null&&p!==null&&z0(d,p,v,w,!0)}}e:{if(f=u?jo(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var T=mN;else if($0(f))if(zS)T=wN;else{T=vN;var I=gN}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=yN);if(T&&(T=T(t,u))){VS(d,T,n,c);break e}I&&I(t,f,u),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&yp(f,"number",f.value)}switch(I=u?jo(u):window,t){case"focusin":($0(I)||I.contentEditable==="true")&&(Fo=I,Np=u,Na=null);break;case"focusout":Na=Np=Fo=null;break;case"mousedown":Dp=!0;break;case"contextmenu":case"mouseup":case"dragend":Dp=!1,j0(d,n,c);break;case"selectionchange":if(CN)break;case"keydown":case"keyup":j0(d,n,c)}var _;if(Sg)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Lo?jS(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(US&&n.locale!=="ko"&&(Lo||k!=="onCompositionStart"?k==="onCompositionEnd"&&Lo&&(_=FS()):(ni=c,yg="value"in ni?ni.value:ni.textContent,Lo=!0)),I=Cc(u,k),0<I.length&&(k=new D0(k,t,null,n,c),d.push({event:k,listeners:I}),_?k.data=_:(_=BS(n),_!==null&&(k.data=_)))),(_=cN?dN(t,n):fN(t,n))&&(u=Cc(u,"onBeforeInput"),0<u.length&&(c=new D0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=_))}ZS(d,e)})}function nl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Qa(t,n),o!=null&&r.unshift(nl(t,o,i)),o=Qa(t,e),o!=null&&r.push(nl(t,o,i))),t=t.return}return r}function Ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z0(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Qa(n,o),l!=null&&s.unshift(nl(n,l,a))):i||(l=Qa(n,o),l!=null&&s.push(nl(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var kN=/\r\n?/g,bN=/\u0000|\uFFFD/g;function H0(t){return(typeof t=="string"?t:""+t).replace(kN,`
`).replace(bN,"")}function Ru(t,e,n){if(e=H0(e),H0(t)!==e&&n)throw Error(D(425))}function Tc(){}var Op=null,Ap=null;function Pp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $p=typeof setTimeout=="function"?setTimeout:void 0,xN=typeof clearTimeout=="function"?clearTimeout:void 0,W0=typeof Promise=="function"?Promise:void 0,RN=typeof queueMicrotask=="function"?queueMicrotask:typeof W0<"u"?function(t){return W0.resolve(null).then(t).catch(NN)}:$p;function NN(t){setTimeout(function(){throw t})}function ph(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ja(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ja(e)}function ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function K0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Ps,rl="__reactProps$"+Ps,br="__reactContainer$"+Ps,Mp="__reactEvents$"+Ps,DN="__reactListeners$"+Ps,ON="__reactHandles$"+Ps;function Vi(t){var e=t[Kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[br]||n[Kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=K0(t);t!==null;){if(n=t[Kn])return n;t=K0(t)}return e}t=n,n=t.parentNode}return null}function Ml(t){return t=t[Kn]||t[br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function kd(t){return t[rl]||null}var Lp=[],Bo=-1;function Ri(t){return{current:t}}function Pe(t){0>Bo||(t.current=Lp[Bo],Lp[Bo]=null,Bo--)}function De(t,e){Bo++,Lp[Bo]=t.current,t.current=e}var Si={},At=Ri(Si),qt=Ri(!1),io=Si;function ds(t,e){var n=t.type.contextTypes;if(!n)return Si;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gt(t){return t=t.childContextTypes,t!=null}function Ic(){Pe(qt),Pe(At)}function q0(t,e,n){if(At.current!==Si)throw Error(D(168));De(At,e),De(qt,n)}function tC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(D(108,gR(t)||"Unknown",i));return ze({},n,r)}function _c(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Si,io=At.current,De(At,t),De(qt,qt.current),!0}function G0(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=tC(t,e,io),r.__reactInternalMemoizedMergedChildContext=t,Pe(qt),Pe(At),De(At,t)):Pe(qt),De(qt,n)}var dr=null,bd=!1,mh=!1;function nC(t){dr===null?dr=[t]:dr.push(t)}function AN(t){bd=!0,nC(t)}function Ni(){if(!mh&&dr!==null){mh=!0;var t=0,e=be;try{var n=dr;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,bd=!1}catch(i){throw dr!==null&&(dr=dr.slice(t+1)),bS(pg,Ni),i}finally{be=e,mh=!1}}return null}var Vo=[],zo=0,kc=null,bc=0,hn=[],pn=0,oo=null,gr=1,vr="";function Fi(t,e){Vo[zo++]=bc,Vo[zo++]=kc,kc=t,bc=e}function rC(t,e,n){hn[pn++]=gr,hn[pn++]=vr,hn[pn++]=oo,oo=t;var r=gr;t=vr;var i=32-Mn(r)-1;r&=~(1<<i),n+=1;var o=32-Mn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,gr=1<<32-Mn(e)+i|n<<i|r,vr=o+t}else gr=1<<o|n<<i|r,vr=t}function Tg(t){t.return!==null&&(Fi(t,1),rC(t,1,0))}function Ig(t){for(;t===kc;)kc=Vo[--zo],Vo[zo]=null,bc=Vo[--zo],Vo[zo]=null;for(;t===oo;)oo=hn[--pn],hn[pn]=null,vr=hn[--pn],hn[pn]=null,gr=hn[--pn],hn[pn]=null}var nn=null,en=null,Fe=!1,An=null;function iC(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Q0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nn=t,en=ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=oo!==null?{id:gr,overflow:vr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nn=t,en=null,!0):!1;default:return!1}}function Fp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Up(t){if(Fe){var e=en;if(e){var n=e;if(!Q0(t,e)){if(Fp(t))throw Error(D(418));e=ui(n.nextSibling);var r=nn;e&&Q0(t,e)?iC(r,n):(t.flags=t.flags&-4097|2,Fe=!1,nn=t)}}else{if(Fp(t))throw Error(D(418));t.flags=t.flags&-4097|2,Fe=!1,nn=t}}}function Y0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nn=t}function Nu(t){if(t!==nn)return!1;if(!Fe)return Y0(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pp(t.type,t.memoizedProps)),e&&(e=en)){if(Fp(t))throw oC(),Error(D(418));for(;e;)iC(t,e),e=ui(e.nextSibling)}if(Y0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=ui(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=nn?ui(t.stateNode.nextSibling):null;return!0}function oC(){for(var t=en;t;)t=ui(t.nextSibling)}function fs(){en=nn=null,Fe=!1}function _g(t){An===null?An=[t]:An.push(t)}var PN=Ur.ReactCurrentBatchConfig;function Dn(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var xc=Ri(null),Rc=null,Ho=null,kg=null;function bg(){kg=Ho=Rc=null}function xg(t){var e=xc.current;Pe(xc),t._currentValue=e}function jp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ts(t,e){Rc=t,kg=Ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(kg!==t)if(t={context:t,memoizedValue:e,next:null},Ho===null){if(Rc===null)throw Error(D(308));Ho=t,Rc.dependencies={lanes:0,firstContext:t}}else Ho=Ho.next=t;return e}var zi=null;function Rg(t){zi===null?zi=[t]:zi.push(t)}function sC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Rg(e)):(n.next=i.next,i.next=n),e.interleaved=n,xr(t,r)}function xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qr=!1;function Ng(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ci(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xr(t,n)}return i=r.interleaved,i===null?(e.next=e,Rg(r)):(e.next=i.next,i.next=e),r.interleaved=e,xr(t,n)}function Zu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mg(t,n)}}function X0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nc(t,e,n,r){var i=t.updateQueue;Qr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(f=e,h=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(h,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(h,d,f):v,f==null)break e;d=ze({},d,f);break e;case 2:Qr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ao|=s,t.lanes=s,t.memoizedState=d}}function J0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var lC=new sS.Component().refs;function Bp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xd={isMounted:function(t){return(t=t._reactInternals)?Eo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=fi(t),o=Sr(r,i);o.payload=e,n!=null&&(o.callback=n),e=ci(t,o,i),e!==null&&(Ln(e,t,i,r),Zu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=fi(t),o=Sr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ci(t,o,i),e!==null&&(Ln(e,t,i,r),Zu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),r=fi(t),i=Sr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ci(t,i,r),e!==null&&(Ln(e,t,r,n),Zu(e,t,r))}};function Z0(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!el(n,r)||!el(i,o):!0}function uC(t,e,n){var r=!1,i=Si,o=e.contextType;return typeof o=="object"&&o!==null?o=wn(o):(i=Gt(e)?io:At.current,r=e.contextTypes,o=(r=r!=null)?ds(t,i):Si),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ew(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xd.enqueueReplaceState(e,e.state,null)}function Vp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=lC,Ng(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=wn(o):(o=Gt(e)?io:At.current,i.context=ds(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Bp(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xd.enqueueReplaceState(i,i.state,null),Nc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function sa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===lC&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function Du(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tw(t){var e=t._init;return e(t._payload)}function cC(t){function e(g,m){if(t){var E=g.deletions;E===null?(g.deletions=[m],g.flags|=16):E.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=hi(g,m),g.index=0,g.sibling=null,g}function o(g,m,E){return g.index=E,t?(E=g.alternate,E!==null?(E=E.index,E<m?(g.flags|=2,m):E):(g.flags|=2,m)):(g.flags|=1048576,m)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,E,S){return m===null||m.tag!==6?(m=Ch(E,g.mode,S),m.return=g,m):(m=i(m,E),m.return=g,m)}function l(g,m,E,S){var T=E.type;return T===Mo?c(g,m,E.props.children,S,E.key):m!==null&&(m.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Gr&&tw(T)===m.type)?(S=i(m,E.props),S.ref=sa(g,m,E),S.return=g,S):(S=oc(E.type,E.key,E.props,null,g.mode,S),S.ref=sa(g,m,E),S.return=g,S)}function u(g,m,E,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==E.containerInfo||m.stateNode.implementation!==E.implementation?(m=Th(E,g.mode,S),m.return=g,m):(m=i(m,E.children||[]),m.return=g,m)}function c(g,m,E,S,T){return m===null||m.tag!==7?(m=Xi(E,g.mode,S,T),m.return=g,m):(m=i(m,E),m.return=g,m)}function d(g,m,E){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ch(""+m,g.mode,E),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Eu:return E=oc(m.type,m.key,m.props,null,g.mode,E),E.ref=sa(g,null,m),E.return=g,E;case $o:return m=Th(m,g.mode,E),m.return=g,m;case Gr:var S=m._init;return d(g,S(m._payload),E)}if(ma(m)||ta(m))return m=Xi(m,g.mode,E,null),m.return=g,m;Du(g,m)}return null}function f(g,m,E,S){var T=m!==null?m.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return T!==null?null:a(g,m,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Eu:return E.key===T?l(g,m,E,S):null;case $o:return E.key===T?u(g,m,E,S):null;case Gr:return T=E._init,f(g,m,T(E._payload),S)}if(ma(E)||ta(E))return T!==null?null:c(g,m,E,S,null);Du(g,E)}return null}function h(g,m,E,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(E)||null,a(m,g,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Eu:return g=g.get(S.key===null?E:S.key)||null,l(m,g,S,T);case $o:return g=g.get(S.key===null?E:S.key)||null,u(m,g,S,T);case Gr:var I=S._init;return h(g,m,E,I(S._payload),T)}if(ma(S)||ta(S))return g=g.get(E)||null,c(m,g,S,T,null);Du(m,S)}return null}function v(g,m,E,S){for(var T=null,I=null,_=m,k=m=0,M=null;_!==null&&k<E.length;k++){_.index>k?(M=_,_=null):M=_.sibling;var A=f(g,_,E[k],S);if(A===null){_===null&&(_=M);break}t&&_&&A.alternate===null&&e(g,_),m=o(A,m,k),I===null?T=A:I.sibling=A,I=A,_=M}if(k===E.length)return n(g,_),Fe&&Fi(g,k),T;if(_===null){for(;k<E.length;k++)_=d(g,E[k],S),_!==null&&(m=o(_,m,k),I===null?T=_:I.sibling=_,I=_);return Fe&&Fi(g,k),T}for(_=r(g,_);k<E.length;k++)M=h(_,g,k,E[k],S),M!==null&&(t&&M.alternate!==null&&_.delete(M.key===null?k:M.key),m=o(M,m,k),I===null?T=M:I.sibling=M,I=M);return t&&_.forEach(function(L){return e(g,L)}),Fe&&Fi(g,k),T}function w(g,m,E,S){var T=ta(E);if(typeof T!="function")throw Error(D(150));if(E=T.call(E),E==null)throw Error(D(151));for(var I=T=null,_=m,k=m=0,M=null,A=E.next();_!==null&&!A.done;k++,A=E.next()){_.index>k?(M=_,_=null):M=_.sibling;var L=f(g,_,A.value,S);if(L===null){_===null&&(_=M);break}t&&_&&L.alternate===null&&e(g,_),m=o(L,m,k),I===null?T=L:I.sibling=L,I=L,_=M}if(A.done)return n(g,_),Fe&&Fi(g,k),T;if(_===null){for(;!A.done;k++,A=E.next())A=d(g,A.value,S),A!==null&&(m=o(A,m,k),I===null?T=A:I.sibling=A,I=A);return Fe&&Fi(g,k),T}for(_=r(g,_);!A.done;k++,A=E.next())A=h(_,g,k,A.value,S),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?k:A.key),m=o(A,m,k),I===null?T=A:I.sibling=A,I=A);return t&&_.forEach(function(G){return e(g,G)}),Fe&&Fi(g,k),T}function p(g,m,E,S){if(typeof E=="object"&&E!==null&&E.type===Mo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Eu:e:{for(var T=E.key,I=m;I!==null;){if(I.key===T){if(T=E.type,T===Mo){if(I.tag===7){n(g,I.sibling),m=i(I,E.props.children),m.return=g,g=m;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Gr&&tw(T)===I.type){n(g,I.sibling),m=i(I,E.props),m.ref=sa(g,I,E),m.return=g,g=m;break e}n(g,I);break}else e(g,I);I=I.sibling}E.type===Mo?(m=Xi(E.props.children,g.mode,S,E.key),m.return=g,g=m):(S=oc(E.type,E.key,E.props,null,g.mode,S),S.ref=sa(g,m,E),S.return=g,g=S)}return s(g);case $o:e:{for(I=E.key;m!==null;){if(m.key===I)if(m.tag===4&&m.stateNode.containerInfo===E.containerInfo&&m.stateNode.implementation===E.implementation){n(g,m.sibling),m=i(m,E.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Th(E,g.mode,S),m.return=g,g=m}return s(g);case Gr:return I=E._init,p(g,m,I(E._payload),S)}if(ma(E))return v(g,m,E,S);if(ta(E))return w(g,m,E,S);Du(g,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,E),m.return=g,g=m):(n(g,m),m=Ch(E,g.mode,S),m.return=g,g=m),s(g)):n(g,m)}return p}var hs=cC(!0),dC=cC(!1),Ll={},Xn=Ri(Ll),il=Ri(Ll),ol=Ri(Ll);function Hi(t){if(t===Ll)throw Error(D(174));return t}function Dg(t,e){switch(De(ol,e),De(il,t),De(Xn,Ll),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ep(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ep(e,t)}Pe(Xn),De(Xn,e)}function ps(){Pe(Xn),Pe(il),Pe(ol)}function fC(t){Hi(ol.current);var e=Hi(Xn.current),n=Ep(e,t.type);e!==n&&(De(il,t),De(Xn,n))}function Og(t){il.current===t&&(Pe(Xn),Pe(il))}var je=Ri(0);function Dc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gh=[];function Ag(){for(var t=0;t<gh.length;t++)gh[t]._workInProgressVersionPrimary=null;gh.length=0}var ec=Ur.ReactCurrentDispatcher,vh=Ur.ReactCurrentBatchConfig,so=0,Ve=null,tt=null,lt=null,Oc=!1,Da=!1,sl=0,$N=0;function Tt(){throw Error(D(321))}function Pg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fn(t[n],e[n]))return!1;return!0}function $g(t,e,n,r,i,o){if(so=o,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ec.current=t===null||t.memoizedState===null?UN:jN,t=n(r,i),Da){o=0;do{if(Da=!1,sl=0,25<=o)throw Error(D(301));o+=1,lt=tt=null,e.updateQueue=null,ec.current=BN,t=n(r,i)}while(Da)}if(ec.current=Ac,e=tt!==null&&tt.next!==null,so=0,lt=tt=Ve=null,Oc=!1,e)throw Error(D(300));return t}function Mg(){var t=sl!==0;return sl=0,t}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ve.memoizedState=lt=t:lt=lt.next=t,lt}function En(){if(tt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=lt===null?Ve.memoizedState:lt.next;if(e!==null)lt=e,tt=t;else{if(t===null)throw Error(D(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},lt===null?Ve.memoizedState=lt=t:lt=lt.next=t}return lt}function al(t,e){return typeof e=="function"?e(t):e}function yh(t){var e=En(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=tt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((so&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Ve.lanes|=c,ao|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Fn(r,e.memoizedState)||(Kt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ve.lanes|=o,ao|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wh(t){var e=En(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Fn(o,e.memoizedState)||(Kt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function hC(){}function pC(t,e){var n=Ve,r=En(),i=e(),o=!Fn(r.memoizedState,i);if(o&&(r.memoizedState=i,Kt=!0),r=r.queue,Lg(vC.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,ll(9,gC.bind(null,n,r,i,e),void 0,null),ut===null)throw Error(D(349));so&30||mC(n,e,i)}return i}function mC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gC(t,e,n,r){e.value=n,e.getSnapshot=r,yC(e)&&wC(t)}function vC(t,e,n){return n(function(){yC(e)&&wC(t)})}function yC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fn(t,n)}catch{return!0}}function wC(t){var e=xr(t,1);e!==null&&Ln(e,t,1,-1)}function nw(t){var e=Hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:t},e.queue=t,t=t.dispatch=FN.bind(null,Ve,t),[e.memoizedState,t]}function ll(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function EC(){return En().memoizedState}function tc(t,e,n,r){var i=Hn();Ve.flags|=t,i.memoizedState=ll(1|e,n,void 0,r===void 0?null:r)}function Rd(t,e,n,r){var i=En();r=r===void 0?null:r;var o=void 0;if(tt!==null){var s=tt.memoizedState;if(o=s.destroy,r!==null&&Pg(r,s.deps)){i.memoizedState=ll(e,n,o,r);return}}Ve.flags|=t,i.memoizedState=ll(1|e,n,o,r)}function rw(t,e){return tc(8390656,8,t,e)}function Lg(t,e){return Rd(2048,8,t,e)}function SC(t,e){return Rd(4,2,t,e)}function CC(t,e){return Rd(4,4,t,e)}function TC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IC(t,e,n){return n=n!=null?n.concat([t]):null,Rd(4,4,TC.bind(null,e,t),n)}function Fg(){}function _C(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kC(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bC(t,e,n){return so&21?(Fn(n,e)||(n=NS(),Ve.lanes|=n,ao|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=n)}function MN(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=vh.transition;vh.transition={};try{t(!1),e()}finally{be=n,vh.transition=r}}function xC(){return En().memoizedState}function LN(t,e,n){var r=fi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},RC(t))NC(e,n);else if(n=sC(t,e,n,r),n!==null){var i=Ut();Ln(n,t,r,i),DC(n,e,r)}}function FN(t,e,n){var r=fi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(RC(t))NC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Fn(a,s)){var l=e.interleaved;l===null?(i.next=i,Rg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=sC(t,e,i,r),n!==null&&(i=Ut(),Ln(n,t,r,i),DC(n,e,r))}}function RC(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function NC(t,e){Da=Oc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mg(t,n)}}var Ac={readContext:wn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},UN={readContext:wn,useCallback:function(t,e){return Hn().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:rw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tc(4194308,4,TC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tc(4194308,4,t,e)},useInsertionEffect:function(t,e){return tc(4,2,t,e)},useMemo:function(t,e){var n=Hn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LN.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=Hn();return t={current:t},e.memoizedState=t},useState:nw,useDebugValue:Fg,useDeferredValue:function(t){return Hn().memoizedState=t},useTransition:function(){var t=nw(!1),e=t[0];return t=MN.bind(null,t[1]),Hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,i=Hn();if(Fe){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),ut===null)throw Error(D(349));so&30||mC(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,rw(vC.bind(null,r,o,t),[t]),r.flags|=2048,ll(9,gC.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Hn(),e=ut.identifierPrefix;if(Fe){var n=vr,r=gr;n=(r&~(1<<32-Mn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$N++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jN={readContext:wn,useCallback:_C,useContext:wn,useEffect:Lg,useImperativeHandle:IC,useInsertionEffect:SC,useLayoutEffect:CC,useMemo:kC,useReducer:yh,useRef:EC,useState:function(){return yh(al)},useDebugValue:Fg,useDeferredValue:function(t){var e=En();return bC(e,tt.memoizedState,t)},useTransition:function(){var t=yh(al)[0],e=En().memoizedState;return[t,e]},useMutableSource:hC,useSyncExternalStore:pC,useId:xC,unstable_isNewReconciler:!1},BN={readContext:wn,useCallback:_C,useContext:wn,useEffect:Lg,useImperativeHandle:IC,useInsertionEffect:SC,useLayoutEffect:CC,useMemo:kC,useReducer:wh,useRef:EC,useState:function(){return wh(al)},useDebugValue:Fg,useDeferredValue:function(t){var e=En();return tt===null?e.memoizedState=t:bC(e,tt.memoizedState,t)},useTransition:function(){var t=wh(al)[0],e=En().memoizedState;return[t,e]},useMutableSource:hC,useSyncExternalStore:pC,useId:xC,unstable_isNewReconciler:!1};function ms(t,e){try{var n="",r=e;do n+=mR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Eh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VN=typeof WeakMap=="function"?WeakMap:Map;function OC(t,e,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$c||($c=!0,Zp=r),zp(t,e)},n}function AC(t,e,n){n=Sr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){zp(t,e),typeof r!="function"&&(di===null?di=new Set([this]):di.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function iw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nD.bind(null,t,e,n),e.then(t,t))}function ow(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sr(-1,1),e.tag=2,ci(n,e,1))),n.lanes|=1),t)}var zN=Ur.ReactCurrentOwner,Kt=!1;function Lt(t,e,n,r){e.child=t===null?dC(e,null,n,r):hs(e,t.child,n,r)}function aw(t,e,n,r,i){n=n.render;var o=e.ref;return ts(e,i),r=$g(t,e,n,r,o,i),n=Mg(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rr(t,e,i)):(Fe&&n&&Tg(e),e.flags|=1,Lt(t,e,r,i),e.child)}function lw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Kg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,PC(t,e,o,r,i)):(t=oc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:el,n(s,r)&&t.ref===e.ref)return Rr(t,e,i)}return e.flags|=1,t=hi(o,r),t.ref=e.ref,t.return=e,e.child=t}function PC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(el(o,r)&&t.ref===e.ref)if(Kt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Kt=!0);else return e.lanes=t.lanes,Rr(t,e,i)}return Hp(t,e,n,r,i)}function $C(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Ko,Zt),Zt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(Ko,Zt),Zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,De(Ko,Zt),Zt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,De(Ko,Zt),Zt|=r;return Lt(t,e,i,n),e.child}function MC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hp(t,e,n,r,i){var o=Gt(n)?io:At.current;return o=ds(e,o),ts(e,i),n=$g(t,e,n,r,o,i),r=Mg(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rr(t,e,i)):(Fe&&r&&Tg(e),e.flags|=1,Lt(t,e,n,i),e.child)}function uw(t,e,n,r,i){if(Gt(n)){var o=!0;_c(e)}else o=!1;if(ts(e,i),e.stateNode===null)nc(t,e),uC(e,n,r),Vp(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=wn(u):(u=Gt(n)?io:At.current,u=ds(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ew(e,s,r,u),Qr=!1;var f=e.memoizedState;s.state=f,Nc(e,r,s,i),l=e.memoizedState,a!==r||f!==l||qt.current||Qr?(typeof c=="function"&&(Bp(e,n,c,r),l=e.memoizedState),(a=Qr||Z0(e,n,a,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,aC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Dn(e.type,a),s.props=u,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=Gt(n)?io:At.current,l=ds(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&ew(e,s,r,l),Qr=!1,f=e.memoizedState,s.state=f,Nc(e,r,s,i);var v=e.memoizedState;a!==d||f!==v||qt.current||Qr?(typeof h=="function"&&(Bp(e,n,h,r),v=e.memoizedState),(u=Qr||Z0(e,n,u,r,f,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Wp(t,e,n,r,o,i)}function Wp(t,e,n,r,i,o){MC(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&G0(e,n,!1),Rr(t,e,o);r=e.stateNode,zN.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=hs(e,t.child,null,o),e.child=hs(e,null,a,o)):Lt(t,e,a,o),e.memoizedState=r.state,i&&G0(e,n,!0),e.child}function LC(t){var e=t.stateNode;e.pendingContext?q0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&q0(t,e.context,!1),Dg(t,e.containerInfo)}function cw(t,e,n,r,i){return fs(),_g(i),e.flags|=256,Lt(t,e,n,r),e.child}var Kp={dehydrated:null,treeContext:null,retryLane:0};function qp(t){return{baseLanes:t,cachePool:null,transitions:null}}function FC(t,e,n){var r=e.pendingProps,i=je.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(je,i&1),t===null)return Up(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Od(s,r,0,null),t=Xi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=qp(n),e.memoizedState=Kp,t):Ug(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return HN(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=hi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=hi(a,o):(o=Xi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?qp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Kp,r}return o=t.child,t=o.sibling,r=hi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ug(t,e){return e=Od({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ou(t,e,n,r){return r!==null&&_g(r),hs(e,t.child,null,n),t=Ug(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HN(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Eh(Error(D(422))),Ou(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Od({mode:"visible",children:r.children},i,0,null),o=Xi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&hs(e,t.child,null,s),e.child.memoizedState=qp(s),e.memoizedState=Kp,o);if(!(e.mode&1))return Ou(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(D(419)),r=Eh(o,r,void 0),Ou(t,e,s,r)}if(a=(s&t.childLanes)!==0,Kt||a){if(r=ut,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,xr(t,i),Ln(r,t,i,-1))}return Wg(),r=Eh(Error(D(421))),Ou(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rD.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,en=ui(i.nextSibling),nn=e,Fe=!0,An=null,t!==null&&(hn[pn++]=gr,hn[pn++]=vr,hn[pn++]=oo,gr=t.id,vr=t.overflow,oo=e),e=Ug(e,r.children),e.flags|=4096,e)}function dw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jp(t.return,e,n)}function Sh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function UC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Lt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dw(t,n,e);else if(t.tag===19)dw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Sh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Sh(e,!0,n,null,o);break;case"together":Sh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ao|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=hi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WN(t,e,n){switch(e.tag){case 3:LC(e),fs();break;case 5:fC(e);break;case 1:Gt(e.type)&&_c(e);break;case 4:Dg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(xc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?FC(t,e,n):(De(je,je.current&1),t=Rr(t,e,n),t!==null?t.sibling:null);De(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return UC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,$C(t,e,n)}return Rr(t,e,n)}var jC,Gp,BC,VC;jC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gp=function(){};BC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hi(Xn.current);var o=null;switch(n){case"input":i=gp(t,i),r=gp(t,r),o=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),o=[];break;case"textarea":i=wp(t,i),r=wp(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Tc)}Sp(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qa.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Oe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};VC=function(t,e,n,r){n!==r&&(e.flags|=4)};function aa(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function It(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function KN(t,e,n){var r=e.pendingProps;switch(Ig(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return Gt(e.type)&&Ic(),It(e),null;case 3:return r=e.stateNode,ps(),Pe(qt),Pe(At),Ag(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(nm(An),An=null))),Gp(t,e),It(e),null;case 5:Og(e);var i=Hi(ol.current);if(n=e.type,t!==null&&e.stateNode!=null)BC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return It(e),null}if(t=Hi(Xn.current),Nu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Kn]=e,r[rl]=o,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(i=0;i<va.length;i++)Oe(va[i],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":E0(r,o),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Oe("invalid",r);break;case"textarea":C0(r,o),Oe("invalid",r)}Sp(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ru(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ru(r.textContent,a,t),i=["children",""+a]):qa.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Oe("scroll",r)}switch(n){case"input":Su(r),S0(r,o,!0);break;case"textarea":Su(r),T0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Tc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Kn]=e,t[rl]=r,jC(t,e,!1,!1),e.stateNode=t;e:{switch(s=Cp(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),i=r;break;case"iframe":case"object":case"embed":Oe("load",t),i=r;break;case"video":case"audio":for(i=0;i<va.length;i++)Oe(va[i],t);i=r;break;case"source":Oe("error",t),i=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),i=r;break;case"details":Oe("toggle",t),i=r;break;case"input":E0(t,r),i=gp(t,r),Oe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":C0(t,r),i=wp(t,r),Oe("invalid",t);break;default:i=r}Sp(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?yS(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gS(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ga(t,l):typeof l=="number"&&Ga(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qa.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Oe("scroll",t):l!=null&&ug(t,o,l,s))}switch(n){case"input":Su(t),S0(t,r,!1);break;case"textarea":Su(t),T0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ei(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Xo(t,!!r.multiple,o,!1):r.defaultValue!=null&&Xo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Tc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return It(e),null;case 6:if(t&&e.stateNode!=null)VC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=Hi(ol.current),Hi(Xn.current),Nu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kn]=e,(o=r.nodeValue!==n)&&(t=nn,t!==null))switch(t.tag){case 3:Ru(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ru(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kn]=e,e.stateNode=r}return It(e),null;case 13:if(Pe(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&en!==null&&e.mode&1&&!(e.flags&128))oC(),fs(),e.flags|=98560,o=!1;else if(o=Nu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(D(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(D(317));o[Kn]=e}else fs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),o=!1}else An!==null&&(nm(An),An=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?nt===0&&(nt=3):Wg())),e.updateQueue!==null&&(e.flags|=4),It(e),null);case 4:return ps(),Gp(t,e),t===null&&tl(e.stateNode.containerInfo),It(e),null;case 10:return xg(e.type._context),It(e),null;case 17:return Gt(e.type)&&Ic(),It(e),null;case 19:if(Pe(je),o=e.memoizedState,o===null)return It(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)aa(o,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Dc(t),s!==null){for(e.flags|=128,aa(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(je,je.current&1|2),e.child}t=t.sibling}o.tail!==null&&qe()>gs&&(e.flags|=128,r=!0,aa(o,!1),e.lanes=4194304)}else{if(!r)if(t=Dc(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),aa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Fe)return It(e),null}else 2*qe()-o.renderingStartTime>gs&&n!==1073741824&&(e.flags|=128,r=!0,aa(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=qe(),e.sibling=null,n=je.current,De(je,r?n&1|2:n&1),e):(It(e),null);case 22:case 23:return Hg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zt&1073741824&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function qN(t,e){switch(Ig(e),e.tag){case 1:return Gt(e.type)&&Ic(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ps(),Pe(qt),Pe(At),Ag(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Og(e),null;case 13:if(Pe(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));fs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(je),null;case 4:return ps(),null;case 10:return xg(e.type._context),null;case 22:case 23:return Hg(),null;case 24:return null;default:return null}}var Au=!1,xt=!1,GN=typeof WeakSet=="function"?WeakSet:Set,F=null;function Wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function Qp(t,e,n){try{n()}catch(r){We(t,e,r)}}var fw=!1;function QN(t,e){if(Op=Ec,t=KS(),Cg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ap={focusedElem:t,selectionRange:n},Ec=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,p=v.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Dn(e.type,w),p);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(S){We(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return v=fw,fw=!1,v}function Oa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Qp(e,n,o)}i=i.next}while(i!==r)}}function Nd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zC(t){var e=t.alternate;e!==null&&(t.alternate=null,zC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kn],delete e[rl],delete e[Mp],delete e[DN],delete e[ON])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function HC(t){return t.tag===5||t.tag===3||t.tag===4}function hw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||HC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Tc));else if(r!==4&&(t=t.child,t!==null))for(Xp(t,e,n),t=t.sibling;t!==null;)Xp(t,e,n),t=t.sibling}function Jp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jp(t,e,n),t=t.sibling;t!==null;)Jp(t,e,n),t=t.sibling}var ht=null,On=!1;function Kr(t,e,n){for(n=n.child;n!==null;)WC(t,e,n),n=n.sibling}function WC(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Cd,n)}catch{}switch(n.tag){case 5:xt||Wo(n,e);case 6:var r=ht,i=On;ht=null,Kr(t,e,n),ht=r,On=i,ht!==null&&(On?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(On?(t=ht,n=n.stateNode,t.nodeType===8?ph(t.parentNode,n):t.nodeType===1&&ph(t,n),Ja(t)):ph(ht,n.stateNode));break;case 4:r=ht,i=On,ht=n.stateNode.containerInfo,On=!0,Kr(t,e,n),ht=r,On=i;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Qp(n,e,s),i=i.next}while(i!==r)}Kr(t,e,n);break;case 1:if(!xt&&(Wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}Kr(t,e,n);break;case 21:Kr(t,e,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,Kr(t,e,n),xt=r):Kr(t,e,n);break;default:Kr(t,e,n)}}function pw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GN),e.forEach(function(r){var i=iD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,On=!1;break e;case 3:ht=a.stateNode.containerInfo,On=!0;break e;case 4:ht=a.stateNode.containerInfo,On=!0;break e}a=a.return}if(ht===null)throw Error(D(160));WC(o,s,i),ht=null,On=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){We(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KC(e,t),e=e.sibling}function KC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),zn(t),r&4){try{Oa(3,t,t.return),Nd(3,t)}catch(w){We(t,t.return,w)}try{Oa(5,t,t.return)}catch(w){We(t,t.return,w)}}break;case 1:Nn(e,t),zn(t),r&512&&n!==null&&Wo(n,n.return);break;case 5:if(Nn(e,t),zn(t),r&512&&n!==null&&Wo(n,n.return),t.flags&32){var i=t.stateNode;try{Ga(i,"")}catch(w){We(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&hS(i,o),Cp(a,s);var u=Cp(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?yS(i,d):c==="dangerouslySetInnerHTML"?gS(i,d):c==="children"?Ga(i,d):ug(i,c,d,u)}switch(a){case"input":vp(i,o);break;case"textarea":pS(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Xo(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?Xo(i,!!o.multiple,o.defaultValue,!0):Xo(i,!!o.multiple,o.multiple?[]:"",!1))}i[rl]=o}catch(w){We(t,t.return,w)}}break;case 6:if(Nn(e,t),zn(t),r&4){if(t.stateNode===null)throw Error(D(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){We(t,t.return,w)}}break;case 3:if(Nn(e,t),zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ja(e.containerInfo)}catch(w){We(t,t.return,w)}break;case 4:Nn(e,t),zn(t);break;case 13:Nn(e,t),zn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Vg=qe())),r&4&&pw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(u=xt)||c,Nn(e,t),xt=u):Nn(e,t),zn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(F=t,c=t.child;c!==null;){for(d=F=c;F!==null;){switch(f=F,h=f.child,f.tag){case 0:case 11:case 14:case 15:Oa(4,f,f.return);break;case 1:Wo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){We(r,n,w)}}break;case 5:Wo(f,f.return);break;case 22:if(f.memoizedState!==null){gw(d);continue}}h!==null?(h.return=f,F=h):gw(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vS("display",s))}catch(w){We(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){We(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nn(e,t),zn(t),r&4&&pw(t);break;case 21:break;default:Nn(e,t),zn(t)}}function zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(HC(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ga(i,""),r.flags&=-33);var o=hw(t);Jp(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=hw(t);Xp(t,a,s);break;default:throw Error(D(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YN(t,e,n){F=t,qC(t)}function qC(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var i=F,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Au;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||xt;a=Au;var u=xt;if(Au=s,(xt=l)&&!u)for(F=i;F!==null;)s=F,l=s.child,s.tag===22&&s.memoizedState!==null?vw(i):l!==null?(l.return=s,F=l):vw(i);for(;o!==null;)F=o,qC(o),o=o.sibling;F=i,Au=a,xt=u}mw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,F=o):mw(t)}}function mw(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||Nd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Dn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&J0(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}J0(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ja(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}xt||e.flags&512&&Yp(e)}catch(f){We(e,e.return,f)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function gw(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function vw(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nd(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){We(e,i,l)}}var o=e.return;try{Yp(e)}catch(l){We(e,o,l)}break;case 5:var s=e.return;try{Yp(e)}catch(l){We(e,s,l)}}}catch(l){We(e,e.return,l)}if(e===t){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var XN=Math.ceil,Pc=Ur.ReactCurrentDispatcher,jg=Ur.ReactCurrentOwner,vn=Ur.ReactCurrentBatchConfig,ye=0,ut=null,Xe=null,mt=0,Zt=0,Ko=Ri(0),nt=0,ul=null,ao=0,Dd=0,Bg=0,Aa=null,zt=null,Vg=0,gs=1/0,ur=null,$c=!1,Zp=null,di=null,Pu=!1,ri=null,Mc=0,Pa=0,em=null,rc=-1,ic=0;function Ut(){return ye&6?qe():rc!==-1?rc:rc=qe()}function fi(t){return t.mode&1?ye&2&&mt!==0?mt&-mt:PN.transition!==null?(ic===0&&(ic=NS()),ic):(t=be,t!==0||(t=window.event,t=t===void 0?16:LS(t.type)),t):1}function Ln(t,e,n,r){if(50<Pa)throw Pa=0,em=null,Error(D(185));Pl(t,n,r),(!(ye&2)||t!==ut)&&(t===ut&&(!(ye&2)&&(Dd|=n),nt===4&&Jr(t,mt)),Qt(t,r),n===1&&ye===0&&!(e.mode&1)&&(gs=qe()+500,bd&&Ni()))}function Qt(t,e){var n=t.callbackNode;PR(t,e);var r=wc(t,t===ut?mt:0);if(r===0)n!==null&&k0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&k0(n),e===1)t.tag===0?AN(yw.bind(null,t)):nC(yw.bind(null,t)),RN(function(){!(ye&6)&&Ni()}),n=null;else{switch(DS(r)){case 1:n=pg;break;case 4:n=xS;break;case 16:n=yc;break;case 536870912:n=RS;break;default:n=yc}n=tT(n,GC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GC(t,e){if(rc=-1,ic=0,ye&6)throw Error(D(327));var n=t.callbackNode;if(ns()&&t.callbackNode!==n)return null;var r=wc(t,t===ut?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Lc(t,r);else{e=r;var i=ye;ye|=2;var o=YC();(ut!==t||mt!==e)&&(ur=null,gs=qe()+500,Yi(t,e));do try{eD();break}catch(a){QC(t,a)}while(1);bg(),Pc.current=o,ye=i,Xe!==null?e=0:(ut=null,mt=0,e=nt)}if(e!==0){if(e===2&&(i=bp(t),i!==0&&(r=i,e=tm(t,i))),e===1)throw n=ul,Yi(t,0),Jr(t,r),Qt(t,qe()),n;if(e===6)Jr(t,r);else{if(i=t.current.alternate,!(r&30)&&!JN(i)&&(e=Lc(t,r),e===2&&(o=bp(t),o!==0&&(r=o,e=tm(t,o))),e===1))throw n=ul,Yi(t,0),Jr(t,r),Qt(t,qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:Ui(t,zt,ur);break;case 3:if(Jr(t,r),(r&130023424)===r&&(e=Vg+500-qe(),10<e)){if(wc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$p(Ui.bind(null,t,zt,ur),e);break}Ui(t,zt,ur);break;case 4:if(Jr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Mn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XN(r/1960))-r,10<r){t.timeoutHandle=$p(Ui.bind(null,t,zt,ur),r);break}Ui(t,zt,ur);break;case 5:Ui(t,zt,ur);break;default:throw Error(D(329))}}}return Qt(t,qe()),t.callbackNode===n?GC.bind(null,t):null}function tm(t,e){var n=Aa;return t.current.memoizedState.isDehydrated&&(Yi(t,e).flags|=256),t=Lc(t,e),t!==2&&(e=zt,zt=n,e!==null&&nm(e)),t}function nm(t){zt===null?zt=t:zt.push.apply(zt,t)}function JN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Fn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jr(t,e){for(e&=~Bg,e&=~Dd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mn(e),r=1<<n;t[n]=-1,e&=~r}}function yw(t){if(ye&6)throw Error(D(327));ns();var e=wc(t,0);if(!(e&1))return Qt(t,qe()),null;var n=Lc(t,e);if(t.tag!==0&&n===2){var r=bp(t);r!==0&&(e=r,n=tm(t,r))}if(n===1)throw n=ul,Yi(t,0),Jr(t,e),Qt(t,qe()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ui(t,zt,ur),Qt(t,qe()),null}function zg(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(gs=qe()+500,bd&&Ni())}}function lo(t){ri!==null&&ri.tag===0&&!(ye&6)&&ns();var e=ye;ye|=1;var n=vn.transition,r=be;try{if(vn.transition=null,be=1,t)return t()}finally{be=r,vn.transition=n,ye=e,!(ye&6)&&Ni()}}function Hg(){Zt=Ko.current,Pe(Ko)}function Yi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xN(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(Ig(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ic();break;case 3:ps(),Pe(qt),Pe(At),Ag();break;case 5:Og(r);break;case 4:ps();break;case 13:Pe(je);break;case 19:Pe(je);break;case 10:xg(r.type._context);break;case 22:case 23:Hg()}n=n.return}if(ut=t,Xe=t=hi(t.current,null),mt=Zt=e,nt=0,ul=null,Bg=Dd=ao=0,zt=Aa=null,zi!==null){for(e=0;e<zi.length;e++)if(n=zi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}zi=null}return t}function QC(t,e){do{var n=Xe;try{if(bg(),ec.current=Ac,Oc){for(var r=Ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Oc=!1}if(so=0,lt=tt=Ve=null,Da=!1,sl=0,jg.current=null,n===null||n.return===null){nt=1,ul=e,Xe=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=ow(s);if(h!==null){h.flags&=-257,sw(h,s,a,o,e),h.mode&1&&iw(o,u,e),e=h,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){iw(o,u,e),Wg();break e}l=Error(D(426))}}else if(Fe&&a.mode&1){var p=ow(s);if(p!==null){!(p.flags&65536)&&(p.flags|=256),sw(p,s,a,o,e),_g(ms(l,a));break e}}o=l=ms(l,a),nt!==4&&(nt=2),Aa===null?Aa=[o]:Aa.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=OC(o,l,e);X0(o,g);break e;case 1:a=l;var m=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(di===null||!di.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=AC(o,a,e);X0(o,S);break e}}o=o.return}while(o!==null)}JC(n)}catch(T){e=T,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(1)}function YC(){var t=Pc.current;return Pc.current=Ac,t===null?Ac:t}function Wg(){(nt===0||nt===3||nt===2)&&(nt=4),ut===null||!(ao&268435455)&&!(Dd&268435455)||Jr(ut,mt)}function Lc(t,e){var n=ye;ye|=2;var r=YC();(ut!==t||mt!==e)&&(ur=null,Yi(t,e));do try{ZN();break}catch(i){QC(t,i)}while(1);if(bg(),ye=n,Pc.current=r,Xe!==null)throw Error(D(261));return ut=null,mt=0,nt}function ZN(){for(;Xe!==null;)XC(Xe)}function eD(){for(;Xe!==null&&!_R();)XC(Xe)}function XC(t){var e=eT(t.alternate,t,Zt);t.memoizedProps=t.pendingProps,e===null?JC(t):Xe=e,jg.current=null}function JC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qN(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Xe=null;return}}else if(n=KN(n,e,Zt),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);nt===0&&(nt=5)}function Ui(t,e,n){var r=be,i=vn.transition;try{vn.transition=null,be=1,tD(t,e,n,r)}finally{vn.transition=i,be=r}return null}function tD(t,e,n,r){do ns();while(ri!==null);if(ye&6)throw Error(D(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if($R(t,o),t===ut&&(Xe=ut=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pu||(Pu=!0,tT(yc,function(){return ns(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=vn.transition,vn.transition=null;var s=be;be=1;var a=ye;ye|=4,jg.current=null,QN(t,n),KC(n,t),SN(Ap),Ec=!!Op,Ap=Op=null,t.current=n,YN(n),kR(),ye=a,be=s,vn.transition=o}else t.current=n;if(Pu&&(Pu=!1,ri=t,Mc=i),o=t.pendingLanes,o===0&&(di=null),RR(n.stateNode),Qt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($c)throw $c=!1,t=Zp,Zp=null,t;return Mc&1&&t.tag!==0&&ns(),o=t.pendingLanes,o&1?t===em?Pa++:(Pa=0,em=t):Pa=0,Ni(),null}function ns(){if(ri!==null){var t=DS(Mc),e=vn.transition,n=be;try{if(vn.transition=null,be=16>t?16:t,ri===null)var r=!1;else{if(t=ri,ri=null,Mc=0,ye&6)throw Error(D(331));var i=ye;for(ye|=4,F=t.current;F!==null;){var o=F,s=o.child;if(F.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:Oa(8,c,o)}var d=c.child;if(d!==null)d.return=c,F=d;else for(;F!==null;){c=F;var f=c.sibling,h=c.return;if(zC(c),c===u){F=null;break}if(f!==null){f.return=h,F=f;break}F=h}}}var v=o.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var p=w.sibling;w.sibling=null,w=p}while(w!==null)}}F=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,F=s;else e:for(;F!==null;){if(o=F,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Oa(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,F=g;break e}F=o.return}}var m=t.current;for(F=m;F!==null;){s=F;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,F=E;else e:for(s=m;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nd(9,a)}}catch(T){We(a,a.return,T)}if(a===s){F=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,F=S;break e}F=a.return}}if(ye=i,Ni(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Cd,t)}catch{}r=!0}return r}finally{be=n,vn.transition=e}}return!1}function ww(t,e,n){e=ms(n,e),e=OC(t,e,1),t=ci(t,e,1),e=Ut(),t!==null&&(Pl(t,1,e),Qt(t,e))}function We(t,e,n){if(t.tag===3)ww(t,t,n);else for(;e!==null;){if(e.tag===3){ww(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(di===null||!di.has(r))){t=ms(n,t),t=AC(e,t,1),e=ci(e,t,1),t=Ut(),e!==null&&(Pl(e,1,t),Qt(e,t));break}}e=e.return}}function nD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(mt&n)===n&&(nt===4||nt===3&&(mt&130023424)===mt&&500>qe()-Vg?Yi(t,0):Bg|=n),Qt(t,e)}function ZC(t,e){e===0&&(t.mode&1?(e=Iu,Iu<<=1,!(Iu&130023424)&&(Iu=4194304)):e=1);var n=Ut();t=xr(t,e),t!==null&&(Pl(t,e,n),Qt(t,n))}function rD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ZC(t,n)}function iD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),ZC(t,n)}var eT;eT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kt=!1,WN(t,e,n);Kt=!!(t.flags&131072)}else Kt=!1,Fe&&e.flags&1048576&&rC(e,bc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nc(t,e),t=e.pendingProps;var i=ds(e,At.current);ts(e,n),i=$g(null,e,r,t,i,n);var o=Mg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(r)?(o=!0,_c(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ng(e),i.updater=xd,e.stateNode=i,i._reactInternals=e,Vp(e,r,t,n),e=Wp(null,e,r,!0,o,n)):(e.tag=0,Fe&&o&&Tg(e),Lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sD(r),t=Dn(r,t),i){case 0:e=Hp(null,e,r,t,n);break e;case 1:e=uw(null,e,r,t,n);break e;case 11:e=aw(null,e,r,t,n);break e;case 14:e=lw(null,e,r,Dn(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),Hp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),uw(t,e,r,i,n);case 3:e:{if(LC(e),t===null)throw Error(D(387));r=e.pendingProps,o=e.memoizedState,i=o.element,aC(t,e),Nc(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ms(Error(D(423)),e),e=cw(t,e,r,n,i);break e}else if(r!==i){i=ms(Error(D(424)),e),e=cw(t,e,r,n,i);break e}else for(en=ui(e.stateNode.containerInfo.firstChild),nn=e,Fe=!0,An=null,n=dC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fs(),r===i){e=Rr(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return fC(e),t===null&&Up(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Pp(r,i)?s=null:o!==null&&Pp(r,o)&&(e.flags|=32),MC(t,e),Lt(t,e,s,n),e.child;case 6:return t===null&&Up(e),null;case 13:return FC(t,e,n);case 4:return Dg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hs(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),aw(t,e,r,i,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,De(xc,r._currentValue),r._currentValue=s,o!==null)if(Fn(o.value,s)){if(o.children===i.children&&!qt.current){e=Rr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Sr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),jp(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(D(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),jp(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ts(e,n),i=wn(i),r=r(i),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,i=Dn(r,e.pendingProps),i=Dn(r.type,i),lw(t,e,r,i,n);case 15:return PC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),nc(t,e),e.tag=1,Gt(r)?(t=!0,_c(e)):t=!1,ts(e,n),uC(e,r,i),Vp(e,r,i,n),Wp(null,e,r,!0,t,n);case 19:return UC(t,e,n);case 22:return $C(t,e,n)}throw Error(D(156,e.tag))};function tT(t,e){return bS(t,e)}function oD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,r){return new oD(t,e,n,r)}function Kg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sD(t){if(typeof t=="function")return Kg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dg)return 11;if(t===fg)return 14}return 2}function hi(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function oc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Kg(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Mo:return Xi(n.children,i,o,e);case cg:s=8,i|=8;break;case fp:return t=gn(12,n,e,i|2),t.elementType=fp,t.lanes=o,t;case hp:return t=gn(13,n,e,i),t.elementType=hp,t.lanes=o,t;case pp:return t=gn(19,n,e,i),t.elementType=pp,t.lanes=o,t;case cS:return Od(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lS:s=10;break e;case uS:s=9;break e;case dg:s=11;break e;case fg:s=14;break e;case Gr:s=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=gn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Xi(t,e,n,r){return t=gn(7,t,r,e),t.lanes=n,t}function Od(t,e,n,r){return t=gn(22,t,r,e),t.elementType=cS,t.lanes=n,t.stateNode={isHidden:!1},t}function Ch(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function Th(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rh(0),this.expirationTimes=rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qg(t,e,n,r,i,o,s,a,l){return t=new aD(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=gn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ng(o),t}function lD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$o,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nT(t){if(!t)return Si;t=t._reactInternals;e:{if(Eo(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(Gt(n))return tC(t,n,e)}return e}function rT(t,e,n,r,i,o,s,a,l){return t=qg(n,r,!0,t,i,o,s,a,l),t.context=nT(null),n=t.current,r=Ut(),i=fi(n),o=Sr(r,i),o.callback=e??null,ci(n,o,i),t.current.lanes=i,Pl(t,i,r),Qt(t,r),t}function Ad(t,e,n,r){var i=e.current,o=Ut(),s=fi(i);return n=nT(n),e.context===null?e.context=n:e.pendingContext=n,e=Sr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ci(i,e,s),t!==null&&(Ln(t,i,s,o),Zu(t,i,s)),s}function Fc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ew(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gg(t,e){Ew(t,e),(t=t.alternate)&&Ew(t,e)}function uD(){return null}var iT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qg(t){this._internalRoot=t}Pd.prototype.render=Qg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Ad(t,e,null,null)};Pd.prototype.unmount=Qg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;lo(function(){Ad(null,t,null,null)}),e[br]=null}};function Pd(t){this._internalRoot=t}Pd.prototype.unstable_scheduleHydration=function(t){if(t){var e=PS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xr.length&&e!==0&&e<Xr[n].priority;n++);Xr.splice(n,0,t),n===0&&MS(t)}};function Yg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sw(){}function cD(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Fc(s);o.call(u)}}var s=rT(e,r,t,0,null,!1,!1,"",Sw);return t._reactRootContainer=s,t[br]=s.current,tl(t.nodeType===8?t.parentNode:t),lo(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Fc(l);a.call(u)}}var l=qg(t,0,!1,null,null,!1,!1,"",Sw);return t._reactRootContainer=l,t[br]=l.current,tl(t.nodeType===8?t.parentNode:t),lo(function(){Ad(e,l,n,r)}),l}function Md(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Fc(s);a.call(l)}}Ad(e,s,t,i)}else s=cD(n,e,t,i,r);return Fc(s)}OS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ga(e.pendingLanes);n!==0&&(mg(e,n|1),Qt(e,qe()),!(ye&6)&&(gs=qe()+500,Ni()))}break;case 13:lo(function(){var r=xr(t,1);if(r!==null){var i=Ut();Ln(r,t,1,i)}}),Gg(t,1)}};gg=function(t){if(t.tag===13){var e=xr(t,134217728);if(e!==null){var n=Ut();Ln(e,t,134217728,n)}Gg(t,134217728)}};AS=function(t){if(t.tag===13){var e=fi(t),n=xr(t,e);if(n!==null){var r=Ut();Ln(n,t,e,r)}Gg(t,e)}};PS=function(){return be};$S=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};Ip=function(t,e,n){switch(e){case"input":if(vp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=kd(r);if(!i)throw Error(D(90));fS(r),vp(r,i)}}}break;case"textarea":pS(t,n);break;case"select":e=n.value,e!=null&&Xo(t,!!n.multiple,e,!1)}};SS=zg;CS=lo;var dD={usingClientEntryPoint:!1,Events:[Ml,jo,kd,wS,ES,zg]},la={findFiberByHostInstance:Vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},fD={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_S(t),t===null?null:t.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||uD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{Cd=$u.inject(fD),Yn=$u}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dD;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yg(e))throw Error(D(200));return lD(t,e,null,n)};ln.createRoot=function(t,e){if(!Yg(t))throw Error(D(299));var n=!1,r="",i=iT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qg(t,1,!1,null,null,n,!1,r,i),t[br]=e.current,tl(t.nodeType===8?t.parentNode:t),new Qg(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=_S(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return lo(t)};ln.hydrate=function(t,e,n){if(!$d(e))throw Error(D(200));return Md(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!Yg(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=iT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=rT(e,null,t,1,n??null,i,!1,o,s),t[br]=e.current,tl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Pd(e)};ln.render=function(t,e,n){if(!$d(e))throw Error(D(200));return Md(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!$d(t))throw Error(D(40));return t._reactRootContainer?(lo(function(){Md(null,null,t,!1,function(){t._reactRootContainer=null,t[br]=null})}),!0):!1};ln.unstable_batchedUpdates=zg;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$d(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Md(t,e,n,!1,r)};ln.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=ln})(uR);const qo=Y1(Ka);var Cw=Ka;up.createRoot=Cw.createRoot,up.hydrateRoot=Cw.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function me(){return me=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},me.apply(this,arguments)}var Qe;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qe||(Qe={}));const Tw="popstate";function hD(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return cl("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Nr(i)}return mD(e,n,null,t)}function ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pD(){return Math.random().toString(36).substr(2,8)}function Iw(t,e){return{usr:t.state,key:t.key,idx:e}}function cl(t,e,n,r){return n===void 0&&(n=null),me({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?jr(e):e,{state:n,key:e&&e.key||r||pD()})}function Nr(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function jr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Qe.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(me({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=Qe.Pop;let p=c(),g=p==null?null:p-u;u=p,l&&l({action:a,location:w.location,delta:g})}function f(p,g){a=Qe.Push;let m=cl(w.location,p,g);n&&n(m,p),u=c()+1;let E=Iw(m,u),S=w.createHref(m);try{s.pushState(E,"",S)}catch{i.location.assign(S)}o&&l&&l({action:a,location:w.location,delta:1})}function h(p,g){a=Qe.Replace;let m=cl(w.location,p,g);n&&n(m,p),u=c();let E=Iw(m,u),S=w.createHref(m);s.replaceState(E,"",S),o&&l&&l({action:a,location:w.location,delta:0})}function v(p){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof p=="string"?p:Nr(p);return ae(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let w={get action(){return a},get location(){return t(i,s)},listen(p){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Tw,d),l=p,()=>{i.removeEventListener(Tw,d),l=null}},createHref(p){return e(i,p)},createURL:v,encodeLocation(p){let g=v(p);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(p){return s.go(p)}};return w}var et;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(et||(et={}));const gD=new Set(["lazy","caseSensitive","path","id","index","children"]);function vD(t){return t.index===!0}function oT(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(ae(i.index!==!0||!i.children,"Cannot specify children on an index route"),ae(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),vD(i)){let l=me({},i,{hasErrorBoundary:e(i),id:a});return r[a]=l,l}else{let l=me({},i,{id:a,hasErrorBoundary:e(i),children:void 0});return r[a]=l,i.children&&(l.children=oT(i.children,e,s,r)),l}})}function Go(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?jr(e):e,i=Fl(r.pathname||"/",n);if(i==null)return null;let o=sT(t);yD(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=bD(o[a],ND(i));return s}function sT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ae(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Cr([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(ae(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sT(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:_D(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of aT(o.path))i(o,s,l)}),e}function aT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=aT(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function yD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wD=/^:\w+$/,ED=3,SD=2,CD=1,TD=10,ID=-2,_w=t=>t==="*";function _D(t,e){let n=t.split("/"),r=n.length;return n.some(_w)&&(r+=ID),e&&(r+=SD),n.filter(i=>!_w(i)).reduce((i,o)=>i+(wD.test(o)?ED:o===""?CD:TD),r)}function kD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bD(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=xD({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:Cr([i,c.pathname]),pathnameBase:PD(Cr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Cr([i,c.pathnameBase]))}return o}function xD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=RD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=DD(a[d]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:t}}function RD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ND(t){try{return decodeURI(t)}catch(e){return vs(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function DD(t,e){try{return decodeURIComponent(t)}catch(n){return vs(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Fl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function OD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?jr(t):t;return{pathname:n?n.startsWith("/")?n:AD(n,e):e,search:$D(r),hash:MD(i)}}function AD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ih(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ld(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=jr(t):(i=me({},t),ae(!i.pathname||!i.pathname.includes("?"),Ih("?","pathname","search",i)),ae(!i.pathname||!i.pathname.includes("#"),Ih("#","pathname","hash",i)),ae(!i.search||!i.search.includes("#"),Ih("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=OD(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Cr=t=>t.join("/").replace(/\/\/+/g,"/"),PD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$D=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Jg{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function lT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uT=["post","put","patch","delete"],LD=new Set(uT),FD=["get",...uT],UD=new Set(FD),jD=new Set([301,302,303,307,308]),BD=new Set([307,308]),_h={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},VD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},kw={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zD=!dT,HD=t=>!!t.hasErrorBoundary;function WD(t){ae(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=t.detectErrorBoundary||HD,n={},r=oT(t.routes,e,void 0,n),i,o=me({v7_normalizeFormMethod:!1},t.future),s=null,a=new Set,l=null,u=null,c=null,d=t.hydrationData!=null,f=Go(r,t.history.location,t.basename),h=null;if(f==null){let b=Wn(404,{pathname:t.history.location.pathname}),{matches:x,route:N}=Aw(r);f=x,h={[N.id]:b}}let v=!f.some(b=>b.route.lazy)&&(!f.some(b=>b.route.loader)||t.hydrationData!=null),w,p={historyAction:t.history.action,location:t.history.location,matches:f,initialized:v,navigation:_h,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||h,fetchers:new Map,blockers:new Map},g=Qe.Pop,m=!1,E,S=!1,T=!1,I=[],_=[],k=new Map,M=0,A=-1,L=new Map,G=new Set,K=new Map,ue=new Map,ge=new Map,ve=!1;function le(){return s=t.history.listen(b=>{let{action:x,location:N,delta:V}=b;if(ve){ve=!1;return}vs(ge.size===0||V!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let H=Hr({currentLocation:p.location,nextLocation:N,historyAction:x});if(H&&V!=null){ve=!0,t.history.go(V*-1),sr(H,{state:"blocked",location:N,proceed(){sr(H,{state:"proceeding",proceed:void 0,reset:void 0,location:N}),t.history.go(V)},reset(){fn(H),P({blockers:new Map(w.state.blockers)})}});return}return we(x,N)}),p.initialized||we(Qe.Pop,p.location),w}function $(){s&&s(),a.clear(),E&&E.abort(),p.fetchers.forEach((b,x)=>$i(x)),p.blockers.forEach((b,x)=>fn(x))}function j(b){return a.add(b),()=>a.delete(b)}function P(b){p=me({},p,b),a.forEach(x=>x(p))}function ne(b,x){var N,V;let H=p.actionData!=null&&p.navigation.formMethod!=null&&cr(p.navigation.formMethod)&&p.navigation.state==="loading"&&((N=b.state)==null?void 0:N._isRedirect)!==!0,X;x.actionData?Object.keys(x.actionData).length>0?X=x.actionData:X=null:H?X=p.actionData:X=null;let J=x.loaderData?Ow(p.loaderData,x.loaderData,x.matches||[],x.errors):p.loaderData;for(let[Q]of ge)fn(Q);let re=m===!0||p.navigation.formMethod!=null&&cr(p.navigation.formMethod)&&((V=b.state)==null?void 0:V._isRedirect)!==!0;i&&(r=i,i=void 0),P(me({},x,{actionData:X,loaderData:J,historyAction:g,location:b,initialized:!0,navigation:_h,revalidation:"idle",restoreScrollPosition:Wr(b,x.matches||p.matches),preventScrollReset:re,blockers:new Map(p.blockers)})),S||g===Qe.Pop||(g===Qe.Push?t.history.push(b,b.state):g===Qe.Replace&&t.history.replace(b,b.state)),g=Qe.Pop,m=!1,S=!1,T=!1,I=[],_=[]}async function se(b,x){if(typeof b=="number"){t.history.go(b);return}let{path:N,submission:V,error:H}=bw(b,o,x),X=p.location,J=cl(p.location,N,x&&x.state);J=me({},J,t.history.encodeLocation(J));let re=x&&x.replace!=null?x.replace:void 0,Q=Qe.Push;re===!0?Q=Qe.Replace:re===!1||V!=null&&cr(V.formMethod)&&V.formAction===p.location.pathname+p.location.search&&(Q=Qe.Replace);let Ne=x&&"preventScrollReset"in x?x.preventScrollReset===!0:void 0,Ce=Hr({currentLocation:X,nextLocation:J,historyAction:Q});if(Ce){sr(Ce,{state:"blocked",location:J,proceed(){sr(Ce,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),se(b,x)},reset(){fn(Ce),P({blockers:new Map(p.blockers)})}});return}return await we(Q,J,{submission:V,pendingError:H,preventScrollReset:Ne,replace:x&&x.replace})}function He(){if(Jt(),P({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){we(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}we(g||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation})}}async function we(b,x,N){E&&E.abort(),E=null,g=b,S=(N&&N.startUninterruptedRevalidation)===!0,kn(p.location,p.matches),m=(N&&N.preventScrollReset)===!0;let V=i||r,H=N&&N.overrideNavigation,X=Go(V,x,t.basename);if(!X){let st=Wn(404,{pathname:x.pathname}),{matches:ft,route:xn}=Aw(V);ar(),ne(x,{matches:ft,loaderData:{},errors:{[xn.id]:st}});return}if(YD(p.location,x)&&!(N&&N.submission&&cr(N.submission.formMethod))){ne(x,{matches:X});return}E=new AbortController;let J=ca(t.history,x,E.signal,N&&N.submission),re,Q;if(N&&N.pendingError)Q={[Qo(X).route.id]:N.pendingError};else if(N&&N.submission&&cr(N.submission.formMethod)){let st=await ke(J,x,N.submission,X,{replace:N.replace});if(st.shortCircuited)return;re=st.pendingActionData,Q=st.pendingActionError,H=me({state:"loading",location:x},N.submission),J=new Request(J.url,{signal:J.signal})}let{shortCircuited:Ne,loaderData:Ce,errors:bn}=await Me(J,x,X,H,N&&N.submission,N&&N.fetcherSubmission,N&&N.replace,re,Q);Ne||(E=null,ne(x,me({matches:X},re?{actionData:re}:{},{loaderData:Ce,errors:bn})))}async function ke(b,x,N,V,H){Jt();let X=me({state:"submitting",location:x},N);P({navigation:X});let J,re=rm(V,x);if(!re.route.action&&!re.route.lazy)J={type:et.error,error:Wn(405,{method:b.method,pathname:x.pathname,routeId:re.route.id})};else if(J=await ua("action",b,re,V,n,e,w.basename),b.signal.aborted)return{shortCircuited:!0};if(rs(J)){let Q;return H&&H.replace!=null?Q=H.replace:Q=J.location===p.location.pathname+p.location.search,await St(p,J,{submission:N,replace:Q}),{shortCircuited:!0}}if($a(J)){let Q=Qo(V,re.route.id);return(H&&H.replace)!==!0&&(g=Qe.Push),{pendingActionData:{},pendingActionError:{[Q.route.id]:J.error}}}if(Wi(J))throw Wn(400,{type:"defer-action"});return{pendingActionData:{[re.route.id]:J.data}}}async function Me(b,x,N,V,H,X,J,re,Q){let Ne=V;Ne||(Ne=me({state:"loading",location:x,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},H));let Ce=H||X?H||X:Ne.formMethod&&Ne.formAction&&Ne.formData&&Ne.formEncType?{formMethod:Ne.formMethod,formAction:Ne.formAction,formData:Ne.formData,formEncType:Ne.formEncType}:void 0,bn=i||r,[st,ft]=xw(t.history,p,N,Ce,x,T,I,_,K,bn,t.basename,re,Q);if(ar(Ct=>!(N&&N.some(Rn=>Rn.route.id===Ct))||st&&st.some(Rn=>Rn.route.id===Ct)),st.length===0&&ft.length===0)return ne(x,me({matches:N,loaderData:{},errors:Q||null},re?{actionData:re}:{})),{shortCircuited:!0};if(!S){ft.forEach(Rn=>{let Li=p.fetchers.get(Rn.key),ea={state:"loading",data:Li&&Li.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(Rn.key,ea)});let Ct=re||p.actionData;P(me({navigation:Ne},Ct?Object.keys(Ct).length===0?{actionData:null}:{actionData:Ct}:{},ft.length>0?{fetchers:new Map(p.fetchers)}:{}))}A=++M,ft.forEach(Ct=>k.set(Ct.key,E));let{results:xn,loaderResults:Js,fetcherResults:Gf}=await Vn(p.matches,N,st,ft,b);if(b.signal.aborted)return{shortCircuited:!0};ft.forEach(Ct=>k.delete(Ct.key));let Zs=Pw(xn);if(Zs)return await St(p,Zs,{replace:J}),{shortCircuited:!0};let{loaderData:xo,errors:Qf}=Dw(p,N,st,Js,Q,ft,Gf,ue);ue.forEach((Ct,Rn)=>{Ct.subscribe(Li=>{(Li||Ct.done)&&ue.delete(Rn)})}),Xs();let Yf=bo(A);return me({loaderData:xo,errors:Qf},Yf||ft.length>0?{fetchers:new Map(p.fetchers)}:{})}function Et(b){return p.fetchers.get(b)||VD}function Mt(b,x,N,V){if(zD)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");k.has(b)&&or(b);let X=Go(i||r,N,t.basename);if(!X){Se(b,x,Wn(404,{pathname:N}));return}let{path:J,submission:re}=bw(N,o,V,!0),Q=rm(X,J);if(m=(V&&V.preventScrollReset)===!0,re&&cr(re.formMethod)){dn(b,x,J,Q,X,re);return}K.set(b,{routeId:x,path:J}),zr(b,x,J,Q,X,re)}async function dn(b,x,N,V,H,X){if(Jt(),K.delete(b),!V.route.action&&!V.route.lazy){let lr=Wn(405,{method:X.formMethod,pathname:N,routeId:x});Se(b,x,lr);return}let J=p.fetchers.get(b),re=me({state:"submitting"},X,{data:J&&J.data," _hasFetcherDoneAnything ":!0});p.fetchers.set(b,re),P({fetchers:new Map(p.fetchers)});let Q=new AbortController,Ne=ca(t.history,N,Q.signal,X);k.set(b,Q);let Ce=await ua("action",Ne,V,H,n,e,w.basename);if(Ne.signal.aborted){k.get(b)===Q&&k.delete(b);return}if(rs(Ce)){k.delete(b),G.add(b);let lr=me({state:"loading"},X,{data:void 0," _hasFetcherDoneAnything ":!0});return p.fetchers.set(b,lr),P({fetchers:new Map(p.fetchers)}),St(p,Ce,{submission:X,isFetchActionRedirect:!0})}if($a(Ce)){Se(b,x,Ce.error);return}if(Wi(Ce))throw Wn(400,{type:"defer-action"});let bn=p.navigation.location||p.location,st=ca(t.history,bn,Q.signal),ft=i||r,xn=p.navigation.state!=="idle"?Go(ft,p.navigation.location,t.basename):p.matches;ae(xn,"Didn't find any matches after fetcher action");let Js=++M;L.set(b,Js);let Gf=me({state:"loading",data:Ce.data},X,{" _hasFetcherDoneAnything ":!0});p.fetchers.set(b,Gf);let[Zs,xo]=xw(t.history,p,xn,X,bn,T,I,_,K,ft,t.basename,{[V.route.id]:Ce.data},void 0);xo.filter(lr=>lr.key!==b).forEach(lr=>{let Xf=lr.key,h0=p.fetchers.get(Xf),Fx={state:"loading",data:h0&&h0.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(Xf,Fx),k.set(Xf,Q)}),P({fetchers:new Map(p.fetchers)});let{results:Qf,loaderResults:Yf,fetcherResults:Ct}=await Vn(p.matches,xn,Zs,xo,st);if(Q.signal.aborted)return;L.delete(b),k.delete(b),xo.forEach(lr=>k.delete(lr.key));let Rn=Pw(Qf);if(Rn)return St(p,Rn);let{loaderData:Li,errors:ea}=Dw(p,p.matches,Zs,Yf,void 0,xo,Ct,ue),Mx={state:"idle",data:Ce.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(b,Mx);let Lx=bo(Js);p.navigation.state==="loading"&&Js>A?(ae(g,"Expected pending action"),E&&E.abort(),ne(p.navigation.location,{matches:xn,loaderData:Li,errors:ea,fetchers:new Map(p.fetchers)})):(P(me({errors:ea,loaderData:Ow(p.loaderData,Li,xn,ea)},Lx?{fetchers:new Map(p.fetchers)}:{})),T=!1)}async function zr(b,x,N,V,H,X){let J=p.fetchers.get(b),re=me({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},X,{data:J&&J.data," _hasFetcherDoneAnything ":!0});p.fetchers.set(b,re),P({fetchers:new Map(p.fetchers)});let Q=new AbortController,Ne=ca(t.history,N,Q.signal);k.set(b,Q);let Ce=await ua("loader",Ne,V,H,n,e,w.basename);if(Wi(Ce)&&(Ce=await mT(Ce,Ne.signal,!0)||Ce),k.get(b)===Q&&k.delete(b),Ne.signal.aborted)return;if(rs(Ce)){await St(p,Ce);return}if($a(Ce)){let st=Qo(p.matches,x);p.fetchers.delete(b),P({fetchers:new Map(p.fetchers),errors:{[st.route.id]:Ce.error}});return}ae(!Wi(Ce),"Unhandled fetcher deferred data");let bn={state:"idle",data:Ce.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(b,bn),P({fetchers:new Map(p.fetchers)})}async function St(b,x,N){var V;let{submission:H,replace:X,isFetchActionRedirect:J}=N===void 0?{}:N;x.revalidate&&(T=!0);let re=cl(b.location,x.location,me({_isRedirect:!0},J?{_isFetchActionRedirect:!0}:{}));if(ae(re,"Expected a location on the redirect navigation"),cT.test(x.location)&&dT&&typeof((V=window)==null?void 0:V.location)<"u"){let ft=t.history.createURL(x.location),xn=Fl(ft.pathname,t.basename||"/")==null;if(window.location.origin!==ft.origin||xn){X?window.location.replace(x.location):window.location.assign(x.location);return}}E=null;let Q=X===!0?Qe.Replace:Qe.Push,{formMethod:Ne,formAction:Ce,formEncType:bn,formData:st}=b.navigation;!H&&Ne&&Ce&&st&&bn&&(H={formMethod:Ne,formAction:Ce,formEncType:bn,formData:st}),BD.has(x.status)&&H&&cr(H.formMethod)?await we(Q,re,{submission:me({},H,{formAction:x.location}),preventScrollReset:m}):J?await we(Q,re,{overrideNavigation:{state:"loading",location:re,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:H,preventScrollReset:m}):await we(Q,re,{overrideNavigation:{state:"loading",location:re,formMethod:H?H.formMethod:void 0,formAction:H?H.formAction:void 0,formEncType:H?H.formEncType:void 0,formData:H?H.formData:void 0},preventScrollReset:m})}async function Vn(b,x,N,V,H){let X=await Promise.all([...N.map(Q=>ua("loader",H,Q,x,n,e,w.basename)),...V.map(Q=>Q.matches&&Q.match?ua("loader",ca(t.history,Q.path,H.signal),Q.match,Q.matches,n,e,w.basename):{type:et.error,error:Wn(404,{pathname:Q.path})})]),J=X.slice(0,N.length),re=X.slice(N.length);return await Promise.all([$w(b,N,J,H.signal,!1,p.loaderData),$w(b,V.map(Q=>Q.match),re,H.signal,!0)]),{results:X,loaderResults:J,fetcherResults:re}}function Jt(){T=!0,I.push(...ar()),K.forEach((b,x)=>{k.has(x)&&(_.push(x),or(x))})}function Se(b,x,N){let V=Qo(p.matches,x);$i(b),P({errors:{[V.route.id]:N},fetchers:new Map(p.fetchers)})}function $i(b){k.has(b)&&or(b),K.delete(b),L.delete(b),G.delete(b),p.fetchers.delete(b)}function or(b){let x=k.get(b);ae(x,"Expected fetch controller: "+b),x.abort(),k.delete(b)}function Mi(b){for(let x of b){let V={state:"idle",data:Et(x).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(x,V)}}function Xs(){let b=[];for(let x of G){let N=p.fetchers.get(x);ae(N,"Expected fetcher: "+x),N.state==="loading"&&(G.delete(x),b.push(x))}Mi(b)}function bo(b){let x=[];for(let[N,V]of L)if(V<b){let H=p.fetchers.get(N);ae(H,"Expected fetcher: "+N),H.state==="loading"&&(or(N),L.delete(N),x.push(N))}return Mi(x),x.length>0}function _n(b,x){let N=p.blockers.get(b)||kw;return ge.get(b)!==x&&ge.set(b,x),N}function fn(b){p.blockers.delete(b),ge.delete(b)}function sr(b,x){let N=p.blockers.get(b)||kw;ae(N.state==="unblocked"&&x.state==="blocked"||N.state==="blocked"&&x.state==="blocked"||N.state==="blocked"&&x.state==="proceeding"||N.state==="blocked"&&x.state==="unblocked"||N.state==="proceeding"&&x.state==="unblocked","Invalid blocker state transition: "+N.state+" -> "+x.state),p.blockers.set(b,x),P({blockers:new Map(p.blockers)})}function Hr(b){let{currentLocation:x,nextLocation:N,historyAction:V}=b;if(ge.size===0)return;ge.size>1&&vs(!1,"A router only supports one blocker at a time");let H=Array.from(ge.entries()),[X,J]=H[H.length-1],re=p.blockers.get(X);if(!(re&&re.state==="proceeding")&&J({currentLocation:x,nextLocation:N,historyAction:V}))return X}function ar(b){let x=[];return ue.forEach((N,V)=>{(!b||b(V))&&(N.cancel(),x.push(V),ue.delete(V))}),x}function he(b,x,N){if(l=b,c=x,u=N||(V=>V.key),!d&&p.navigation===_h){d=!0;let V=Wr(p.location,p.matches);V!=null&&P({restoreScrollPosition:V})}return()=>{l=null,c=null,u=null}}function kn(b,x){if(l&&u&&c){let N=x.map(H=>Mw(H,p.loaderData)),V=u(b,N)||b.key;l[V]=c()}}function Wr(b,x){if(l&&u&&c){let N=x.map(X=>Mw(X,p.loaderData)),V=u(b,N)||b.key,H=l[V];if(typeof H=="number")return H}return null}function yu(b){i=b}return w={get basename(){return t.basename},get state(){return p},get routes(){return r},initialize:le,subscribe:j,enableScrollRestoration:he,navigate:se,fetch:Mt,revalidate:He,createHref:b=>t.history.createHref(b),encodeLocation:b=>t.history.encodeLocation(b),getFetcher:Et,deleteFetcher:$i,dispose:$,getBlocker:_n,deleteBlocker:fn,_internalFetchControllers:k,_internalActiveDeferreds:ue,_internalSetRoutes:yu},w}function KD(t){return t!=null&&"formData"in t}function bw(t,e,n,r){r===void 0&&(r=!1);let i=typeof t=="string"?t:Nr(t);if(!n||!KD(n))return{path:i};if(n.formMethod&&!ZD(n.formMethod))return{path:i,error:Wn(405,{method:n.formMethod})};let o;if(n.formData){let l=n.formMethod||"get";if(o={formMethod:e.v7_normalizeFormMethod?l.toUpperCase():l.toLowerCase(),formAction:pT(i),formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:n.formData},cr(o.formMethod))return{path:i,submission:o}}let s=jr(i),a=hT(n.formData);return r&&s.search&&gT(s.search)&&a.append("index",""),s.search="?"+a,{path:Nr(s),submission:o}}function qD(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function xw(t,e,n,r,i,o,s,a,l,u,c,d,f){let h=f?Object.values(f)[0]:d?Object.values(d)[0]:void 0,v=t.createURL(e.location),w=t.createURL(i),p=o||v.toString()===w.toString()||v.search!==w.search,g=f?Object.keys(f)[0]:void 0,E=qD(n,g).filter((T,I)=>{if(T.route.lazy)return!0;if(T.route.loader==null)return!1;if(GD(e.loaderData,e.matches[I],T)||s.some(M=>M===T.route.id))return!0;let _=e.matches[I],k=T;return Rw(T,me({currentUrl:v,currentParams:_.params,nextUrl:w,nextParams:k.params},r,{actionResult:h,defaultShouldRevalidate:p||fT(_,k)}))}),S=[];return l.forEach((T,I)=>{if(!n.some(A=>A.route.id===T.routeId))return;let _=Go(u,T.path,c);if(!_){S.push(me({key:I},T,{matches:null,match:null}));return}let k=rm(_,T.path);if(a.includes(I)){S.push(me({key:I,matches:_,match:k},T));return}Rw(k,me({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:h,defaultShouldRevalidate:p}))&&S.push(me({key:I,matches:_,match:k},T))}),[E,S]}function GD(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function fT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Rw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Nw(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ae(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";vs(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!gD.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,{hasErrorBoundary:e(me({},i)),lazy:void 0})}async function ua(t,e,n,r,i,o,s,a,l,u){s===void 0&&(s="/"),a===void 0&&(a=!1),l===void 0&&(l=!1);let c,d,f,h=p=>{let g,m=new Promise((E,S)=>g=S);return f=()=>g(),e.signal.addEventListener("abort",f),Promise.race([p({request:e,params:n.params,context:u}),m])};try{let p=n.route[t];if(n.route.lazy)if(p)d=(await Promise.all([h(p),Nw(n.route,o,i)]))[0];else if(await Nw(n.route,o,i),p=n.route[t],p)d=await h(p);else{if(t==="action")throw Wn(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:n.route.id});return{type:et.data,data:void 0}}else ae(p,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),d=await h(p);ae(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(p){c=et.error,d=p}finally{f&&e.signal.removeEventListener("abort",f)}if(JD(d)){let p=d.status;if(jD.has(p)){let E=d.headers.get("Location");if(ae(E,"Redirects returned/thrown from loaders/actions must have a Location header"),cT.test(E)){if(!a){let S=new URL(e.url),T=E.startsWith("//")?new URL(S.protocol+E):new URL(E),I=Fl(T.pathname,s)!=null;T.origin===S.origin&&I&&(E=T.pathname+T.search+T.hash)}}else{let S=r.slice(0,r.indexOf(n)+1),T=Ld(S).map(_=>_.pathnameBase),I=Xg(E,T,new URL(e.url).pathname);if(ae(Nr(I),"Unable to resolve redirect location: "+E),s){let _=I.pathname;I.pathname=_==="/"?s:Cr([s,_])}E=Nr(I)}if(a)throw d.headers.set("Location",E),d;return{type:et.redirect,status:p,location:E,revalidate:d.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:c||et.data,response:d};let g,m=d.headers.get("Content-Type");return m&&/\bapplication\/json\b/.test(m)?g=await d.json():g=await d.text(),c===et.error?{type:c,error:new Jg(p,d.statusText,g),headers:d.headers}:{type:et.data,data:g,statusCode:d.status,headers:d.headers}}if(c===et.error)return{type:c,error:d};if(XD(d)){var v,w;return{type:et.deferred,deferredData:d,statusCode:(v=d.init)==null?void 0:v.status,headers:((w=d.init)==null?void 0:w.headers)&&new Headers(d.init.headers)}}return{type:et.data,data:d}}function ca(t,e,n,r){let i=t.createURL(pT(e)).toString(),o={signal:n};if(r&&cr(r.formMethod)){let{formMethod:s,formEncType:a,formData:l}=r;o.method=s.toUpperCase(),o.body=a==="application/x-www-form-urlencoded"?hT(l):l}return new Request(i,o)}function hT(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function QD(t,e,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,d)=>{let f=e[d].route.id;if(ae(!rs(c),"Cannot handle redirect results in processLoaderData"),$a(c)){let h=Qo(t,f),v=c.error;r&&(v=Object.values(r)[0],r=void 0),s=s||{},s[h.route.id]==null&&(s[h.route.id]=v),o[f]=void 0,l||(l=!0,a=lT(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else Wi(c)?(i.set(f,c.deferredData),o[f]=c.deferredData.data):o[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function Dw(t,e,n,r,i,o,s,a){let{loaderData:l,errors:u}=QD(e,n,r,i,a);for(let c=0;c<o.length;c++){let{key:d,match:f}=o[c];ae(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let h=s[c];if($a(h)){let v=Qo(t.matches,f==null?void 0:f.route.id);u&&u[v.route.id]||(u=me({},u,{[v.route.id]:h.error})),t.fetchers.delete(d)}else if(rs(h))ae(!1,"Unhandled fetcher revalidation redirect");else if(Wi(h))ae(!1,"Unhandled fetcher deferred data");else{let v={state:"idle",data:h.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(d,v)}}return{loaderData:l,errors:u}}function Ow(t,e,n,r){let i=me({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Qo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Aw(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Wn(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"&&(a="defer() is not supported in actions")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Jg(t||500,s,new Error(a),!0)}function Pw(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(rs(n))return n}}function pT(t){let e=typeof t=="string"?jr(t):t;return Nr(me({},e,{hash:""}))}function YD(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function Wi(t){return t.type===et.deferred}function $a(t){return t.type===et.error}function rs(t){return(t&&t.type)===et.redirect}function XD(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function JD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function ZD(t){return UD.has(t.toLowerCase())}function cr(t){return LD.has(t.toLowerCase())}async function $w(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!fT(u,l)&&(o&&o[l.route.id])!==void 0;Wi(a)&&(i||c)&&await mT(a,r,i).then(d=>{d&&(n[s]=d||n[s])})}}async function mT(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:et.data,data:t.deferredData.unwrappedData}}catch(i){return{type:et.error,error:i}}return{type:et.data,data:t.deferredData.data}}}function gT(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Mw(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function rm(t,e){let n=typeof e=="string"?jr(e).search:e.search;if(t[t.length-1].route.index&&gT(n||""))return t[t.length-1];let r=Ld(t);return r[r.length-1]}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const tO=typeof Object.is=="function"?Object.is:eO,{useState:nO,useEffect:rO,useLayoutEffect:iO,useDebugValue:oO}=lp;function sO(t,e,n){const r=e(),[{inst:i},o]=nO({inst:{value:r,getSnapshot:e}});return iO(()=>{i.value=r,i.getSnapshot=e,kh(i)&&o({inst:i})},[t,r,e]),rO(()=>(kh(i)&&o({inst:i}),t(()=>{kh(i)&&o({inst:i})})),[t]),oO(r),r}function kh(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!tO(n,r)}catch{return!0}}function aO(t,e,n){return e()}const lO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uO=!lO,cO=uO?aO:sO,dO="useSyncExternalStore"in lp?(t=>t.useSyncExternalStore)(lp):cO,Zg=y.createContext(null),Fd=y.createContext(null),Ul=y.createContext(null),Ud=y.createContext(null),$s=y.createContext({outlet:null,matches:[]}),vT=y.createContext(null);function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},im.apply(this,arguments)}function fO(t,e){let{relative:n}=e===void 0?{}:e;Ms()||ae(!1);let{basename:r,navigator:i}=y.useContext(Ul),{hash:o,pathname:s,search:a}=yT(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Cr([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Ms(){return y.useContext(Ud)!=null}function jd(){return Ms()||ae(!1),y.useContext(Ud).location}function Ls(){Ms()||ae(!1);let{basename:t,navigator:e}=y.useContext(Ul),{matches:n}=y.useContext($s),{pathname:r}=jd(),i=JSON.stringify(Ld(n).map(a=>a.pathnameBase)),o=y.useRef(!1);return y.useEffect(()=>{o.current=!0}),y.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){e.go(a);return}let u=Xg(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:Cr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function yT(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=y.useContext($s),{pathname:i}=jd(),o=JSON.stringify(Ld(r).map(s=>s.pathnameBase));return y.useMemo(()=>Xg(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function hO(t,e){Ms()||ae(!1);let{navigator:n}=y.useContext(Ul),r=y.useContext(Fd),{matches:i}=y.useContext($s),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=jd(),u;if(e){var c;let w=typeof e=="string"?jr(e):e;a==="/"||(c=w.pathname)!=null&&c.startsWith(a)||ae(!1),u=w}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",h=Go(t,{pathname:f}),v=vO(h&&h.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:Cr([a,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:Cr([a,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r||void 0);return e&&v?y.createElement(Ud.Provider,{value:{location:im({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Qe.Pop}},v):v}function pO(){let t=wT(),e=lT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,o)}class mO extends y.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?y.createElement($s.Provider,{value:this.props.routeContext},y.createElement(vT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gO(t){let{routeContext:e,match:n,children:r}=t,i=y.useContext(Zg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement($s.Provider,{value:e},r)}function vO(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let o=r.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));o>=0||ae(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,s,a)=>{let l=s.route.id?i==null?void 0:i[s.route.id]:null,u=null;n&&(s.route.ErrorBoundary?u=y.createElement(s.route.ErrorBoundary,null):s.route.errorElement?u=s.route.errorElement:u=y.createElement(pO,null));let c=e.concat(r.slice(0,a+1)),d=()=>{let f=o;return l?f=u:s.route.Component?f=y.createElement(s.route.Component,null):s.route.element&&(f=s.route.element),y.createElement(gO,{match:s,routeContext:{outlet:o,matches:c},children:f})};return n&&(s.route.ErrorBoundary||s.route.errorElement||a===0)?y.createElement(mO,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var Lw;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(Lw||(Lw={}));var Uc;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Uc||(Uc={}));function yO(t){let e=y.useContext(Fd);return e||ae(!1),e}function wO(t){let e=y.useContext($s);return e||ae(!1),e}function EO(t){let e=wO(),n=e.matches[e.matches.length-1];return n.route.id||ae(!1),n.route.id}function wT(){var t;let e=y.useContext(vT),n=yO(Uc.UseRouteError),r=EO(Uc.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function SO(t){let{fallbackElement:e,router:n}=t,r=y.useCallback(()=>n.state,[n]),i=dO(n.subscribe,r,r),o=y.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,u,c)=>n.navigate(l,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(l,u,c)=>n.navigate(l,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),s=n.basename||"/",a=y.useMemo(()=>({router:n,navigator:o,static:!1,basename:s}),[n,o,s]);return y.createElement(y.Fragment,null,y.createElement(Zg.Provider,{value:a},y.createElement(Fd.Provider,{value:i},y.createElement(TO,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:o},n.state.initialized?y.createElement(IO,null):e))),null)}function ET(t){let{to:e,replace:n,state:r,relative:i}=t;Ms()||ae(!1);let o=y.useContext(Fd),s=Ls();return y.useEffect(()=>{o&&o.navigation.state!=="idle"||s(e,{replace:n,state:r,relative:i})}),null}function CO(t){ae(!1)}function TO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qe.Pop,navigator:o,static:s=!1}=t;Ms()&&ae(!1);let a=e.replace(/^\/*/,"/"),l=y.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=jr(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:h="default"}=r,v=y.useMemo(()=>{let w=Fl(u,a);return w==null?null:{location:{pathname:w,search:c,hash:d,state:f,key:h},navigationType:i}},[a,u,c,d,f,h,i]);return v==null?null:y.createElement(Ul.Provider,{value:l},y.createElement(Ud.Provider,{children:n,value:v}))}function IO(t){let{children:e,location:n}=t,r=y.useContext(Zg),i=r&&!e?r.router.routes:om(e);return hO(i,n)}var Fw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Fw||(Fw={}));new Promise(()=>{});function om(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,i)=>{if(!y.isValidElement(r))return;let o=[...e,i];if(r.type===y.Fragment){n.push.apply(n,om(r.props.children,o));return}r.type!==CO&&ae(!1),!r.props.index||!r.props.children||ae(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=om(r.props.children,o)),n.push(s)}),n}function _O(t){return!!t.ErrorBoundary||!!t.errorElement}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(this,arguments)}function kO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xO(t,e){return t.button===0&&(!e||e==="_self")&&!bO(t)}const RO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function NO(t,e){return WD({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:hD({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||DO(),routes:t,detectErrorBoundary:_O}).initialize()}function DO(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=jc({},e,{errors:OO(e.errors)})),e}function OO(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Jg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let o=new Error(i.message);o.stack="",n[r]=o}else n[r]=i;return n}const AO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ST=y.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c}=e,d=kO(e,RO),{basename:f}=y.useContext(Ul),h,v=!1;if(typeof u=="string"&&PO.test(u)&&(h=u,AO)){let m=new URL(window.location.href),E=u.startsWith("//")?new URL(m.protocol+u):new URL(u),S=Fl(E.pathname,f);E.origin===m.origin&&S!=null?u=S+E.search+E.hash:v=!0}let w=fO(u,{relative:i}),p=$O(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i});function g(m){r&&r(m),m.defaultPrevented||p(m)}return y.createElement("a",jc({},d,{href:h||w,onClick:v||o?r:g,ref:n,target:l}))});var Uw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Uw||(Uw={}));var jw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(jw||(jw={}));function $O(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=Ls(),l=jd(),u=yT(t,{relative:s});return y.useCallback(c=>{if(xO(c,n)){c.preventDefault();let d=r!==void 0?r:Nr(l)===Nr(u);a(t,{replace:d,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,t,o,s])}var sm={},MO={get exports(){return sm},set exports(t){sm=t}},CT={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ys=y;function LO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var FO=typeof Object.is=="function"?Object.is:LO,UO=ys.useState,jO=ys.useEffect,BO=ys.useLayoutEffect,VO=ys.useDebugValue;function zO(t,e){var n=e(),r=UO({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return BO(function(){i.value=n,i.getSnapshot=e,bh(i)&&o({inst:i})},[t,n,e]),jO(function(){return bh(i)&&o({inst:i}),t(function(){bh(i)&&o({inst:i})})},[t]),VO(n),n}function bh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!FO(t,n)}catch{return!0}}function HO(t,e){return e()}var WO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HO:zO;CT.useSyncExternalStore=ys.useSyncExternalStore!==void 0?ys.useSyncExternalStore:WO;(function(t){t.exports=CT})(MO);var am={},KO={get exports(){return am},set exports(t){am=t}},TT={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd=y,qO=sm;function GO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var QO=typeof Object.is=="function"?Object.is:GO,YO=qO.useSyncExternalStore,XO=Bd.useRef,JO=Bd.useEffect,ZO=Bd.useMemo,eA=Bd.useDebugValue;TT.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=XO(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=ZO(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&s.hasValue){var v=s.value;if(i(v,h))return d=v}return d=h}if(v=d,QO(c,h))return v;var w=r(h);return i!==void 0&&i(v,w)?v:(c=h,d=w)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=YO(t,o[0],o[1]);return JO(function(){s.hasValue=!0,s.value=a},[a]),eA(a),a};(function(t){t.exports=TT})(KO);function tA(t){t()}let IT=tA;const nA=t=>IT=t,rA=()=>IT,Ci=y.createContext(null);function _T(){return y.useContext(Ci)}const iA=()=>{throw new Error("uSES not initialized!")};let kT=iA;const oA=t=>{kT=t},sA=(t,e)=>t===e;function aA(t=Ci){const e=t===Ci?_T:()=>y.useContext(t);return function(r,i=sA){const{store:o,subscription:s,getServerState:a}=e(),l=kT(s.addNestedSub,o.getState,a||o.getState,r,i);return y.useDebugValue(l),l}}const ev=aA();function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lm.apply(this,arguments)}function bT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var um={},lA={get exports(){return um},set exports(t){um=t}},xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dt=typeof Symbol=="function"&&Symbol.for,tv=dt?Symbol.for("react.element"):60103,nv=dt?Symbol.for("react.portal"):60106,Vd=dt?Symbol.for("react.fragment"):60107,zd=dt?Symbol.for("react.strict_mode"):60108,Hd=dt?Symbol.for("react.profiler"):60114,Wd=dt?Symbol.for("react.provider"):60109,Kd=dt?Symbol.for("react.context"):60110,rv=dt?Symbol.for("react.async_mode"):60111,qd=dt?Symbol.for("react.concurrent_mode"):60111,Gd=dt?Symbol.for("react.forward_ref"):60112,Qd=dt?Symbol.for("react.suspense"):60113,uA=dt?Symbol.for("react.suspense_list"):60120,Yd=dt?Symbol.for("react.memo"):60115,Xd=dt?Symbol.for("react.lazy"):60116,cA=dt?Symbol.for("react.block"):60121,dA=dt?Symbol.for("react.fundamental"):60117,fA=dt?Symbol.for("react.responder"):60118,hA=dt?Symbol.for("react.scope"):60119;function cn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tv:switch(t=t.type,t){case rv:case qd:case Vd:case Hd:case zd:case Qd:return t;default:switch(t=t&&t.$$typeof,t){case Kd:case Gd:case Xd:case Yd:case Wd:return t;default:return e}}case nv:return e}}}function xT(t){return cn(t)===qd}xe.AsyncMode=rv;xe.ConcurrentMode=qd;xe.ContextConsumer=Kd;xe.ContextProvider=Wd;xe.Element=tv;xe.ForwardRef=Gd;xe.Fragment=Vd;xe.Lazy=Xd;xe.Memo=Yd;xe.Portal=nv;xe.Profiler=Hd;xe.StrictMode=zd;xe.Suspense=Qd;xe.isAsyncMode=function(t){return xT(t)||cn(t)===rv};xe.isConcurrentMode=xT;xe.isContextConsumer=function(t){return cn(t)===Kd};xe.isContextProvider=function(t){return cn(t)===Wd};xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tv};xe.isForwardRef=function(t){return cn(t)===Gd};xe.isFragment=function(t){return cn(t)===Vd};xe.isLazy=function(t){return cn(t)===Xd};xe.isMemo=function(t){return cn(t)===Yd};xe.isPortal=function(t){return cn(t)===nv};xe.isProfiler=function(t){return cn(t)===Hd};xe.isStrictMode=function(t){return cn(t)===zd};xe.isSuspense=function(t){return cn(t)===Qd};xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Vd||t===qd||t===Hd||t===zd||t===Qd||t===uA||typeof t=="object"&&t!==null&&(t.$$typeof===Xd||t.$$typeof===Yd||t.$$typeof===Wd||t.$$typeof===Kd||t.$$typeof===Gd||t.$$typeof===dA||t.$$typeof===fA||t.$$typeof===hA||t.$$typeof===cA)};xe.typeOf=cn;(function(t){t.exports=xe})(lA);var RT=um,pA={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},NT={};NT[RT.ForwardRef]=pA;NT[RT.Memo]=mA;var Bw={},gA={get exports(){return Bw},set exports(t){Bw=t}},Re={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv=Symbol.for("react.element"),ov=Symbol.for("react.portal"),Jd=Symbol.for("react.fragment"),Zd=Symbol.for("react.strict_mode"),ef=Symbol.for("react.profiler"),tf=Symbol.for("react.provider"),nf=Symbol.for("react.context"),vA=Symbol.for("react.server_context"),rf=Symbol.for("react.forward_ref"),of=Symbol.for("react.suspense"),sf=Symbol.for("react.suspense_list"),af=Symbol.for("react.memo"),lf=Symbol.for("react.lazy"),yA=Symbol.for("react.offscreen"),DT;DT=Symbol.for("react.module.reference");function In(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case iv:switch(t=t.type,t){case Jd:case ef:case Zd:case of:case sf:return t;default:switch(t=t&&t.$$typeof,t){case vA:case nf:case rf:case lf:case af:case tf:return t;default:return e}}case ov:return e}}}Re.ContextConsumer=nf;Re.ContextProvider=tf;Re.Element=iv;Re.ForwardRef=rf;Re.Fragment=Jd;Re.Lazy=lf;Re.Memo=af;Re.Portal=ov;Re.Profiler=ef;Re.StrictMode=Zd;Re.Suspense=of;Re.SuspenseList=sf;Re.isAsyncMode=function(){return!1};Re.isConcurrentMode=function(){return!1};Re.isContextConsumer=function(t){return In(t)===nf};Re.isContextProvider=function(t){return In(t)===tf};Re.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===iv};Re.isForwardRef=function(t){return In(t)===rf};Re.isFragment=function(t){return In(t)===Jd};Re.isLazy=function(t){return In(t)===lf};Re.isMemo=function(t){return In(t)===af};Re.isPortal=function(t){return In(t)===ov};Re.isProfiler=function(t){return In(t)===ef};Re.isStrictMode=function(t){return In(t)===Zd};Re.isSuspense=function(t){return In(t)===of};Re.isSuspenseList=function(t){return In(t)===sf};Re.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Jd||t===ef||t===Zd||t===of||t===sf||t===yA||typeof t=="object"&&t!==null&&(t.$$typeof===lf||t.$$typeof===af||t.$$typeof===tf||t.$$typeof===nf||t.$$typeof===rf||t.$$typeof===DT||t.getModuleId!==void 0)};Re.typeOf=In;(function(t){t.exports=Re})(gA);function wA(){const t=rA();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const Vw={notify(){},get:()=>[]};function EA(t,e){let n,r=Vw;function i(d){return l(),r.subscribe(d)}function o(){r.notify()}function s(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(s):t.subscribe(s),r=wA())}function u(){n&&(n(),n=void 0,r.clear(),r=Vw)}const c={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const SA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CA=SA?y.useLayoutEffect:y.useEffect;function TA({store:t,context:e,children:n,serverState:r}){const i=y.useMemo(()=>{const a=EA(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),o=y.useMemo(()=>t.getState(),[t]);CA(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,o]);const s=e||Ci;return Wt.createElement(s.Provider,{value:i},n)}function OT(t=Ci){const e=t===Ci?_T:()=>y.useContext(t);return function(){const{store:r}=e();return r}}const IA=OT();function _A(t=Ci){const e=t===Ci?IA:OT(t);return function(){return e().dispatch}}const sv=_A();oA(am.useSyncExternalStoreWithSelector);nA(Ka.unstable_batchedUpdates);function $n(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ti(t){return!!t&&!!t[Le]}function Dr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===PA}(t)||Array.isArray(t)||!!t[Qw]||!!(!((e=t.constructor)===null||e===void 0)&&e[Qw])||av(t)||lv(t))}function uo(t,e,n){n===void 0&&(n=!1),Fs(t)===0?(n?Object.keys:os)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Fs(t){var e=t[Le];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:av(t)?2:lv(t)?3:0}function is(t,e){return Fs(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function kA(t,e){return Fs(t)===2?t.get(e):t[e]}function AT(t,e,n){var r=Fs(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function PT(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function av(t){return OA&&t instanceof Map}function lv(t){return AA&&t instanceof Set}function ji(t){return t.o||t.t}function uv(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=MT(t);delete e[Le];for(var n=os(e),r=0;r<n.length;r++){var i=n[r],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function cv(t,e){return e===void 0&&(e=!1),dv(t)||Ti(t)||!Dr(t)||(Fs(t)>1&&(t.set=t.add=t.clear=t.delete=bA),Object.freeze(t),e&&uo(t,function(n,r){return cv(r,!0)},!0)),t}function bA(){$n(2)}function dv(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Jn(t){var e=hm[t];return e||$n(18,t),e}function xA(t,e){hm[t]||(hm[t]=e)}function cm(){return dl}function xh(t,e){e&&(Jn("Patches"),t.u=[],t.s=[],t.v=e)}function Bc(t){dm(t),t.p.forEach(RA),t.p=null}function dm(t){t===dl&&(dl=t.l)}function zw(t){return dl={p:[],l:dl,h:t,m:!0,_:0}}function RA(t){var e=t[Le];e.i===0||e.i===1?e.j():e.g=!0}function Rh(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Jn("ES5").S(e,t,r),r?(n[Le].P&&(Bc(e),$n(4)),Dr(t)&&(t=Vc(e,t),e.l||zc(e,t)),e.u&&Jn("Patches").M(n[Le].t,t,e.u,e.s)):t=Vc(e,n,[]),Bc(e),e.u&&e.v(e.u,e.s),t!==$T?t:void 0}function Vc(t,e,n){if(dv(e))return e;var r=e[Le];if(!r)return uo(e,function(a,l){return Hw(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return zc(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=uv(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),uo(o,function(a,l){return Hw(t,r,i,a,l,n,s)}),zc(t,i,!1),n&&t.u&&Jn("Patches").N(r,n,t.u,t.s)}return r.o}function Hw(t,e,n,r,i,o,s){if(Ti(i)){var a=Vc(t,i,o&&e&&e.i!==3&&!is(e.R,r)?o.concat(r):void 0);if(AT(n,r,a),!Ti(a))return;t.m=!1}else s&&n.add(i);if(Dr(i)&&!dv(i)){if(!t.h.D&&t._<1)return;Vc(t,i),e&&e.A.l||zc(t,i)}}function zc(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&cv(e,n)}function Nh(t,e){var n=t[Le];return(n?ji(n):t)[e]}function Ww(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Zr(t){t.P||(t.P=!0,t.l&&Zr(t.l))}function Dh(t){t.o||(t.o=uv(t.t))}function fm(t,e,n){var r=av(e)?Jn("MapSet").F(e,n):lv(e)?Jn("MapSet").T(e,n):t.O?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:cm(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=fl;s&&(l=[a],u=ya);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(e,n):Jn("ES5").J(e,n);return(n?n.A:cm()).p.push(r),r}function NA(t){return Ti(t)||$n(22,t),function e(n){if(!Dr(n))return n;var r,i=n[Le],o=Fs(n);if(i){if(!i.P&&(i.i<4||!Jn("ES5").K(i)))return i.t;i.I=!0,r=Kw(n,o),i.I=!1}else r=Kw(n,o);return uo(r,function(s,a){i&&kA(i.t,s)===a||AT(r,s,e(a))}),o===3?new Set(r):r}(t)}function Kw(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return uv(t)}function DA(){function t(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var l=this[Le];return fl.get(l,o)},set:function(l){var u=this[Le];fl.set(u,o,l)}},a}function e(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Le];if(!a.P)switch(a.i){case 5:r(a)&&Zr(a);break;case 4:n(a)&&Zr(a)}}}function n(o){for(var s=o.t,a=o.k,l=os(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Le){var d=s[c];if(d===void 0&&!is(s,c))return!0;var f=a[c],h=f&&f[Le];if(h?h.t!==d:!PT(f,d))return!0}}var v=!!s[Le];return l.length!==os(s).length+(v?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var l=0;l<s.length;l++)if(!s.hasOwnProperty(l))return!0;return!1}var i={};xA("ES5",{J:function(o,s){var a=Array.isArray(o),l=function(c,d){if(c){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,t(h,!0));return f}var v=MT(d);delete v[Le];for(var w=os(v),p=0;p<w.length;p++){var g=w[p];v[g]=t(g,c||!!v[g].enumerable)}return Object.create(Object.getPrototypeOf(d),v)}(a,o),u={i:a?5:4,A:s?s.A:cm(),P:!1,I:!1,R:{},l:s,t:o,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Le,{value:u,writable:!0}),l},S:function(o,s,a){a?Ti(s)&&s[Le].A===o&&e(o.p):(o.u&&function l(u){if(u&&typeof u=="object"){var c=u[Le];if(c){var d=c.t,f=c.k,h=c.R,v=c.i;if(v===4)uo(f,function(E){E!==Le&&(d[E]!==void 0||is(d,E)?h[E]||l(f[E]):(h[E]=!0,Zr(c)))}),uo(d,function(E){f[E]!==void 0||is(f,E)||(h[E]=!1,Zr(c))});else if(v===5){if(r(c)&&(Zr(c),h.length=!0),f.length<d.length)for(var w=f.length;w<d.length;w++)h[w]=!1;else for(var p=d.length;p<f.length;p++)h[p]=!0;for(var g=Math.min(f.length,d.length),m=0;m<g;m++)f.hasOwnProperty(m)||(h[m]=!0),h[m]===void 0&&l(f[m])}}}}(o.p[0]),e(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var qw,dl,fv=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",OA=typeof Map<"u",AA=typeof Set<"u",Gw=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",$T=fv?Symbol.for("immer-nothing"):((qw={})["immer-nothing"]=!0,qw),Qw=fv?Symbol.for("immer-draftable"):"__$immer_draftable",Le=fv?Symbol.for("immer-state"):"__$immer_state",PA=""+Object.prototype.constructor,os=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,MT=Object.getOwnPropertyDescriptors||function(t){var e={};return os(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},hm={},fl={get:function(t,e){if(e===Le)return t;var n=ji(t);if(!is(n,e))return function(i,o,s){var a,l=Ww(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Dr(r)?r:r===Nh(t.t,e)?(Dh(t),t.o[e]=fm(t.A.h,r,t)):r},has:function(t,e){return e in ji(t)},ownKeys:function(t){return Reflect.ownKeys(ji(t))},set:function(t,e,n){var r=Ww(ji(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Nh(ji(t),e),o=i==null?void 0:i[Le];if(o&&o.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(PT(n,i)&&(n!==void 0||is(t.t,e)))return!0;Dh(t),Zr(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Nh(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Dh(t),Zr(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ji(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){$n(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){$n(12)}},ya={};uo(fl,function(t,e){ya[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),ya.deleteProperty=function(t,e){return ya.set.call(this,t,e,void 0)},ya.set=function(t,e,n){return fl.set.call(this,t[0],e,n,t[0])};var $A=function(){function t(n){var r=this;this.O=Gw,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(w){var p=this;w===void 0&&(w=a);for(var g=arguments.length,m=Array(g>1?g-1:0),E=1;E<g;E++)m[E-1]=arguments[E];return l.produce(w,function(S){var T;return(T=o).call.apply(T,[p,S].concat(m))})}}var u;if(typeof o!="function"&&$n(6),s!==void 0&&typeof s!="function"&&$n(7),Dr(i)){var c=zw(r),d=fm(r,i,void 0),f=!0;try{u=o(d),f=!1}finally{f?Bc(c):dm(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(w){return xh(c,s),Rh(w,c)},function(w){throw Bc(c),w}):(xh(c,s),Rh(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===$T&&(u=void 0),r.D&&cv(u,!0),s){var h=[],v=[];Jn("Patches").M(i,u,h,v),s(h,v)}return u}$n(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var s,a,l=r.produce(i,o,function(u,c){s=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Dr(n)||$n(8),Ti(n)&&(n=NA(n));var r=zw(this),i=fm(this,n,void 0);return i[Le].C=!0,dm(r),i},e.finishDraft=function(n,r){var i=n&&n[Le],o=i.A;return xh(o,r),Rh(void 0,o)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Gw&&$n(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=Jn("Patches").$;return Ti(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},t}(),on=new $A,LT=on.produce;on.produceWithPatches.bind(on);on.setAutoFreeze.bind(on);on.setUseProxies.bind(on);on.applyPatches.bind(on);on.createDraft.bind(on);on.finishDraft.bind(on);function hl(t){return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function MA(t,e){if(hl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LA(t){var e=MA(t,"string");return hl(e)==="symbol"?e:String(e)}function FA(t,e,n){return e=LA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yw(Object(n),!0).forEach(function(r){FA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Jw=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Oh=function(){return Math.random().toString(36).substring(7).split("").join(".")},Hc={INIT:"@@redux/INIT"+Oh(),REPLACE:"@@redux/REPLACE"+Oh(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Oh()}};function UA(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function FT(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(kt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(kt(1));return n(FT)(t,e)}if(typeof t!="function")throw new Error(kt(2));var i=t,o=e,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(kt(3));return o}function d(w){if(typeof w!="function")throw new Error(kt(4));if(l)throw new Error(kt(5));var p=!0;return u(),a.push(w),function(){if(p){if(l)throw new Error(kt(6));p=!1,u();var m=a.indexOf(w);a.splice(m,1),s=null}}}function f(w){if(!UA(w))throw new Error(kt(7));if(typeof w.type>"u")throw new Error(kt(8));if(l)throw new Error(kt(9));try{l=!0,o=i(o,w)}finally{l=!1}for(var p=s=a,g=0;g<p.length;g++){var m=p[g];m()}return w}function h(w){if(typeof w!="function")throw new Error(kt(10));i=w,f({type:Hc.REPLACE})}function v(){var w,p=d;return w={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(kt(11));function E(){m.next&&m.next(c())}E();var S=p(E);return{unsubscribe:S}}},w[Jw]=function(){return this},w}return f({type:Hc.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:h},r[Jw]=v,r}function jA(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Hc.INIT});if(typeof r>"u")throw new Error(kt(12));if(typeof n(void 0,{type:Hc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(kt(13))})}function BA(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var o=Object.keys(n),s;try{jA(n)}catch(a){s=a}return function(l,u){if(l===void 0&&(l={}),s)throw s;for(var c=!1,d={},f=0;f<o.length;f++){var h=o[f],v=n[h],w=l[h],p=v(w,u);if(typeof p>"u")throw u&&u.type,new Error(kt(14));d[h]=p,c=c||p!==w}return c=c||o.length!==Object.keys(l).length,c?d:l}}function Wc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function VA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(kt(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=e.map(function(l){return l(s)});return o=Wc.apply(void 0,a)(i.dispatch),Xw(Xw({},i),{},{dispatch:o})}}}function UT(t){var e=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,t):s(a)}}};return e}var jT=UT();jT.withExtraArgument=UT;const Zw=jT;var zA=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),HA=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Kc=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},WA=Object.defineProperty,KA=Object.defineProperties,qA=Object.getOwnPropertyDescriptors,eE=Object.getOwnPropertySymbols,GA=Object.prototype.hasOwnProperty,QA=Object.prototype.propertyIsEnumerable,tE=function(t,e,n){return e in t?WA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},pi=function(t,e){for(var n in e||(e={}))GA.call(e,n)&&tE(t,n,e[n]);if(eE)for(var r=0,i=eE(e);r<i.length;r++){var n=i[r];QA.call(e,n)&&tE(t,n,e[n])}return t},Ah=function(t,e){return KA(t,qA(e))},YA=function(t,e,n){return new Promise(function(r,i){var o=function(l){try{a(n.next(l))}catch(u){i(u)}},s=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,s)};a((n=n.apply(t,e)).next())})},XA=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wc:Wc.apply(null,arguments)};function JA(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var ZA=function(t){zA(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Kc([void 0],n[0].concat(this)))):new(e.bind.apply(e,Kc([void 0],n.concat(this))))},e}(Array);function pm(t){return Dr(t)?LT(t,function(){}):t}function eP(t){return typeof t=="boolean"}function tP(){return function(e){return nP(e)}}function nP(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new ZA;return n&&(eP(n)?r.push(Zw):r.push(Zw.withExtraArgument(n.extraArgument))),r}var rP=!0;function iP(t){var e=tP(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?e():o,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(JA(i))h=BA(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=s;typeof v=="function"&&(v=v(e));var w=VA.apply(void 0,v),p=Wc;l&&(p=XA(pi({trace:!rP},typeof l=="object"&&l)));var g=[w];Array.isArray(f)?g=Kc([w],f):typeof f=="function"&&(g=f(g));var m=p.apply(void 0,g);return FT(h,c,m)}function mi(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var o=e.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return pi(pi({type:t,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function BT(t){var e={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return t(i),[e,n,r]}function oP(t){return typeof t=="function"}function sP(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?BT(e):[e,n,r],o=i[0],s=i[1],a=i[2],l;if(oP(t))l=function(){return pm(t())};else{var u=pm(t);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var h=Kc([o[f.type]],s.filter(function(v){var w=v.matcher;return w(f)}).map(function(v){var w=v.reducer;return w}));return h.filter(function(v){return!!v}).length===0&&(h=[a]),h.reduce(function(v,w){if(w)if(Ti(v)){var p=v,g=w(p,f);return g===void 0?v:g}else{if(Dr(v))return LT(v,function(m){return w(m,f)});var g=w(v,f);if(g===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return v},d)}return c.getInitialState=l,c}function aP(t,e){return t+"/"+e}function lP(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:pm(t.initialState),r=t.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(c){var d=r[c],f=aP(e,c),h,v;"reducer"in d?(h=d.reducer,v=d.prepare):h=d,o[c]=h,s[f]=h,a[c]=v?mi(f,v):mi(f)});function l(){var c=typeof t.extraReducers=="function"?BT(t.extraReducers):[t.extraReducers],d=c[0],f=d===void 0?{}:d,h=c[1],v=h===void 0?[]:h,w=c[2],p=w===void 0?void 0:w,g=pi(pi({},f),s);return sP(n,function(m){for(var E in g)m.addCase(E,g[E]);for(var S=0,T=v;S<T.length;S++){var I=T[S];m.addMatcher(I.matcher,I.reducer)}p&&m.addDefaultCase(p)})}var u;return{name:e,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:o,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var uP="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cP=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=uP[Math.random()*64|0];return e},dP=["name","message","stack","code"],Ph=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),nE=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),fP=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=dP;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=mi(e+"/fulfilled",function(u,c,d,f){return{payload:u,meta:Ah(pi({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),o=mi(e+"/pending",function(u,c,d){return{payload:void 0,meta:Ah(pi({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),s=mi(e+"/rejected",function(u,c,d,f,h){return{payload:f,error:(r&&r.serializeError||fP)(u||"Rejected"),meta:Ah(pi({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,f){var h=r!=null&&r.idGenerator?r.idGenerator(u):cP(),v=new a,w;function p(m){w=m,v.abort()}var g=function(){return YA(this,null,function(){var m,E,S,T,I,_,k;return HA(this,function(M){switch(M.label){case 0:return M.trys.push([0,4,,5]),T=(m=r==null?void 0:r.condition)==null?void 0:m.call(r,u,{getState:d,extra:f}),pP(T)?[4,T]:[3,2];case 1:T=M.sent(),M.label=2;case 2:if(T===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return I=new Promise(function(A,L){return v.signal.addEventListener("abort",function(){return L({name:"AbortError",message:w||"Aborted"})})}),c(o(h,u,(E=r==null?void 0:r.getPendingMeta)==null?void 0:E.call(r,{requestId:h,arg:u},{getState:d,extra:f}))),[4,Promise.race([I,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:h,signal:v.signal,abort:p,rejectWithValue:function(A,L){return new Ph(A,L)},fulfillWithValue:function(A,L){return new nE(A,L)}})).then(function(A){if(A instanceof Ph)throw A;return A instanceof nE?i(A.payload,h,u,A.meta):i(A,h,u)})])];case 3:return S=M.sent(),[3,5];case 4:return _=M.sent(),S=_ instanceof Ph?s(null,h,u,_.payload,_.meta):s(_,h,u),[3,5];case 5:return k=r&&!r.dispatchConditionRejection&&s.match(S)&&S.meta.condition,k||c(S),[2,S]}})})}();return Object.assign(g,{abort:p,requestId:h,arg:u,unwrap:function(){return g.then(hP)}})}}return Object.assign(l,{pending:o,rejected:s,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function hP(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function pP(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var hv="listenerMiddleware";mi(hv+"/add");mi(hv+"/removeAll");mi(hv+"/remove");var rE;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);DA();const mm={email:null,token:null,id:null,role:null,name:null},VT=lP({name:"user",initialState:mm,reducers:{setUser(t,e){t.email=e.payload.email,t.token=e.payload.token,t.id=e.payload.id,t.role=e.payload.role,t.name=e.payload.name},removeUser(t){t.email=null,t.token=null,t.id=null,t.role=null,t.name=null}}}),{setUser:mP,removeUser:zT}=VT.actions,gP=t=>e=>n=>{const r=e(n),{user:i}=t.getState();return localStorage.setItem("user",JSON.stringify(i)),r},vP=VT.reducer,yP=()=>{try{return JSON.parse(localStorage.getItem("user"))||mm}catch(t){return console.log(t),mm}},wP={user:yP()},EP=iP({reducer:{user:vP},middleware:[gP],preloadedState:wP});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},WT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new CP;const f=o<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TP=function(t){const e=HT(t);return WT.encodeByteArray(e,!0)},qc=function(t){return TP(t).replace(/\./g,"")},KT=function(t){try{return WT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=()=>IP().__FIREBASE_DEFAULTS__,kP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KT(t[1]);return e&&JSON.parse(e)},pv=()=>{try{return _P()||kP()||bP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qT=t=>{var e,n;return(n=(e=pv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xP=t=>{const e=qT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},RP=()=>{var t;return(t=pv())===null||t===void 0?void 0:t.config},GT=t=>{var e;return(e=pv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[qc(JSON.stringify(n)),qc(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function AP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $P(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MP(){try{return typeof indexedDB=="object"}catch{return!1}}function LP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="FirebaseError";class Br extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FP,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?UP(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Br(i,a,r)}}function UP(t,e){return t.replace(jP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const jP=/\{\$([^}]+)}/g;function BP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(iE(o)&&iE(s)){if(!Gc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ea(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VP(t,e){const n=new zP(t,e);return n.subscribe.bind(n)}class zP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$h),i.error===void 0&&(i.error=$h),i.complete===void 0&&(i.complete=$h);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $h(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}class co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new NP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qP(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KP(t){return t===Bi?void 0:t}function qP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const QP={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},YP=Ie.INFO,XP={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},JP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=XP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mv{constructor(e){this.name=e,this._logLevel=YP,this._logHandler=JP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const ZP=(t,e)=>e.some(n=>t instanceof n);let oE,sE;function e$(){return oE||(oE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t$(){return sE||(sE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QT=new WeakMap,gm=new WeakMap,YT=new WeakMap,Mh=new WeakMap,gv=new WeakMap;function n$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(gi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&QT.set(n,t)}).catch(()=>{}),gv.set(e,t),e}function r$(t){if(gm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});gm.set(t,e)}let vm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function i$(t){vm=t(vm)}function o$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lh(this),e,...n);return YT.set(r,e.sort?e.sort():[e]),gi(r)}:t$().includes(t)?function(...e){return t.apply(Lh(this),e),gi(QT.get(this))}:function(...e){return gi(t.apply(Lh(this),e))}}function s$(t){return typeof t=="function"?o$(t):(t instanceof IDBTransaction&&r$(t),ZP(t,e$())?new Proxy(t,vm):t)}function gi(t){if(t instanceof IDBRequest)return n$(t);if(Mh.has(t))return Mh.get(t);const e=s$(t);return e!==t&&(Mh.set(t,e),gv.set(e,t)),e}const Lh=t=>gv.get(t);function a$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=gi(s);return r&&s.addEventListener("upgradeneeded",l=>{r(gi(s.result),l.oldVersion,l.newVersion,gi(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const l$=["get","getKey","getAll","getAllKeys","count"],u$=["put","add","delete","clear"],Fh=new Map;function aE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fh.get(e))return Fh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=u$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||l$.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Fh.set(e,o),o}i$(t=>({...t,get:(e,n,r)=>aE(e,n)||t.get(e,n,r),has:(e,n)=>!!aE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function d$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ym="@firebase/app",lE="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new mv("@firebase/app"),f$="@firebase/app-compat",h$="@firebase/analytics-compat",p$="@firebase/analytics",m$="@firebase/app-check-compat",g$="@firebase/app-check",v$="@firebase/auth",y$="@firebase/auth-compat",w$="@firebase/database",E$="@firebase/database-compat",S$="@firebase/functions",C$="@firebase/functions-compat",T$="@firebase/installations",I$="@firebase/installations-compat",_$="@firebase/messaging",k$="@firebase/messaging-compat",b$="@firebase/performance",x$="@firebase/performance-compat",R$="@firebase/remote-config",N$="@firebase/remote-config-compat",D$="@firebase/storage",O$="@firebase/storage-compat",A$="@firebase/firestore",P$="@firebase/firestore-compat",$$="firebase",M$="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="[DEFAULT]",L$={[ym]:"fire-core",[f$]:"fire-core-compat",[p$]:"fire-analytics",[h$]:"fire-analytics-compat",[g$]:"fire-app-check",[m$]:"fire-app-check-compat",[v$]:"fire-auth",[y$]:"fire-auth-compat",[w$]:"fire-rtdb",[E$]:"fire-rtdb-compat",[S$]:"fire-fn",[C$]:"fire-fn-compat",[T$]:"fire-iid",[I$]:"fire-iid-compat",[_$]:"fire-fcm",[k$]:"fire-fcm-compat",[b$]:"fire-perf",[x$]:"fire-perf-compat",[R$]:"fire-rc",[N$]:"fire-rc-compat",[D$]:"fire-gcs",[O$]:"fire-gcs-compat",[A$]:"fire-fst",[P$]:"fire-fst-compat","fire-js":"fire-js",[$$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Map,Em=new Map;function F$(t,e){try{t.container.addComponent(e)}catch(n){fo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ws(t){const e=t.name;if(Em.has(e))return fo.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,t);for(const n of Qc.values())F$(n,t);return!0}function vv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},vi=new jl("app","Firebase",U$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=M$;function XT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw vi.create("bad-app-name",{appName:String(i)});if(n||(n=RP()),!n)throw vi.create("no-options");const o=Qc.get(i);if(o){if(Gc(n,o.options)&&Gc(r,o.config))return o;throw vi.create("duplicate-app",{appName:i})}const s=new GP(i);for(const l of Em.values())s.addComponent(l);const a=new j$(n,r,s);return Qc.set(i,a),a}function JT(t=wm){const e=Qc.get(t);if(!e&&t===wm)return XT();if(!e)throw vi.create("no-app",{appName:t});return e}function yi(t,e,n){var r;let i=(r=L$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fo.warn(a.join(" "));return}ws(new co(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$="firebase-heartbeat-database",V$=1,pl="firebase-heartbeat-store";let Uh=null;function ZT(){return Uh||(Uh=a$(B$,V$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pl)}}}).catch(t=>{throw vi.create("idb-open",{originalErrorMessage:t.message})})),Uh}async function z$(t){try{return(await ZT()).transaction(pl).objectStore(pl).get(eI(t))}catch(e){if(e instanceof Br)fo.warn(e.message);else{const n=vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fo.warn(n.message)}}}async function uE(t,e){try{const r=(await ZT()).transaction(pl,"readwrite");return await r.objectStore(pl).put(e,eI(t)),r.done}catch(n){if(n instanceof Br)fo.warn(n.message);else{const r=vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fo.warn(r.message)}}}function eI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$=1024,W$=30*24*60*60*1e3;class K${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=W$}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cE(),{heartbeatsToSend:n,unsentEntries:r}=q$(this._heartbeatsCache.heartbeats),i=qc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function cE(){return new Date().toISOString().substring(0,10)}function q$(t,e=H$){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),dE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class G${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MP()?LP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await z$(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dE(t){return qc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t){ws(new co("platform-logger",e=>new c$(e),"PRIVATE")),ws(new co("heartbeat",e=>new K$(e),"PRIVATE")),yi(ym,lE,t),yi(ym,lE,"esm2017"),yi("fire-js","")}Q$("");var Y$="firebase",X$="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(Y$,X$,"app");var J$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B,yv=yv||{},ee=J$||self;function Yc(){}function uf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function zl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Z$(t){return Object.prototype.hasOwnProperty.call(t,jh)&&t[jh]||(t[jh]=++eM)}var jh="closure_uid_"+(1e9*Math.random()>>>0),eM=0;function tM(t,e,n){return t.call.apply(t.bind,arguments)}function nM(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Dt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Dt=tM:Dt=nM,Dt.apply(null,arguments)}function Mu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function wt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Di(){this.s=this.s,this.o=this.o}var rM=0;Di.prototype.s=!1;Di.prototype.na=function(){!this.s&&(this.s=!0,this.M(),rM!=0)&&Z$(this)};Di.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function wv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function fE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(uf(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Ot(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ot.prototype.h=function(){this.defaultPrevented=!0};var iM=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ee.addEventListener("test",Yc,e),ee.removeEventListener("test",Yc,e)}catch{}return t}();function Xc(t){return/^[\s\xa0]*$/.test(t)}var hE=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Bh(t,e){return t<e?-1:t>e?1:0}function cf(){var t=ee.navigator;return t&&(t=t.userAgent)?t:""}function qn(t){return cf().indexOf(t)!=-1}function Ev(t){return Ev[" "](t),t}Ev[" "]=Yc;function oM(t){var e=lM;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var sM=qn("Opera"),Es=qn("Trident")||qn("MSIE"),nI=qn("Edge"),Sm=nI||Es,rI=qn("Gecko")&&!(cf().toLowerCase().indexOf("webkit")!=-1&&!qn("Edge"))&&!(qn("Trident")||qn("MSIE"))&&!qn("Edge"),aM=cf().toLowerCase().indexOf("webkit")!=-1&&!qn("Edge");function iI(){var t=ee.document;return t?t.documentMode:void 0}var Jc;e:{var Vh="",zh=function(){var t=cf();if(rI)return/rv:([^\);]+)(\)|;)/.exec(t);if(nI)return/Edge\/([\d\.]+)/.exec(t);if(Es)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(aM)return/WebKit\/(\S+)/.exec(t);if(sM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(zh&&(Vh=zh?zh[1]:""),Es){var Hh=iI();if(Hh!=null&&Hh>parseFloat(Vh)){Jc=String(Hh);break e}}Jc=Vh}var lM={};function uM(){return oM(function(){let t=0;const e=hE(String(Jc)).split("."),n=hE("9").split("."),r=Math.max(e.length,n.length);for(let s=0;t==0&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],i[0].length==0&&o[0].length==0)break;t=Bh(i[1].length==0?0:parseInt(i[1],10),o[1].length==0?0:parseInt(o[1],10))||Bh(i[2].length==0,o[2].length==0)||Bh(i[2],o[2]),i=i[3],o=o[3]}while(t==0)}return 0<=t})}var Cm;if(ee.document&&Es){var pE=iI();Cm=pE||parseInt(Jc,10)||void 0}else Cm=void 0;var cM=Cm;function ml(t,e){if(Ot.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(rI){e:{try{Ev(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:dM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ml.X.h.call(this)}}wt(ml,Ot);var dM={2:"touch",3:"pen",4:"mouse"};ml.prototype.h=function(){ml.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Hl="closure_listenable_"+(1e6*Math.random()|0),fM=0;function hM(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++fM,this.ba=this.ea=!1}function df(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Sv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function oI(t){const e={};for(const n in t)e[n]=t[n];return e}const mE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<mE.length;o++)n=mE[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ff(t){this.src=t,this.g={},this.h=0}ff.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Im(t,e,r,i);return-1<s?(e=t[s],n||(e.ea=!1)):(e=new hM(e,this.src,o,!!r,i),e.ea=n,t.push(e)),e};function Tm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=tI(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(df(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Im(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ba&&o.listener==e&&o.capture==!!n&&o.ha==r)return i}return-1}var Cv="closure_lm_"+(1e6*Math.random()|0),Wh={};function aI(t,e,n,r,i){if(r&&r.once)return uI(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)aI(t,e[o],n,r,i);return null}return n=_v(n),t&&t[Hl]?t.N(e,n,zl(r)?!!r.capture:!!r,i):lI(t,e,n,!1,r,i)}function lI(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=zl(i)?!!i.capture:!!i,a=Iv(t);if(a||(t[Cv]=a=new ff(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=pM(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)iM||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function pM(){function t(n){return e.call(t.src,t.listener,n)}const e=mM;return t}function uI(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)uI(t,e[o],n,r,i);return null}return n=_v(n),t&&t[Hl]?t.O(e,n,zl(r)?!!r.capture:!!r,i):lI(t,e,n,!0,r,i)}function cI(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cI(t,e[o],n,r,i);else r=zl(r)?!!r.capture:!!r,n=_v(n),t&&t[Hl]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Im(o,n,r,i),-1<n&&(df(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Iv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Im(e,n,r,i)),(n=-1<t?e[t]:null)&&Tv(n))}function Tv(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Hl])Tm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Iv(e))?(Tm(n,t),n.h==0&&(n.src=null,e[Cv]=null)):df(t)}}}function dI(t){return t in Wh?Wh[t]:Wh[t]="on"+t}function mM(t,e){if(t.ba)t=!0;else{e=new ml(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Tv(t),t=n.call(r,e)}return t}function Iv(t){return t=t[Cv],t instanceof ff?t:null}var Kh="__closure_events_fn_"+(1e9*Math.random()>>>0);function _v(t){return typeof t=="function"?t:(t[Kh]||(t[Kh]=function(e){return t.handleEvent(e)}),t[Kh])}function ct(){Di.call(this),this.i=new ff(this),this.P=this,this.I=null}wt(ct,Di);ct.prototype[Hl]=!0;ct.prototype.removeEventListener=function(t,e,n,r){cI(this,t,e,n,r)};function gt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Ot(e,t);else if(e instanceof Ot)e.target=e.target||t;else{var i=e;e=new Ot(r,t),sI(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Lu(s,r,!0,e)&&i}if(s=e.g=t,i=Lu(s,r,!0,e)&&i,i=Lu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Lu(s,r,!1,e)&&i}ct.prototype.M=function(){if(ct.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)df(n[r]);delete t.g[e],t.h--}}this.I=null};ct.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ct.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Lu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ba&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.ea&&Tm(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var kv=ee.JSON.stringify;function gM(){var t=pI;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class vM{constructor(){this.h=this.g=null}add(e,n){const r=fI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var fI=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new yM,t=>t.reset());class yM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function wM(t){ee.setTimeout(()=>{throw t},0)}function hI(t,e){_m||EM(),km||(_m(),km=!0),pI.add(t,e)}var _m;function EM(){var t=ee.Promise.resolve(void 0);_m=function(){t.then(SM)}}var km=!1,pI=new vM;function SM(){for(var t;t=gM();){try{t.h.call(t.g)}catch(n){wM(n)}var e=fI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}km=!1}function hf(t,e){ct.call(this),this.h=t||1,this.g=e||ee,this.j=Dt(this.lb,this),this.l=Date.now()}wt(hf,ct);B=hf.prototype;B.ca=!1;B.R=null;B.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),gt(this,"tick"),this.ca&&(bv(this),this.start()))}};B.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function bv(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}B.M=function(){hf.X.M.call(this),bv(this),delete this.g};function xv(t,e,n){if(typeof t=="function")n&&(t=Dt(t,n));else if(t&&typeof t.handleEvent=="function")t=Dt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function mI(t){t.g=xv(()=>{t.g=null,t.i&&(t.i=!1,mI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class CM extends Di{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mI(this)}M(){super.M(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gl(t){Di.call(this),this.h=t,this.g={}}wt(gl,Di);var gE=[];function gI(t,e,n,r){Array.isArray(n)||(n&&(gE[0]=n.toString()),n=gE);for(var i=0;i<n.length;i++){var o=aI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function vI(t){Sv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Tv(e)},t),t.g={}}gl.prototype.M=function(){gl.X.M.call(this),vI(this)};gl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function pf(){this.g=!0}pf.prototype.Aa=function(){this.g=!1};function TM(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function IM(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Yo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+kM(t,n)+(r?" "+r:"")})}function _M(t,e){t.info(function(){return"TIMEOUT: "+e})}pf.prototype.info=function(){};function kM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return kv(n)}catch{return e}}var So={},vE=null;function mf(){return vE=vE||new ct}So.Pa="serverreachability";function yI(t){Ot.call(this,So.Pa,t)}wt(yI,Ot);function vl(t){const e=mf();gt(e,new yI(e))}So.STAT_EVENT="statevent";function wI(t,e){Ot.call(this,So.STAT_EVENT,t),this.stat=e}wt(wI,Ot);function Ft(t){const e=mf();gt(e,new wI(e,t))}So.Qa="timingevent";function EI(t,e){Ot.call(this,So.Qa,t),this.size=e}wt(EI,Ot);function Wl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}var gf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},SI={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Rv(){}Rv.prototype.h=null;function yE(t){return t.h||(t.h=t.i())}function CI(){}var Kl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Nv(){Ot.call(this,"d")}wt(Nv,Ot);function Dv(){Ot.call(this,"c")}wt(Dv,Ot);var bm;function vf(){}wt(vf,Rv);vf.prototype.g=function(){return new XMLHttpRequest};vf.prototype.i=function(){return{}};bm=new vf;function ql(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new gl(this),this.O=bM,t=Sm?125:void 0,this.T=new hf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new TI}function TI(){this.i=null,this.g="",this.h=!1}var bM=45e3,xm={},Zc={};B=ql.prototype;B.setTimeout=function(t){this.O=t};function Rm(t,e,n){t.K=1,t.v=wf(Or(e)),t.s=n,t.P=!0,II(t,null)}function II(t,e){t.F=Date.now(),Gl(t),t.A=Or(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),OI(n.i,"t",r),t.C=0,n=t.l.H,t.h=new TI,t.g=ZI(t.l,n?e:null,!t.s),0<t.N&&(t.L=new CM(Dt(t.La,t,t.g),t.N)),gI(t.S,t.g,"readystatechange",t.ib),e=t.H?oI(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),vl(),TM(t.j,t.u,t.A,t.m,t.U,t.s)}B.ib=function(t){t=t.target;const e=this.L;e&&yr(t)==3?e.l():this.La(t)};B.La=function(t){try{if(t==this.g)e:{const c=yr(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||Sm||this.g&&(this.h.h||this.g.fa()||CE(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?vl(3):vl(2)),yf(this);var n=this.g.aa();this.Y=n;t:if(_I(this)){var r=CE(this.g);t="";var i=r.length,o=yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ki(this),Ma(this);var s="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=n==200,IM(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xc(a)){var u=a;break t}}u=null}if(n=u)Yo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Nm(this,n);else{this.i=!1,this.o=3,Ft(12),Ki(this),Ma(this);break e}}this.P?(kI(this,c,s),Sm&&this.i&&c==3&&(gI(this.S,this.T,"tick",this.hb),this.T.start())):(Yo(this.j,this.m,s,null),Nm(this,s)),c==4&&Ki(this),this.i&&!this.I&&(c==4?QI(this.l,this):(this.i=!1,Gl(this)))}else n==400&&0<s.indexOf("Unknown SID")?(this.o=3,Ft(12)):(this.o=0,Ft(13)),Ki(this),Ma(this)}}}catch{}finally{}};function _I(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function kI(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=xM(t,n),i==Zc){e==4&&(t.o=4,Ft(14),r=!1),Yo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==xm){t.o=4,Ft(15),Yo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Yo(t.j,t.m,i,null),Nm(t,i);_I(t)&&i!=Zc&&i!=xm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ft(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fv(e),e.K=!0,Ft(11))):(Yo(t.j,t.m,n,"[Invalid Chunked Response]"),Ki(t),Ma(t))}B.hb=function(){if(this.g){var t=yr(this.g),e=this.g.fa();this.C<e.length&&(yf(this),kI(this,t,e),this.i&&t!=4&&Gl(this))}};function xM(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Zc:(n=Number(e.substring(n,r)),isNaN(n)?xm:(r+=1,r+n>e.length?Zc:(e=e.substr(r,n),t.C=r+n,e)))}B.cancel=function(){this.I=!0,Ki(this)};function Gl(t){t.V=Date.now()+t.O,bI(t,t.O)}function bI(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Wl(Dt(t.gb,t),e)}function yf(t){t.B&&(ee.clearTimeout(t.B),t.B=null)}B.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(_M(this.j,this.A),this.K!=2&&(vl(),Ft(17)),Ki(this),this.o=2,Ma(this)):bI(this,this.V-t)};function Ma(t){t.l.G==0||t.I||QI(t.l,t)}function Ki(t){yf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,bv(t.T),vI(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Nm(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Dm(n.h,t))){if(!t.J&&Dm(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)nd(n),Cf(n);else break e;Lv(n),Ft(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Wl(Dt(n.cb,n),6e3));if(1>=$I(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else qi(n,11)}else if((t.J||n.g==t)&&nd(n),!Xc(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const v=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=r.h;o.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Ov(o,o.h),o.h=null))}if(r.D){const w=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.za=w,Ue(r.F,r.D,w))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var s=t;if(r.sa=JI(r,r.H?r.ka:null,r.V),s.J){MI(r.h,s);var a=s,l=r.J;l&&a.setTimeout(l),a.B&&(yf(a),Gl(a)),r.g=s}else qI(r);0<n.i.length&&Tf(n)}else u[0]!="stop"&&u[0]!="close"||qi(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?qi(n,7):Mv(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}vl(4)}catch{}}function RM(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(uf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function NM(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(uf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function xI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(uf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=NM(t),r=RM(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var RI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ji(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ji){this.h=e!==void 0?e:t.h,ed(this,t.j),this.s=t.s,this.g=t.g,td(this,t.m),this.l=t.l,e=t.i;var n=new yl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wE(this,n),this.o=t.o}else t&&(n=String(t).match(RI))?(this.h=!!e,ed(this,n[1]||"",!0),this.s=Sa(n[2]||""),this.g=Sa(n[3]||"",!0),td(this,n[4]),this.l=Sa(n[5]||"",!0),wE(this,n[6]||"",!0),this.o=Sa(n[7]||"")):(this.h=!!e,this.i=new yl(null,this.h))}Ji.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ca(e,EE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ca(e,EE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ca(n,n.charAt(0)=="/"?PM:AM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ca(n,MM)),t.join("")};function Or(t){return new Ji(t)}function ed(t,e,n){t.j=n?Sa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function td(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wE(t,e,n){e instanceof yl?(t.i=e,LM(t.i,t.h)):(n||(e=Ca(e,$M)),t.i=new yl(e,t.h))}function Ue(t,e,n){t.i.set(e,n)}function wf(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Sa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ca(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,OM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function OM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var EE=/[#\/\?@]/g,AM=/[#\?:]/g,PM=/[#\?]/g,$M=/[#\?@]/g,MM=/#/g;function yl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Oi(t){t.g||(t.g=new Map,t.h=0,t.i&&DM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}B=yl.prototype;B.add=function(t,e){Oi(this),this.i=null,t=Us(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function NI(t,e){Oi(t),e=Us(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function DI(t,e){return Oi(t),e=Us(t,e),t.g.has(e)}B.forEach=function(t,e){Oi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};B.oa=function(){Oi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};B.W=function(t){Oi(this);let e=[];if(typeof t=="string")DI(this,t)&&(e=e.concat(this.g.get(Us(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};B.set=function(t,e){return Oi(this),this.i=null,t=Us(this,t),DI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};B.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function OI(t,e,n){NI(t,e),0<n.length&&(t.i=null,t.g.set(Us(t,e),wv(n)),t.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.W(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Us(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function LM(t,e){e&&!t.j&&(Oi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(NI(this,r),OI(this,i,n))},t)),t.j=e}var FM=class{constructor(e,n){this.h=e,this.g=n}};function AI(t){this.l=t||UM,ee.PerformanceNavigationTiming?(t=ee.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ee.g&&ee.g.Ga&&ee.g.Ga()&&ee.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var UM=10;function PI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function $I(t){return t.h?1:t.g?t.g.size:0}function Dm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ov(t,e){t.g?t.g.add(e):t.h=e}function MI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}AI.prototype.cancel=function(){if(this.i=LI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function LI(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return wv(t.i)}function Av(){}Av.prototype.stringify=function(t){return ee.JSON.stringify(t,void 0)};Av.prototype.parse=function(t){return ee.JSON.parse(t,void 0)};function jM(){this.g=new Av}function BM(t,e,n){const r=n||"";try{xI(t,function(i,o){let s=i;zl(i)&&(s=kv(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function VM(t,e){const n=new pf;if(ee.Image){const r=new Image;r.onload=Mu(Fu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Mu(Fu,n,r,"TestLoadImage: error",!1,e),r.onabort=Mu(Fu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Mu(Fu,n,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Fu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ql(t){this.l=t.ac||null,this.j=t.jb||!1}wt(Ql,Rv);Ql.prototype.g=function(){return new Ef(this.l,this.j)};Ql.prototype.i=function(t){return function(){return t}}({});function Ef(t,e){ct.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Pv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wt(Ef,ct);var Pv=0;B=Ef.prototype;B.open=function(t,e){if(this.readyState!=Pv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,wl(this)};B.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ee).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yl(this)),this.readyState=Pv};B.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,wl(this)),this.g&&(this.readyState=3,wl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;FI(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function FI(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}B.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Yl(this):wl(this),this.readyState==3&&FI(this)}};B.Va=function(t){this.g&&(this.response=this.responseText=t,Yl(this))};B.Ua=function(t){this.g&&(this.response=t,Yl(this))};B.ga=function(){this.g&&Yl(this)};function Yl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,wl(t)}B.setRequestHeader=function(t,e){this.v.append(t,e)};B.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function wl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ef.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var zM=ee.JSON.parse;function Ke(t){ct.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=UI,this.K=this.L=!1}wt(Ke,ct);var UI="",HM=/^https?$/i,WM=["POST","PUT"];B=Ke.prototype;B.Ka=function(t){this.L=t};B.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():bm.g(),this.C=this.u?yE(this.u):yE(bm),this.g.onreadystatechange=Dt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){SE(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ee.FormData&&t instanceof ee.FormData,!(0<=tI(WM,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{VI(this),0<this.B&&((this.K=KM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dt(this.qa,this)):this.A=xv(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){SE(this,o)}};function KM(t){return Es&&uM()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}B.qa=function(){typeof yv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gt(this,"timeout"),this.abort(8))};function SE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,jI(t),Sf(t)}function jI(t){t.D||(t.D=!0,gt(t,"complete"),gt(t,"error"))}B.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,gt(this,"complete"),gt(this,"abort"),Sf(this))};B.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sf(this,!0)),Ke.X.M.call(this)};B.Ha=function(){this.s||(this.F||this.v||this.l?BI(this):this.fb())};B.fb=function(){BI(this)};function BI(t){if(t.h&&typeof yv<"u"&&(!t.C[1]||yr(t)!=4||t.aa()!=2)){if(t.v&&yr(t)==4)xv(t.Ha,0,t);else if(gt(t,"readystatechange"),yr(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(RI)[1]||null;if(!i&&ee.self&&ee.self.location){var o=ee.self.location.protocol;i=o.substr(0,o.length-1)}r=!HM.test(i?i.toLowerCase():"")}n=r}if(n)gt(t,"complete"),gt(t,"success");else{t.m=6;try{var s=2<yr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.aa()+"]",jI(t)}}finally{Sf(t)}}}}function Sf(t,e){if(t.g){VI(t);const n=t.g,r=t.C[0]?Yc:null;t.g=null,t.C=null,e||gt(t,"ready");try{n.onreadystatechange=r}catch{}}}function VI(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}function yr(t){return t.g?t.g.readyState:0}B.aa=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}};B.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),zM(e)}};function CE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case UI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}B.Ea=function(){return this.m};B.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function zI(t){let e="";return Sv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function $v(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=zI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ue(t,e,n))}function da(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function HI(t){this.Ca=0,this.i=[],this.j=new pf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=da("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=da("baseRetryDelayMs",5e3,t),this.bb=da("retryDelaySeedMs",1e4,t),this.$a=da("forwardChannelMaxRetries",2,t),this.ta=da("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new AI(t&&t.concurrentRequestLimit),this.Fa=new jM,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}B=HI.prototype;B.ma=8;B.G=1;function Mv(t){if(WI(t),t.G==3){var e=t.U++,n=Or(t.F);Ue(n,"SID",t.I),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),Xl(t,n),e=new ql(t,t.j,e,void 0),e.K=2,e.v=wf(Or(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon&&(n=ee.navigator.sendBeacon(e.v.toString(),"")),!n&&ee.Image&&(new Image().src=e.v,n=!0),n||(e.g=ZI(e.l,null),e.g.da(e.v)),e.F=Date.now(),Gl(e)}XI(t)}function Cf(t){t.g&&(Fv(t),t.g.cancel(),t.g=null)}function WI(t){Cf(t),t.u&&(ee.clearTimeout(t.u),t.u=null),nd(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ee.clearTimeout(t.m),t.m=null)}function Tf(t){PI(t.h)||t.m||(t.m=!0,hI(t.Ja,t),t.C=0)}function qM(t,e){return $I(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Wl(Dt(t.Ja,t,e),YI(t,t.C)),t.C++,!0)}B.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new ql(this,this.j,t,void 0);let o=this.s;if(this.S&&(o?(o=oI(o),sI(o,this.S)):o=this.S),this.o!==null||this.N||(i.H=o,o=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=KI(this,i,e),n=Or(this.F),Ue(n,"RID",t),Ue(n,"CVER",22),this.D&&Ue(n,"X-HTTP-Session-Id",this.D),Xl(this,n),o&&(this.N?e="headers="+encodeURIComponent(String(zI(o)))+"&"+e:this.o&&$v(n,this.o,o)),Ov(this.h,i),this.Ya&&Ue(n,"TYPE","init"),this.O?(Ue(n,"$req",e),Ue(n,"SID","null"),i.Z=!0,Rm(i,n,null)):Rm(i,n,e),this.G=2}}else this.G==3&&(t?TE(this,t):this.i.length==0||PI(this.h)||TE(this))};function TE(t,e){var n;e?n=e.m:n=t.U++;const r=Or(t.F);Ue(r,"SID",t.I),Ue(r,"RID",n),Ue(r,"AID",t.T),Xl(t,r),t.o&&t.s&&$v(r,t.o,t.s),n=new ql(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=KI(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Ov(t.h,n),Rm(n,r,e)}function Xl(t,e){t.ia&&Sv(t.ia,function(n,r){Ue(e,r,n)}),t.l&&xI({},function(n,r){Ue(e,r,n)})}function KI(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Dt(t.l.Ra,t.l,t):null;e:{var i=t.i;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=o,0>u)o=Math.max(0,i[l].h-100),a=!1;else try{BM(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function qI(t){t.g||t.u||(t.Z=1,hI(t.Ia,t),t.A=0)}function Lv(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Wl(Dt(t.Ia,t),YI(t,t.A)),t.A++,!0)}B.Ia=function(){if(this.u=null,GI(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Wl(Dt(this.eb,this),t)}};B.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ft(10),Cf(this),GI(this))};function Fv(t){t.B!=null&&(ee.clearTimeout(t.B),t.B=null)}function GI(t){t.g=new ql(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Or(t.sa);Ue(e,"RID","rpc"),Ue(e,"SID",t.I),Ue(e,"CI",t.L?"0":"1"),Ue(e,"AID",t.T),Ue(e,"TYPE","xmlhttp"),Xl(t,e),t.o&&t.s&&$v(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=wf(Or(e)),n.s=null,n.P=!0,II(n,t)}B.cb=function(){this.v!=null&&(this.v=null,Cf(this),Lv(this),Ft(19))};function nd(t){t.v!=null&&(ee.clearTimeout(t.v),t.v=null)}function QI(t,e){var n=null;if(t.g==e){nd(t),Fv(t),t.g=null;var r=2}else if(Dm(t.h,e))n=e.D,MI(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=mf(),gt(r,new EI(r,n)),Tf(t)}else qI(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&qM(t,e)||r==2&&Lv(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:qi(t,5);break;case 4:qi(t,10);break;case 3:qi(t,6);break;default:qi(t,2)}}}function YI(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function qi(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Dt(t.kb,t);n||(n=new Ji("//www.google.com/images/cleardot.gif"),ee.location&&ee.location.protocol=="http"||ed(n,"https"),wf(n)),VM(n.toString(),r)}else Ft(2);t.G=0,t.l&&t.l.va(e),XI(t),WI(t)}B.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function XI(t){if(t.G=0,t.la=[],t.l){const e=LI(t.h);(e.length!=0||t.i.length!=0)&&(fE(t.la,e),fE(t.la,t.i),t.h.i.length=0,wv(t.i),t.i.length=0),t.l.ua()}}function JI(t,e,n){var r=n instanceof Ji?Or(n):new Ji(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),td(r,r.m);else{var i=ee.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Ji(null,void 0);r&&ed(o,r),e&&(o.g=e),i&&td(o,i),n&&(o.l=n),r=o}return n=t.D,e=t.za,n&&e&&Ue(r,n,e),Ue(r,"VER",t.ma),Xl(t,r),r}function ZI(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Ke(new Ql({jb:!0})):new Ke(t.ra),e.Ka(t.H),e}function e_(){}B=e_.prototype;B.xa=function(){};B.wa=function(){};B.va=function(){};B.ua=function(){};B.Ra=function(){};function rd(){if(Es&&!(10<=Number(cM)))throw Error("Environmental error: no available transport.")}rd.prototype.g=function(t,e){return new sn(t,e)};function sn(t,e){ct.call(this),this.g=new HI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Xc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xc(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new js(this)}wt(sn,ct);sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Ft(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=JI(t,null,t.V),Tf(t)};sn.prototype.close=function(){Mv(this.g)};sn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=kv(t),t=n);e.i.push(new FM(e.ab++,t)),e.G==3&&Tf(e)};sn.prototype.M=function(){this.g.l=null,delete this.j,Mv(this.g),delete this.g,sn.X.M.call(this)};function t_(t){Nv.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}wt(t_,Nv);function n_(){Dv.call(this),this.status=1}wt(n_,Dv);function js(t){this.g=t}wt(js,e_);js.prototype.xa=function(){gt(this.g,"a")};js.prototype.wa=function(t){gt(this.g,new t_(t))};js.prototype.va=function(t){gt(this.g,new n_)};js.prototype.ua=function(){gt(this.g,"b")};rd.prototype.createWebChannel=rd.prototype.g;sn.prototype.send=sn.prototype.u;sn.prototype.open=sn.prototype.m;sn.prototype.close=sn.prototype.close;gf.NO_ERROR=0;gf.TIMEOUT=8;gf.HTTP_ERROR=6;SI.COMPLETE="complete";CI.EventType=Kl;Kl.OPEN="a";Kl.CLOSE="b";Kl.ERROR="c";Kl.MESSAGE="d";ct.prototype.listen=ct.prototype.N;Ke.prototype.listenOnce=Ke.prototype.O;Ke.prototype.getLastError=Ke.prototype.Oa;Ke.prototype.getLastErrorCode=Ke.prototype.Ea;Ke.prototype.getStatus=Ke.prototype.aa;Ke.prototype.getResponseJson=Ke.prototype.Sa;Ke.prototype.getResponseText=Ke.prototype.fa;Ke.prototype.send=Ke.prototype.da;Ke.prototype.setWithCredentials=Ke.prototype.Ka;var GM=function(){return new rd},QM=function(){return mf()},qh=gf,YM=SI,XM=So,IE={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},JM=Ql,Uu=CI,ZM=Ke;const _E="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="9.19.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new mv("@firebase/firestore");function kE(){return ho.logLevel}function z(t,...e){if(ho.logLevel<=Ie.DEBUG){const n=e.map(Uv);ho.debug(`Firestore (${Bs}): ${t}`,...n)}}function Ar(t,...e){if(ho.logLevel<=Ie.ERROR){const n=e.map(Uv);ho.error(`Firestore (${Bs}): ${t}`,...n)}}function id(t,...e){if(ho.logLevel<=Ie.WARN){const n=e.map(Uv);ho.warn(`Firestore (${Bs}): ${t}`,...n)}}function Uv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: `+t;throw Ar(e),new Error(e)}function $e(t,e){t||Z()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends Br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class tL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nL{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new r_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new bt(e)}}class rL{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class iL{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new rL(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sL{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.T=n.token,new oL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=aL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function Ss(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ie(e)}static min(){return new ie(new rt(0,0))}static max(){return new ie(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return El.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof El?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ae extends El{construct(e,n,r){return new Ae(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new U(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const lL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends El{construct(e,n,r){return new Nt(e,n,r)}static isValidIdentifier(e){return lL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new U(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new U(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new U(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.path=e}static fromPath(e){return new W(Ae.fromString(e))}static fromName(e){return new W(Ae.fromString(e).popFirst(5))}static empty(){return new W(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new Ae(e.slice()))}}function uL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Ii(i,W.empty(),e)}function cL(t){return new Ii(t.readTime,t.key,-1)}class Ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ii(ie.min(),W.empty(),-1)}static max(){return new Ii(ie.max(),W.empty(),-1)}}function dL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==fL)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new O((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Zl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}jv.ct=-1;function If(t){return t==null}function od(t){return t===0&&1/t==-1/0}function pL(t){return typeof t=="number"&&Number.isInteger(t)&&!od(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function o_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??pt.RED,this.left=i??pt.EMPTY,this.right=o??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new pt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(t,e,n,r,i){return this}insert(t,e,n){return new pt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xE(this.data.getIterator())}getIteratorFrom(e){return new xE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class xE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new tn([])}unionWith(e){let n=new it(Nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ss(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mL("Invalid base64 string: "+i):i}}(e);return new $t(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const gL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _i(t){if($e(!!t),typeof t=="string"){let e=0;const n=gL.exec(t);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cs(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function a_(t){const e=t.mapValue.fields.__previous_value__;return s_(e)?a_(e):e}function Sl(t){const e=_i(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n,r,i,o,s,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Cl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function po(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?s_(t)?4:yL(t)?9007199254740991:10:Z()}function ir(t,e){if(t===e)return!0;const n=po(t);if(n!==po(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sl(t).isEqual(Sl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=_i(r.timestampValue),s=_i(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Cs(r.bytesValue).isEqual(Cs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ye(r.geoPointValue.latitude)===Ye(i.geoPointValue.latitude)&&Ye(r.geoPointValue.longitude)===Ye(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ye(r.integerValue)===Ye(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Ye(r.doubleValue),s=Ye(i.doubleValue);return o===s?od(o)===od(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Ss(t.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(bE(o)!==bE(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!ir(o[a],s[a])))return!1;return!0}(t,e);default:return Z()}}function Tl(t,e){return(t.values||[]).find(n=>ir(n,e))!==void 0}function Ts(t,e){if(t===e)return 0;const n=po(t),r=po(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=Ye(i.integerValue||i.doubleValue),a=Ye(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return RE(t.timestampValue,e.timestampValue);case 4:return RE(Sl(t),Sl(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(i,o){const s=Cs(i),a=Cs(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const u=_e(s[l],a[l]);if(u!==0)return u}return _e(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=_e(Ye(i.latitude),Ye(o.latitude));return s!==0?s:_e(Ye(i.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const u=Ts(s[l],a[l]);if(u)return u}return _e(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Bu.mapValue&&o===Bu.mapValue)return 0;if(i===Bu.mapValue)return 1;if(o===Bu.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),l=o.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=_e(a[c],u[c]);if(d!==0)return d;const f=Ts(s[a[c]],l[u[c]]);if(f!==0)return f}return _e(a.length,u.length)}(t.mapValue,e.mapValue);default:throw Z()}}function RE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=_i(t),r=_i(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function Is(t){return Om(t)}function Om(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=_i(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Cs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,W.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=Om(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${Om(r.fields[a])}`;return o+"}"}(t.mapValue):Z();var e,n}function NE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Am(t){return!!t&&"integerValue"in t}function Bv(t){return!!t&&"arrayValue"in t}function DE(t){return!!t&&"nullValue"in t}function OE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sc(t){return!!t&&"mapValue"in t}function La(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=La(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=La(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=La(n)}setAll(e){let n=Nt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=La(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());sc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Co(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ht(La(this.value))}}function l_(t){const e=[];return Co(t.fields,(n,r)=>{const i=new Nt([n]);if(sc(r)){const o=l_(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Rt(e,0,ie.min(),ie.min(),ie.min(),Ht.empty(),0)}static newFoundDocument(e,n,r,i){return new Rt(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new Rt(e,2,n,ie.min(),ie.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,ie.min(),ie.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.position=e,this.inclusive=n}}function AE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),n.key):r=Ts(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function PE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n="asc"){this.field=e,this.dir=n}}function wL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{}class Je extends u_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SL(e,n,r):n==="array-contains"?new IL(e,r):n==="in"?new _L(e,r):n==="not-in"?new kL(e,r):n==="array-contains-any"?new bL(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CL(e,r):new TL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ts(n,this.value)):n!==null&&po(this.value)===po(n)&&this.matchesComparison(Ts(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Un extends u_{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Un(e,n)}matches(e){return c_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function c_(t){return t.op==="and"}function d_(t){return EL(t)&&c_(t)}function EL(t){for(const e of t.filters)if(e instanceof Un)return!1;return!0}function Pm(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+Is(t.value);if(d_(t))return t.filters.map(e=>Pm(e)).join(",");{const e=t.filters.map(n=>Pm(n)).join(",");return`${t.op}(${e})`}}function f_(t,e){return t instanceof Je?function(n,r){return r instanceof Je&&n.op===r.op&&n.field.isEqual(r.field)&&ir(n.value,r.value)}(t,e):t instanceof Un?function(n,r){return r instanceof Un&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,s)=>i&&f_(o,r.filters[s]),!0):!1}(t,e):void Z()}function h_(t){return t instanceof Je?function(e){return`${e.field.canonicalString()} ${e.op} ${Is(e.value)}`}(t):t instanceof Un?function(e){return e.op.toString()+" {"+e.getFilters().map(h_).join(" ,")+"}"}(t):"Filter"}class SL extends Je{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.matchesComparison(n)}}class CL extends Je{constructor(e,n){super(e,"in",n),this.keys=p_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class TL extends Je{constructor(e,n){super(e,"not-in",n),this.keys=p_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function p_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}class IL extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bv(n)&&Tl(n.arrayValue,this.value)}}class _L extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tl(this.value.arrayValue,n)}}class kL extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Tl(this.value.arrayValue,n)}}class bL extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Tl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ft=null}}function $E(t,e=null,n=[],r=[],i=null,o=null,s=null){return new xL(t,e,n,r,i,o,s)}function Vv(t){const e=oe(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Pm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),If(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Is(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Is(r)).join(",")),e.ft=n}return e.ft}function zv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!f_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PE(t.startAt,e.startAt)&&PE(t.endAt,e.endAt)}function $m(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function RL(t,e,n,r,i,o,s,a){return new eu(t,e,n,r,i,o,s,a)}function Hv(t){return new eu(t)}function ME(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function m_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Wv(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function g_(t){return t.collectionGroup!==null}function ss(t){const e=oe(t);if(e.dt===null){e.dt=[];const n=Wv(e),r=m_(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new Fa(n)),e.dt.push(new Fa(Nt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Fa(Nt.keyField(),o))}}}return e.dt}function Pr(t){const e=oe(t);if(!e.wt)if(e.limitType==="F")e.wt=$E(e.path,e.collectionGroup,ss(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of ss(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new Fa(o.field,s))}const r=e.endAt?new sd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new sd(e.startAt.position,e.startAt.inclusive):null;e.wt=$E(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function Mm(t,e){e.getFirstInequalityField(),Wv(t);const n=t.filters.concat([e]);return new eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lm(t,e,n){return new eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _f(t,e){return zv(Pr(t),Pr(e))&&t.limitType===e.limitType}function v_(t){return`${Vv(Pr(t))}|lt:${t.limitType}`}function Fm(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>h_(r)).join(", ")}]`),If(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Is(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Is(r)).join(",")),`Target(${n})`}(Pr(t))}; limitType=${t.limitType})`}function kf(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):W.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ss(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,s){const a=AE(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,ss(n),r)||n.endAt&&!function(i,o,s){const a=AE(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,ss(n),r))}(t,e)}function NL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function y_(t){return(e,n)=>{let r=!1;for(const i of ss(t)){const o=DL(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function DL(t,e,n){const r=t.field.isKeyField()?W.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),l=s.data.field(i);return a!==null&&l!==null?Ts(a,l):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return o_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=new ot(W.comparator);function $r(){return OL}const w_=new ot(W.comparator);function Ta(...t){let e=w_;for(const n of t)e=e.insert(n.key,n);return e}function E_(t){let e=w_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gi(){return Ua()}function S_(){return Ua()}function Ua(){return new Vs(t=>t.toString(),(t,e)=>t.isEqual(e))}const AL=new ot(W.comparator),PL=new it(W.comparator);function ce(...t){let e=PL;for(const n of t)e=e.add(n);return e}const $L=new it(_e);function C_(){return $L}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function I_(t){return{integerValue:""+t}}function ML(t,e){return pL(e)?I_(e):T_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this._=void 0}}function LL(t,e,n){return t instanceof ad?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Il?k_(t,e):t instanceof _l?b_(t,e):function(r,i){const o=__(r,i),s=LE(o)+LE(r._t);return Am(o)&&Am(r._t)?I_(s):T_(r.serializer,s)}(t,e)}function FL(t,e,n){return t instanceof Il?k_(t,e):t instanceof _l?b_(t,e):n}function __(t,e){return t instanceof ld?Am(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class ad extends bf{}class Il extends bf{constructor(e){super(),this.elements=e}}function k_(t,e){const n=x_(e);for(const r of t.elements)n.some(i=>ir(i,r))||n.push(r);return{arrayValue:{values:n}}}class _l extends bf{constructor(e){super(),this.elements=e}}function b_(t,e){let n=x_(e);for(const r of t.elements)n=n.filter(i=>!ir(i,r));return{arrayValue:{values:n}}}class ld extends bf{constructor(e,n){super(),this.serializer=e,this._t=n}}function LE(t){return Ye(t.integerValue||t.doubleValue)}function x_(t){return Bv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UL(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Il&&r instanceof Il||n instanceof _l&&r instanceof _l?Ss(n.elements,r.elements,ir):n instanceof ld&&r instanceof ld?ir(n._t,r._t):n instanceof ad&&r instanceof ad}(t.transform,e.transform)}class jL{constructor(e,n){this.version=e,this.transformResults=n}}class yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ac(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xf{}function R_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kv(t.key,yn.none()):new tu(t.key,t.data,yn.none());{const n=t.data,r=Ht.empty();let i=new it(Nt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ai(t.key,r,new tn(i.toArray()),yn.none())}}function BL(t,e,n){t instanceof tu?function(r,i,o){const s=r.value.clone(),a=UE(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Ai?function(r,i,o){if(!ac(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=UE(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(N_(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ja(t,e,n,r){return t instanceof tu?function(i,o,s,a){if(!ac(i.precondition,o))return s;const l=i.value.clone(),u=jE(i.fieldTransforms,a,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ai?function(i,o,s,a){if(!ac(i.precondition,o))return s;const l=jE(i.fieldTransforms,a,o),u=o.data;return u.setAll(N_(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,o,s){return ac(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function VL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=__(r.transform,i||null);o!=null&&(n===null&&(n=Ht.empty()),n.set(r.field,o))}return n||null}function FE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ss(n,r,(i,o)=>UL(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tu extends xf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ai extends xf{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function N_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function UE(t,e,n){const r=new Map;$e(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,FL(s,a,n[i]))}return r}function jE(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,LL(o,s,e))}return r}class Kv extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zL extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&BL(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ja(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ja(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=S_();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=R_(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Ss(this.mutations,e.mutations,(n,r)=>FE(n,r))&&Ss(this.baseMutations,e.baseMutations,(n,r)=>FE(n,r))}}class qv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$e(e.mutations.length===r.length);let i=AL;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new qv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,pe;function qL(t){switch(t){default:return Z();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function D_(t){if(t===void 0)return Ar("GRPC error has no .code"),R.UNKNOWN;switch(t){case Ge.OK:return R.OK;case Ge.CANCELLED:return R.CANCELLED;case Ge.UNKNOWN:return R.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return R.INTERNAL;case Ge.UNAVAILABLE:return R.UNAVAILABLE;case Ge.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Ge.NOT_FOUND:return R.NOT_FOUND;case Ge.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Ge.ABORTED:return R.ABORTED;case Ge.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Ge.DATA_LOSS:return R.DATA_LOSS;default:return Z()}}(pe=Ge||(Ge={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Vu}static getOrCreateInstance(){return Vu===null&&(Vu=new Gv),Vu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Vu=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rf(ie.min(),i,C_(),$r(),ce())}}class nu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nu(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class O_{constructor(e,n){this.targetId=e,this.Et=n}}class A_{constructor(e,n,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class BE{constructor(){this.At=0,this.Rt=zE(),this.vt=$t.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=ce(),n=ce(),r=ce();return this.Rt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new nu(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=zE()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class GL{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=$r(),this.qt=VE(),this.Ut=new it(_e)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,o=this.Yt(r);if(o){const s=o.target;if($m(s))if(i===0){const a=new W(s.path);this.Qt(r,a,Rt.newNoDocument(a,ie.min()))}else $e(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=Gv.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((o,s)=>{const a=this.Yt(s);if(a){if(o.current&&$m(a.target)){const l=new W(a.target.path);this.Lt.get(l)!==null||this.te(s,l)||this.Qt(s,l,Rt.newNoDocument(l,e))}o.St&&(n.set(s,o.Ct()),o.xt())}});let r=ce();this.qt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(o))}),this.Lt.forEach((o,s)=>s.setReadTime(e));const i=new Rf(e,n,this.Ut,this.Lt,r);return this.Lt=$r(),this.qt=VE(),this.Ut=new it(_e),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new BE,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new it(_e),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new BE),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function VE(){return new ot(W.comparator)}function zE(){return new ot(W.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),YL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),XL=(()=>({and:"AND",or:"OR"}))();class JL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZL(t,e){return ud(t,e.toTimestamp())}function Zn(t){return $e(!!t),ie.fromTimestamp(function(e){const n=_i(e);return new rt(n.seconds,n.nanos)}(t))}function Qv(t,e){return function(n){return new Ae(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function $_(t){const e=Ae.fromString(t);return $e(U_(e)),e}function Um(t,e){return Qv(t.databaseId,e.path)}function Gh(t,e){const n=$_(e);if(n.get(1)!==t.databaseId.projectId)throw new U(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(M_(n))}function jm(t,e){return Qv(t.databaseId,e)}function eF(t){const e=$_(t);return e.length===4?Ae.emptyPath():M_(e)}function Bm(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function M_(t){return $e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function HE(t,e,n){return{name:Um(t,e),fields:n.value.mapValue.fields}}function tF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?($e(u===void 0||typeof u=="string"),$t.fromBase64String(u||"")):($e(u===void 0||u instanceof Uint8Array),$t.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const u=l.code===void 0?R.UNKNOWN:D_(l.code);return new U(u,l.message||"")}(s);n=new A_(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gh(t,r.document.name),o=Zn(r.document.updateTime),s=r.document.createTime?Zn(r.document.createTime):ie.min(),a=new Ht({mapValue:{fields:r.document.fields}}),l=Rt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new lc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gh(t,r.document),o=r.readTime?Zn(r.readTime):ie.min(),s=Rt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new lc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gh(t,r.document),o=r.removedTargetIds||[];n=new lc([],o,i,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,o=new KL(i),s=r.targetId;n=new O_(s,o)}}return n}function nF(t,e){let n;if(e instanceof tu)n={update:HE(t,e.key,e.value)};else if(e instanceof Kv)n={delete:Um(t,e.key)};else if(e instanceof Ai)n={update:HE(t,e.key,e.data),updateMask:dF(e.fieldMask)};else{if(!(e instanceof zL))return Z();n={verify:Um(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof ad)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Il)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof _l)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof ld)return{fieldPath:o.field.canonicalString(),increment:s._t};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:ZL(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Z()}(t,e.precondition)),n}function rF(t,e){return t&&t.length>0?($e(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?Zn(r.updateTime):Zn(i);return o.isEqual(ie.min())&&(o=Zn(i)),new jL(o,r.transformResults||[])}(n,e))):[]}function iF(t,e){return{documents:[jm(t,e.path)]}}function oF(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=jm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=jm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return F_(Un.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Ao(c.field),direction:lF(c.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(l,u){return l.useProto3Json||If(u)?u:{value:u}}(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function sF(t){let e=eF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(c){const d=L_(c);return d instanceof Un&&d_(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(c=>function(d){return new Fa(Po(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,If(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,f=c.values||[];return new sd(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,f=c.values||[];return new sd(f,d)}(n.endAt)),RL(e,i,s,o,a,"F",l,u)}function aF(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Z()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function L_(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Po(e.unaryFilter.field);return Je.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Po(e.unaryFilter.field);return Je.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Po(e.unaryFilter.field);return Je.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Po(e.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(e){return Je.create(Po(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Un.create(e.compositeFilter.filters.map(n=>L_(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Z()}}(e.compositeFilter.op))}(t):Z()}function lF(t){return QL[t]}function uF(t){return YL[t]}function cF(t){return XL[t]}function Ao(t){return{fieldPath:t.canonicalString()}}function Po(t){return Nt.fromServerFormat(t.fieldPath)}function F_(t){return t instanceof Je?function(e){if(e.op==="=="){if(OE(e.value))return{unaryFilter:{field:Ao(e.field),op:"IS_NAN"}};if(DE(e.value))return{unaryFilter:{field:Ao(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(OE(e.value))return{unaryFilter:{field:Ao(e.field),op:"IS_NOT_NAN"}};if(DE(e.value))return{unaryFilter:{field:Ao(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(e.field),op:uF(e.op),value:e.value}}}(t):t instanceof Un?function(e){const n=e.getFilters().map(r=>F_(r));return n.length===1?n[0]:{compositeFilter:{op:cF(e.op),filters:n}}}(t):Z()}function dF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function U_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,i,o=ie.min(),s=ie.min(),a=$t.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e){this.se=e}}function hF(t){const e=sF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.He=new mF}addToCollectionParentIndex(e,n){return this.He.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Ii.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class mF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(Ae.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new _s(0)}static bn(){return new _s(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this.changes=new Vs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ja(r.mutation,i,tn.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=Gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ta();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=$r();const s=Ua(),a=Ua();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ai)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),ja(c.mutation,u,c.mutation.getFieldMask(),rt.now())):s.set(u.key,tn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new vF(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ua();let i=new ot((s,a)=>s-a),o=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||tn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ce()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=S_();c.forEach(f=>{if(!o.has(f)){const h=R_(n.get(f),r.get(f));h!==null&&d.set(f,h),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return W.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):g_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(Gi());let a=-1,l=o;return s.next(u=>O.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?O.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ce())).next(c=>({batchId:a,changes:E_(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=Ta();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Ta();return this.indexManager.getCollectionParents(e,i).next(s=>O.forEach(s,a=>{const l=function(u,c){return new eu(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{o=o.insert(c,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,Rt.newInvalidDocument(u)))});let s=Ta();return o.forEach((a,l)=>{const u=i.get(a);u!==void 0&&ja(u.mutation,l,tn.empty(),rt.now()),kf(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return O.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Zn(r.createTime)}),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:hF(r.bundledQuery),readTime:Zn(r.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.overlays=new ot(W.comparator),this.ts=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gi();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.re(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ts.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=Gi(),o=n.length+1,s=new W(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ot((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Gi(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Gi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return O.resolve(a)}re(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new WL(n,r));let o=this.ts.get(n);o===void 0&&(o=ce(),this.ts.set(n,o)),this.ts.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.es=new it(at.ns),this.ss=new it(at.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new at(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new at(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new W(new Ae([])),r=new at(n,e),i=new at(n,e+1),o=[];return this.ss.forEachInRange([r,i],s=>{this.us(s),o.push(s.key)}),o}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new W(new Ae([])),r=new at(n,e),i=new at(n,e+1);let o=ce();return this.ss.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new at(e,0),r=this.es.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return W.comparator(e.key,n.key)||_e(e.ds,n.ds)}static rs(e,n){return _e(e.ds,n.ds)||W.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new it(at.ns)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new HL(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this._s=this._s.add(new at(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ys(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),i=new at(n,Number.POSITIVE_INFINITY),o=[];return this._s.forEachInRange([r,i],s=>{const a=this.gs(s.ds);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(_e);return n.forEach(i=>{const o=new at(i,0),s=new at(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([o,s],a=>{r=r.add(a.ds)})}),O.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;W.isDocumentKey(o)||(o=o.child(""));const s=new at(new W(o),0);let a=new it(_e);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},s),O.resolve(this.ps(a))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$e(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return O.forEach(n.mutations,i=>{const o=new at(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new at(n,0),i=this._s.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this.Ts=e,this.docs=new ot(W.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Rt.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=$r();const s=n.path,a=new W(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||dL(cL(c),r)<=0||(i.has(c.key)||kf(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Z()}Es(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TF(this)}getSize(e){return O.resolve(this.size)}}class TF extends gF{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.persistence=e,this.As=new Vs(n=>Vv(n),zv),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Yv,this.targetCount=0,this.bs=_s.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),O.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new _s(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Sn(n),O.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.As.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new jv(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new IF(this),this.indexManager=new pF,this.remoteDocumentCache=function(r){return new CF(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new fF(n),this.xs=new wF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new SF(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const i=new kF(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(o=>this.referenceDelegate.ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Os(e,n){return O.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class kF extends hL{constructor(e){super(),this.currentSequenceNumber=e}}class Xv{constructor(e){this.persistence=e,this.$s=new Yv,this.Ms=null}static Fs(e){return new Xv(e)}get Bs(){if(this.Ms)return this.Ms;throw Z()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),O.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Bs.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Bs,r=>{const i=W.fromPath(r);return this.Ls(e,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return O.or([()=>O.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=ce(),i=ce();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Jv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(o=>o||this.ki(e,n,i,r)).next(o=>o||this.Oi(e,n))}Ni(e,n){if(ME(n))return O.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Lm(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ce(...o);return this.xi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,s,l.readTime)?this.Ni(e,Lm(n,null,"F")):this.Fi(e,u,n,l)}))})))}ki(e,n,r,i){return ME(n)||i.isEqual(ie.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(o=>{const s=this.$i(n,o);return this.Mi(n,s,r,i)?this.Oi(e,n):(kE()<=Ie.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fm(n)),this.Fi(e,s,n,uL(i,-1)))})}$i(e,n){let r=new it(y_(e));return n.forEach((i,o)=>{kf(e,o)&&(r=r.add(o))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Oi(e,n){return kE()<=Ie.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Fm(n)),this.xi.getDocumentsMatchingQuery(e,n,Ii.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new ot(_e),this.qi=new Vs(o=>Vv(o),zv),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yF(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function RF(t,e,n,r){return new xF(t,e,n,r)}async function j_(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ce();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:s,addedBatchIds:a}))})})}function NF(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ki.newChangeBuffer({trackRemovals:!0});return function(s,a,l,u){const c=l.batch,d=c.keys();let f=O.resolve();return d.forEach(h=>{f=f.next(()=>u.getEntry(a,h)).next(v=>{const w=l.docVersions.get(h);$e(w!==null),v.version.compareTo(w)<0&&(c.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),f.next(()=>s.mutationQueue.removeMutationBatch(a,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=ce();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function B_(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function DF(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ds.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ds.addMatchingKeys(o,c.addedDocuments,d)));let h=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.has(d)?h=h.withResumeToken($t.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(d,h),function(v,w,p){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(f,h,c)&&a.push(n.Ds.updateTargetData(o,h))});let l=$r(),u=ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(OF(o,s,e.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(ie.min())){const c=n.Ds.getLastRemoteSnapshotVersion(o).next(d=>n.Ds.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Li=i,o))}function OF(t,e,n){let r=ce(),i=ce();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=$r();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:s,ji:i}})}function AF(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function PF(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.Ds.allocateTargetId(r).next(s=>(i=new Zi(e,s,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function Vm(t,e,n){const r=oe(t),i=r.Li.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Zl(s))throw s;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}function WE(t,e,n){const r=oe(t);let i=ie.min(),o=ce();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,l,u){const c=oe(a),d=c.qi.get(u);return d!==void 0?O.resolve(c.Li.get(d)):c.Ds.getTargetData(l,u)}(r,s,Pr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(s,e,n?i:ie.min(),n?o:ce())).next(a=>($F(r,NL(e),a),{documents:a,Wi:o})))}function $F(t,e,n){let r=t.Ui.get(e)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ui.set(e,r)}class KE{constructor(){this.activeTargetIds=C_()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MF{constructor(){this.Br=new KE,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new KE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu=null;function Qh(){return zu===null?zu=268435456+Math.round(2147483648*Math.random()):zu++,"0x"+zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="WebChannelConnection";class jF extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,o){const s=Qh(),a=this.ao(e,n);z("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const l={};return this.ho(l,i,o),this.lo(e,a,l,r).then(u=>(z("RestConnection",`Received RPC '${e}' ${s}: `,u),u),u=>{throw id("RestConnection",`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}fo(e,n,r,i,o,s){return this.co(e,n,r,i,o)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}ao(e,n){const r=FF[e];return`${this.ro}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const o=Qh();return new Promise((s,a)=>{const l=new ZM;l.setWithCredentials(!0),l.listenOnce(YM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case qh.NO_ERROR:const c=l.getResponseJson();z(_t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case qh.TIMEOUT:z(_t,`RPC '${e}' ${o} timed out`),a(new U(R.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const d=l.getStatus();if(z(_t,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const v=function(w){const p=w.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(p)>=0?p:R.UNKNOWN}(h.status);a(new U(v,h.message))}else a(new U(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new U(R.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{z(_t,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);z(_t,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(e,n,r){const i=Qh(),o=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=GM(),a=QM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new JM({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");z(_t,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=s.createWebChannel(u,l);let d=!1,f=!1;const h=new UF({Wr:w=>{f?z(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(d||(z(_t,`Opening RPC '${e}' stream ${i} transport.`),c.open(),d=!0),z(_t,`RPC '${e}' stream ${i} sending:`,w),c.send(w))},Hr:()=>c.close()}),v=(w,p,g)=>{w.listen(p,m=>{try{g(m)}catch(E){setTimeout(()=>{throw E},0)}})};return v(c,Uu.EventType.OPEN,()=>{f||z(_t,`RPC '${e}' stream ${i} transport opened.`)}),v(c,Uu.EventType.CLOSE,()=>{f||(f=!0,z(_t,`RPC '${e}' stream ${i} transport closed`),h.so())}),v(c,Uu.EventType.ERROR,w=>{f||(f=!0,id(_t,`RPC '${e}' stream ${i} transport errored:`,w),h.so(new U(R.UNAVAILABLE,"The operation could not be completed")))}),v(c,Uu.EventType.MESSAGE,w=>{var p;if(!f){const g=w.data[0];$e(!!g);const m=g,E=m.error||((p=m[0])===null||p===void 0?void 0:p.error);if(E){z(_t,`RPC '${e}' stream ${i} received error:`,E);const S=E.status;let T=function(_){const k=Ge[_];if(k!==void 0)return D_(k)}(S),I=E.message;T===void 0&&(T=R.INTERNAL,I="Unknown error status: "+S+" with message "+E.message),f=!0,h.so(new U(T,I)),c.close()}else z(_t,`RPC '${e}' stream ${i} received:`,g),h.io(g)}}),v(a,XM.STAT_EVENT,w=>{w.stat===IE.PROXY?z(_t,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===IE.NOPROXY&&z(_t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{h.no()},0),h}}function Yh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){return new JL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=o,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,r,i,o,s,a,l){this.Ws=e,this.bo=r,this.Po=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new V_(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new U(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BF extends z_{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=tF(this.serializer,e),r=function(i){if(!("targetChange"in i))return ie.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?Zn(o.readTime):ie.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=Bm(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;return s=$m(a)?{documents:iF(i,a)}:{query:oF(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?s.resumeToken=P_(i,o.resumeToken):o.snapshotVersion.compareTo(ie.min())>0&&(s.readTime=ud(i,o.snapshotVersion.toTimestamp())),s}(this.serializer,e);const r=aF(this.serializer,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=Bm(this.serializer),n.removeTarget=e,this.Fo(n)}}class VF extends z_{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if($e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=rF(e.writeResults,e.commitTime),r=Zn(e.commitTime);return this.listener.Zo(r,n)}return $e(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Bm(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>nF(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new U(R.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.co(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new U(R.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.fo(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(R.UNKNOWN,o.toString())})}terminate(){this.eu=!0}}class HF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Ar(n),this.ru=!1):z("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=o,this._u.qr(s=>{r.enqueueAndForget(async()=>{To(this)&&(z("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=oe(a);l.du.add(4),await ru(l),l.mu.set("Unknown"),l.du.delete(4),await Df(l)}(this))})}),this.mu=new HF(r,i)}}async function Df(t){if(To(t))for(const e of t.wu)await e(!0)}async function ru(t){for(const e of t.wu)await e(!1)}function H_(t,e){const n=oe(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),ty(n)?ey(n):zs(n).No()&&Zv(n,e))}function W_(t,e){const n=oe(t),r=zs(n);n.fu.delete(e),r.No()&&K_(n,e),n.fu.size===0&&(r.No()?r.$o():To(n)&&n.mu.set("Unknown"))}function Zv(t,e){t.gu.Ot(e.targetId),zs(t).jo(e)}function K_(t,e){t.gu.Ot(e),zs(t).Wo(e)}function ey(t){t.gu=new GL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),zs(t).start(),t.mu.ou()}function ty(t){return To(t)&&!zs(t).xo()&&t.fu.size>0}function To(t){return oe(t).du.size===0}function q_(t){t.gu=void 0}async function KF(t){t.fu.forEach((e,n)=>{Zv(t,e)})}async function qF(t,e){q_(t),ty(t)?(t.mu.au(e),ey(t)):t.mu.set("Unknown")}async function GF(t,e,n){if(t.mu.set("Online"),e instanceof A_&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const s of i.targetIds)r.fu.has(s)&&(await r.remoteSyncer.rejectListen(s,o),r.fu.delete(s),r.gu.removeTarget(s))}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cd(t,r)}else if(e instanceof lc?t.gu.Kt(e):e instanceof O_?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(ie.min()))try{const r=await B_(t.localStore);n.compareTo(r)>=0&&await function(i,o){const s=i.gu.Xt(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken($t.EMPTY_BYTE_STRING,l.snapshotVersion)),K_(i,a);const u=new Zi(l.target,a,1,l.sequenceNumber);Zv(i,u)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){z("RemoteStore","Failed to raise snapshot:",r),await cd(t,r)}}async function cd(t,e,n){if(!Zl(e))throw e;t.du.add(1),await ru(t),t.mu.set("Offline"),n||(n=()=>B_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await Df(t)})}function G_(t,e){return e().catch(n=>cd(t,n,e))}async function Of(t){const e=oe(t),n=ki(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;QF(e);)try{const i=await AF(e.localStore,r);if(i===null){e.lu.length===0&&n.$o();break}r=i.batchId,YF(e,i)}catch(i){await cd(e,i)}Q_(e)&&Y_(e)}function QF(t){return To(t)&&t.lu.length<10}function YF(t,e){t.lu.push(e);const n=ki(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function Q_(t){return To(t)&&!ki(t).xo()&&t.lu.length>0}function Y_(t){ki(t).start()}async function XF(t){ki(t).tu()}async function JF(t){const e=ki(t);for(const n of t.lu)e.Yo(n.mutations)}async function ZF(t,e,n){const r=t.lu.shift(),i=qv.from(r,e,n);await G_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Of(t)}async function eU(t,e){e&&ki(t).Jo&&await async function(n,r){if(i=r.code,qL(i)&&i!==R.ABORTED){const o=n.lu.shift();ki(n).Oo(),await G_(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Of(n)}var i}(t,e),Q_(t)&&Y_(t)}async function GE(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");const r=To(n);n.du.add(3),await ru(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await Df(n)}async function tU(t,e){const n=oe(t);e?(n.du.delete(2),await Df(n)):e||(n.du.add(2),await ru(n),n.mu.set("Unknown"))}function zs(t){return t.yu||(t.yu=function(e,n,r){const i=oe(e);return i.nu(),new BF(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:KF.bind(null,t),Zr:qF.bind(null,t),zo:GF.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),ty(t)?ey(t):t.mu.set("Unknown")):(await t.yu.stop(),q_(t))})),t.yu}function ki(t){return t.pu||(t.pu=function(e,n,r){const i=oe(e);return i.nu(),new VF(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:XF.bind(null,t),Zr:eU.bind(null,t),Xo:JF.bind(null,t),Zo:ZF.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await Of(t)):(await t.pu.stop(),t.lu.length>0&&(z("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new ny(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ry(t,e){if(Ar("AsyncQueue",`${e}: ${t}`),Zl(t))return new U(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=Ta(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new as(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof as)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new as;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.Iu=new ot(W.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?e.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Iu=this.Iu.remove(n):e.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):Z():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ks{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ks(e,n,as.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this.Eu=void 0,this.listeners=[]}}class rU{constructor(){this.queries=new Vs(e=>v_(e),_f),this.onlineState="Unknown",this.Au=new Set}}async function X_(t,e){const n=oe(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new nU),i)try{o.Eu=await n.onListen(r)}catch(s){const a=ry(s,`Initialization of query '${Fm(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Ru(n.onlineState),o.Eu&&e.vu(o.Eu)&&iy(n)}async function J_(t,e){const n=oe(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function iU(t,e){const n=oe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.vu(i)&&(r=!0);s.Eu=i}}r&&iy(n)}function oU(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function iy(t){t.Au.forEach(e=>{e.next()})}class Z_{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ks(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.key=e}}class tk{constructor(e){this.key=e}}class sU{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=ce(),this.mutatedKeys=ce(),this.Ku=y_(e),this.Gu=new as(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new QE,i=n?n.Gu:this.Gu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),h=kf(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),w=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let p=!1;f&&h?f.data.isEqual(h.data)?v!==w&&(r.track({type:3,doc:h}),p=!0):this.Wu(f,h)||(r.track({type:2,doc:h}),p=!0,(l&&this.Ku(h,l)>0||u&&this.Ku(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),p=!0):f&&!h&&(r.track({type:1,doc:f}),p=!0,(l||u)&&(a=!0)),p&&(h?(s=s.add(h),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Gu:s,ju:r,Mi:a,mutatedKeys:o}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const o=e.ju.Tu();o.sort((u,c)=>function(d,f){const h=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return h(d)-h(f)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const s=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,o.length!==0||l?{snapshot:new ks(this.query,e.Gu,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:s}:{Yu:s}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new QE,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=ce(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new tk(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new ek(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=ce();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return ks.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class aU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lU{constructor(e){this.key=e,this.ec=!1}}class uU{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.nc={},this.sc=new Vs(a=>v_(a),_f),this.ic=new Map,this.rc=new Set,this.oc=new ot(W.comparator),this.uc=new Map,this.cc=new Yv,this.ac={},this.hc=new Map,this.lc=_s.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function cU(t,e){const n=EU(t);let r,i;const o=n.sc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.tc();else{const s=await PF(n.localStore,Pr(e));n.isPrimaryClient&&H_(n.remoteStore,s);const a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await dU(n,e,r,a==="current",s.resumeToken)}return i}async function dU(t,e,n,r,i){t.dc=(d,f,h)=>async function(v,w,p,g){let m=w.view.zu(p);m.Mi&&(m=await WE(v.localStore,w.query,!1).then(({documents:T})=>w.view.zu(T,m)));const E=g&&g.targetChanges.get(w.targetId),S=w.view.applyChanges(m,v.isPrimaryClient,E);return XE(v,w.targetId,S.Yu),S.snapshot}(t,d,f,h);const o=await WE(t.localStore,e,!0),s=new sU(e,o.Wi),a=s.zu(o.documents),l=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);XE(t,n,u.Yu);const c=new aU(e,n,s);return t.sc.set(e,c),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),u.snapshot}async function fU(t,e){const n=oe(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(o=>!_f(o,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Vm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),W_(n.remoteStore,r.targetId),zm(n,r.targetId)}).catch(Jl)):(zm(n,r.targetId),await Vm(n.localStore,r.targetId,!0))}async function hU(t,e,n){const r=SU(t);try{const i=await function(o,s){const a=oe(o),l=rt.now(),u=s.reduce((f,h)=>f.add(h.key),ce());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let h=$r(),v=ce();return a.Ki.getEntries(f,u).next(w=>{h=w,h.forEach((p,g)=>{g.isValidDocument()||(v=v.add(p))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,h)).next(w=>{c=w;const p=[];for(const g of s){const m=VL(g,c.get(g.key).overlayedDocument);m!=null&&p.push(new Ai(g.key,m,l_(m.value.mapValue),yn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,p,s)}).next(w=>{d=w;const p=w.applyToLocalDocumentSet(c,v);return a.documentOverlayCache.saveOverlays(f,w.batchId,p)})}).then(()=>({batchId:d.batchId,changes:E_(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let l=o.ac[o.currentUser.toKey()];l||(l=new ot(_e)),l=l.insert(s,a),o.ac[o.currentUser.toKey()]=l}(r,i.batchId,n),await iu(r,i.changes),await Of(r.remoteStore)}catch(i){const o=ry(i,"Failed to persist write");n.reject(o)}}async function nk(t,e){const n=oe(t);try{const r=await DF(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.uc.get(o);s&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ec=!0:i.modifiedDocuments.size>0?$e(s.ec):i.removedDocuments.size>0&&($e(s.ec),s.ec=!1))}),await iu(n,r,e)}catch(r){await Jl(r)}}function YE(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((o,s)=>{const a=s.view.Ru(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=oe(o);a.onlineState=s;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Ru(s)&&(l=!0)}),l&&iy(a)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pU(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),o=i&&i.key;if(o){let s=new ot(W.comparator);s=s.insert(o,Rt.newNoDocument(o,ie.min()));const a=ce().add(o),l=new Rf(ie.min(),new Map,new it(_e),s,a);await nk(r,l),r.oc=r.oc.remove(o),r.uc.delete(e),oy(r)}else await Vm(r.localStore,e,!1).then(()=>zm(r,e,n)).catch(Jl)}async function mU(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await NF(n.localStore,e);ik(n,r,null),rk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await iu(n,i)}catch(i){await Jl(i)}}async function gU(t,e,n){const r=oe(t);try{const i=await function(o,s){const a=oe(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,s).next(c=>($e(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);ik(r,e,n),rk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await iu(r,i)}catch(i){await Jl(i)}}function rk(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function ik(t,e,n){const r=oe(t);let i=r.ac[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function zm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||ok(t,r)})}function ok(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(W_(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),oy(t))}function XE(t,e,n){for(const r of n)r instanceof ek?(t.cc.addReference(r.key,e),vU(t,r)):r instanceof tk?(z("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||ok(t,r.key)):Z()}function vU(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(z("SyncEngine","New document in limbo: "+n),t.rc.add(r),oy(t))}function oy(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new W(Ae.fromString(e)),r=t.lc.next();t.uc.set(r,new lU(n)),t.oc=t.oc.insert(n,r),H_(t.remoteStore,new Zi(Pr(Hv(n.path)),r,2,jv.ct))}}async function iu(t,e,n){const r=oe(t),i=[],o=[],s=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{s.push(r.dc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Jv.Di(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.nc.zo(i),await async function(a,l){const u=oe(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>O.forEach(l,d=>O.forEach(d.Vi,f=>u.persistence.referenceDelegate.addReference(c,d.targetId,f)).next(()=>O.forEach(d.Si,f=>u.persistence.referenceDelegate.removeReference(c,d.targetId,f)))))}catch(c){if(!Zl(c))throw c;z("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const f=u.Li.get(d),h=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(h);u.Li=u.Li.insert(d,v)}}}(r.localStore,o))}async function yU(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());const r=await j_(n.localStore,e);n.currentUser=e,function(i,o){i.hc.forEach(s=>{s.forEach(a=>{a.reject(new U(R.CANCELLED,o))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await iu(n,r.Qi)}}function wU(t,e){const n=oe(t),r=n.uc.get(e);if(r&&r.ec)return ce().add(r.key);{let i=ce();const o=n.ic.get(e);if(!o)return i;for(const s of o){const a=n.sc.get(s);i=i.unionWith(a.view.Qu)}return i}}function EU(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pU.bind(null,e),e.nc.zo=iU.bind(null,e.eventManager),e.nc.wc=oU.bind(null,e.eventManager),e}function SU(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gU.bind(null,e),e}class JE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Nf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return RF(this.persistence,new bF,e.initialUser,this.serializer)}createPersistence(e){return new _F(Xv.Fs,this.serializer)}createSharedClientState(e){return new MF}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class CU{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yU.bind(null,this.syncEngine),await tU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new rU}createDatastore(e){const n=Nf(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new jF(i));var i;return function(o,s,a,l){return new zF(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>YE(this.syncEngine,a,0),s=qE.D()?new qE:new LF,new WF(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,l,u){const c=new uU(r,i,o,s,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=oe(e);z("RemoteStore","RemoteStore shutting down."),n.du.add(5),await ru(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=i_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{z("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ry(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xh(t,e){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await j_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ZE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _U(t);z("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>GE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>GE(e.remoteStore,o)),t._onlineComponents=e}function IU(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function _U(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!IU(n))throw n;id("Error using user provided cache. Falling back to memory cache: "+n),await Xh(t,new JE)}}else z("FirestoreClient","Using default OfflineComponentProvider"),await Xh(t,new JE);return t._offlineComponents}async function ak(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),await ZE(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),await ZE(t,new CU))),t._onlineComponents}function kU(t){return ak(t).then(e=>e.syncEngine)}async function lk(t){const e=await ak(t),n=e.eventManager;return n.onListen=cU.bind(null,e.syncEngine),n.onUnlisten=fU.bind(null,e.syncEngine),n}function bU(t,e,n={}){const r=new Tr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,l){const u=new sk({next:d=>{o.enqueueAndForget(()=>J_(i,c));const f=d.docs.has(s);!f&&d.fromCache?l.reject(new U(R.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new U(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Z_(Hv(s.path),u,{includeMetadataChanges:!0,xu:!0});return X_(i,c)}(await lk(t),t.asyncQueue,e,n,r)),r.promise}function xU(t,e,n={}){const r=new Tr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,l){const u=new sk({next:d=>{o.enqueueAndForget(()=>J_(i,c)),d.fromCache&&a.source==="server"?l.reject(new U(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Z_(s,u,{includeMetadataChanges:!0,xu:!0});return X_(i,c)}(await lk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t,e,n){if(!n)throw new U(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RU(t,e,n,r){if(e===!0&&r===!0)throw new U(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function t1(t){if(!W.isDocumentKey(t))throw new U(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function n1(t){if(W.isDocumentKey(t))throw new U(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Af(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Af(t);throw new U(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new U(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,RU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r1(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new eL;switch(n.type){case"firstParty":return new iL(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new U(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=e1.get(e);n&&(z("ComponentProvider","Removing Datastore"),e1.delete(e),n.terminate())}(this),Promise.resolve()}}function NU(t,e,n,r={}){var i;const o=(t=jn(t,Pf))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==e&&id("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let s,a;if(typeof r.mockUserToken=="string")s=r.mockUserToken,a=bt.MOCK_USER;else{s=DP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new bt(l)}t._authCredentials=new tL(new r_(s,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}}class Hs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hs(this.firestore,e,this._query)}}class wi extends Hs{constructor(e,n,r){super(e,n,Hv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new W(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function sy(t,e,...n){if(t=yt(t),uk("collection","path",e),t instanceof Pf){const r=Ae.fromString(e,...n);return n1(r),new wi(t,null,r)}{if(!(t instanceof jt||t instanceof wi))throw new U(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return n1(r),new wi(t.firestore,null,r)}}function eo(t,e,...n){if(t=yt(t),arguments.length===1&&(e=i_.A()),uk("doc","path",e),t instanceof Pf){const r=Ae.fromString(e,...n);return t1(r),new jt(t,null,new W(r))}{if(!(t instanceof jt||t instanceof wi))throw new U(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return t1(r),new jt(t.firestore,t instanceof wi?t.converter:null,new W(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new V_(this,"async_queue_retry"),this.qc=()=>{const n=Yh();n&&z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=Yh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=Yh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new Tr;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!Zl(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw Ar("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=ny.createAndSchedule(this,e,n,r,o=>this.Qc(o));return this.$c.push(i),i}Uc(){this.Mc&&Z()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}class Io extends Pf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new DU,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||dk(this),this._firestoreClient.terminate()}}function ck(t,e){const n=typeof t=="object"?t:JT(),r=typeof t=="string"?t:e||"(default)",i=vv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=xP("firestore");o&&NU(i,...o)}return i}function ay(t){return t._firestoreClient||dk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function dk(t){var e,n,r;const i=t._freezeSettings(),o=function(s,a,l,u){return new vL(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new TU(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bs($t.fromBase64String(e))}catch(n){throw new U(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bs($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=/^__.*__$/;class AU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new tu(e,this.data,n,this.fieldTransforms)}}class fk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ai(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class cy{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Jc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new cy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return dd(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if(hk(this.Yc)&&OU.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class PU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nf(e)}ua(e,n,r,i=!1){return new cy({Yc:e,methodName:n,oa:r,path:Nt.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mf(t){const e=t._freezeSettings(),n=Nf(t._databaseId);return new PU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pk(t,e,n,r,i,o={}){const s=t.ua(o.merge||o.mergeFields?2:0,e,n,i);dy("Data must be an object, but it was:",s,r);const a=mk(r,s);let l,u;if(o.merge)l=new tn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const f=Hm(e,d,n);if(!s.contains(f))throw new U(R.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);vk(c,f)||c.push(f)}l=new tn(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new AU(new Ht(a),l,u)}class Lf extends ly{_toFieldTransform(e){if(e.Yc!==2)throw e.Yc===1?e.ia(`${this._methodName}() can only appear at the top level of your update data`):e.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lf}}function $U(t,e,n,r){const i=t.ua(1,e,n);dy("Data must be an object, but it was:",i,r);const o=[],s=Ht.empty();Co(r,(l,u)=>{const c=fy(e,l,n);u=yt(u);const d=i.na(c);if(u instanceof Lf)o.push(c);else{const f=ou(u,d);f!=null&&(o.push(c),s.set(c,f))}});const a=new tn(o);return new fk(s,a,i.fieldTransforms)}function MU(t,e,n,r,i,o){const s=t.ua(1,e,n),a=[Hm(e,r,n)],l=[i];if(o.length%2!=0)throw new U(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(Hm(e,o[f])),l.push(o[f+1]);const u=[],c=Ht.empty();for(let f=a.length-1;f>=0;--f)if(!vk(u,a[f])){const h=a[f];let v=l[f];v=yt(v);const w=s.na(h);if(v instanceof Lf)u.push(h);else{const p=ou(v,w);p!=null&&(u.push(h),c.set(h,p))}}const d=new tn(u);return new fk(c,d,s.fieldTransforms)}function LU(t,e,n,r=!1){return ou(n,t.ua(r?4:3,e))}function ou(t,e){if(gk(t=yt(t)))return dy("Unsupported field value:",e,t),mk(t,e);if(t instanceof ly)return function(n,r){if(!hk(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=ou(s,r.sa(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=yt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ML(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=rt.fromDate(n);return{timestampValue:ud(r.serializer,i)}}if(n instanceof rt){const i=new rt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ud(r.serializer,i)}}if(n instanceof uy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof bs)return{bytesValue:P_(r.serializer,n._byteString)};if(n instanceof jt){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r.ia(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Qv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${Af(n)}`)}(t,e)}function mk(t,e){const n={};return o_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(t,(r,i)=>{const o=ou(i,e.Xc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function gk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof uy||t instanceof bs||t instanceof jt||t instanceof ly)}function dy(t,e,n){if(!gk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Af(n);throw r==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+r)}}function Hm(t,e,n){if((e=yt(e))instanceof $f)return e._internalPath;if(typeof e=="string")return fy(t,e);throw dd("Field path arguments must be of type string or ",t,!1,void 0,n)}const FU=new RegExp("[~\\*/\\[\\]]");function fy(t,e,n){if(e.search(FU)>=0)throw dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $f(...e.split("."))._internalPath}catch{throw dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dd(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new U(R.INVALID_ARGUMENT,a+t+l)}function vk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UU extends yk{data(){return super.data()}}function hy(t,e){return typeof e=="string"?fy(t,e):e instanceof $f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class py{}class BU extends py{}function VU(t,e,...n){let r=[];e instanceof py&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof my).length,s=i.filter(a=>a instanceof Ff).length;if(o>1||o>0&&s>0)throw new U(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ff extends BU{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ff(e,n,r)}_apply(e){const n=this._parse(e);return wk(e._query,n),new Hs(e.firestore,e.converter,Mm(e._query,n))}_parse(e){const n=Mf(e.firestore);return function(i,o,s,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new U(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){o1(c,u);const f=[];for(const h of c)f.push(i1(a,i,h));d={arrayValue:{values:f}}}else d=i1(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||o1(c,u),d=LU(s,o,c,u==="in"||u==="not-in");return Je.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zU(t,e,n){const r=e,i=hy("where",t);return Ff._create(i,r,n)}class my extends py{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new my(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Un.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)wk(o,a),o=Mm(o,a)}(e._query,n),new Hs(e.firestore,e.converter,Mm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function i1(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new U(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g_(e)&&n.indexOf("/")!==-1)throw new U(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ae.fromString(n));if(!W.isDocumentKey(r))throw new U(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return NE(t,new W(r))}if(n instanceof jt)return NE(t,n._key);throw new U(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Af(n)}.`)}function o1(t,e){if(!Array.isArray(t)||t.length===0)throw new U(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wk(t,e){if(e.isInequality()){const r=Wv(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new U(R.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=m_(t);o!==null&&HU(t,i,o)}const n=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function HU(t,e,n){if(!n.isEqual(e))throw new U(R.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class WU{convertValue(e,n="none"){switch(po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Z()}}convertObject(e,n){const r={};return Co(e.fields,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new uy(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=a_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sl(e));default:return null}}convertTimestamp(e){const n=_i(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ae.fromString(e);$e(U_(r));const i=new Cl(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||Ar(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sk extends yk{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class uc extends Sk{data(e={}){return super.data(e)}}class KU{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ia(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uc(this._firestore,this._userDataWriter,r.key,r,new Ia(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>{const a=new uc(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Ia(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);return s.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||s.type!==3).map(s=>{const a=new uc(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Ia(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return s.type!==0&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:qU(s.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){t=jn(t,jt);const e=jn(t.firestore,Io);return bU(ay(e),t._key).then(n=>XU(e,t,n))}class Tk extends WU{constructor(e){super(),this.firestore=e}convertBytes(e){return new bs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function Ik(t){t=jn(t,Hs);const e=jn(t.firestore,Io),n=ay(e),r=new Tk(e);return jU(t._query),xU(n,t._query).then(i=>new KU(e,r,t,i))}function GU(t,e,n){t=jn(t,jt);const r=jn(t.firestore,Io),i=Ek(t.converter,e,n);return Uf(r,[pk(Mf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,yn.none())])}function _k(t,e,n,...r){t=jn(t,jt);const i=jn(t.firestore,Io),o=Mf(i);let s;return s=typeof(e=yt(e))=="string"||e instanceof $f?MU(o,"updateDoc",t._key,e,n,r):$U(o,"updateDoc",t._key,e),Uf(i,[s.toMutation(t._key,yn.exists(!0))])}function QU(t){return Uf(jn(t.firestore,Io),[new Kv(t._key,yn.none())])}function YU(t,e){const n=jn(t.firestore,Io),r=eo(t),i=Ek(t.converter,e);return Uf(n,[pk(Mf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,yn.exists(!1))]).then(()=>r)}function Uf(t,e){return function(n,r){const i=new Tr;return n.asyncQueue.enqueueAndForget(async()=>hU(await kU(n),r,i)),i.promise}(ay(t),e)}function XU(t,e,n){const r=n.docs.get(e._key),i=new Tk(t);return new Sk(t,i,e._key,r,new Ia(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Bs=n})(Vl),ws(new co("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Io(new nL(n.getProvider("auth-internal")),new sL(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new U(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(a.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),yi(_E,"3.10.0",t),yi(_E,"3.10.0","esm2017")})();const JU={apiKey:"AIzaSyC00qb9DrF1GdbuCidCANRei9uvzf9Ujl0",authDomain:"crm-passenger-transporta-49b95.firebaseapp.com",projectId:"crm-passenger-transporta-49b95",storageBucket:"crm-passenger-transporta-49b95.appspot.com",messagingSenderId:"1039956545183",appId:"1:1039956545183:web:00ffda6865032ddc4f1caa",measurementId:"G-C0SBJE2131"},ZU=XT(JU),to=ck(ZU);function Jh(){const t=wT();return console.error(t),q("div",{id:"error-page",children:[C("h1",{children:"Oops!"}),C("p",{children:"Sorry, an unexpected error has occurred."}),C("p",{children:C("i",{children:t.statusText||t.message})})]})}var Wm={},e2={get exports(){return Wm},set exports(t){Wm=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(e2);const te=Wm;function s1(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function t2(t){var e=n2(t,"string");return typeof e=="symbol"?e:String(e)}function n2(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r2(t,e,n){var r=y.useRef(t!==void 0),i=y.useState(e),o=i[0],s=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&o!==e&&s(e),[a?t:o,y.useCallback(function(u){for(var c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];n&&n.apply(void 0,[u].concat(d)),s(u)},[n])]}function jf(t,e){return Object.keys(e).reduce(function(n,r){var i,o=n,s=o[s1(r)],a=o[r],l=bT(o,[s1(r),r].map(t2)),u=e[r],c=r2(a,s,t[u]),d=c[0],f=c[1];return lm({},l,(i={},i[r]=d,i[u]=f,i))},t)}function Km(t,e){return Km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Km(t,e)}function i2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Km(t,e)}const o2=["xxl","xl","lg","md","sm","xs"],s2="xs",Bf=y.createContext({prefixes:{},breakpoints:o2,minBreakpoint:s2});function de(t,e){const{prefixes:n}=y.useContext(Bf);return t||n[e]||e}function a2(){const{breakpoints:t}=y.useContext(Bf);return t}function l2(){const{minBreakpoint:t}=y.useContext(Bf);return t}function kk(){const{dir:t}=y.useContext(Bf);return t==="rtl"}function su(t){return t&&t.ownerDocument||document}function u2(t){var e=su(t);return e&&e.defaultView||window}function c2(t,e){return u2(t).getComputedStyle(t,e)}var d2=/([A-Z])/g;function f2(t){return t.replace(d2,"-$1").toLowerCase()}var h2=/^ms-/;function Hu(t){return f2(t).replace(h2,"-ms-")}var p2=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function m2(t){return!!(t&&p2.test(t))}function Ir(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Hu(e))||c2(t).getPropertyValue(Hu(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?t.style.removeProperty(Hu(i)):m2(i)?r+=i+"("+o+") ":n+=Hu(i)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var Ee={},g2={get exports(){return Ee},set exports(t){Ee=t}},v2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",y2=v2,w2=y2;function bk(){}function xk(){}xk.resetWarningCache=bk;var E2=function(){function t(r,i,o,s,a,l){if(l!==w2){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:xk,resetWarningCache:bk};return n.PropTypes=n,n};g2.exports=E2();const a1={disabled:!1},Rk=Wt.createContext(null);var S2=function(e){return e.scrollTop},_a="unmounted",Yr="exited",Pn="entering",hr="entered",kl="exiting",Vr=function(t){i2(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Yr,o.appearStatus=Pn):l=hr:r.unmountOnExit||r.mountOnEnter?l=_a:l=Yr,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===_a?{status:Yr}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Pn&&s!==hr&&(o=Pn):(s===Pn||s===hr)&&(o=kl)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Pn){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:qo.findDOMNode(this);s&&S2(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Yr&&this.setState({status:_a})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[qo.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!s||a1.disabled){this.safeSetState({status:hr},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Pn},function(){o.props.onEntering(u,c),o.onTransitionEnd(f,function(){o.safeSetState({status:hr},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:qo.findDOMNode(this);if(!o||a1.disabled){this.safeSetState({status:Yr},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:kl},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Yr},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:qo.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===_a)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=bT(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Wt.createElement(Rk.Provider,{value:null},typeof s=="function"?s(i,a):Wt.cloneElement(Wt.Children.only(s),a))},e}(Wt.Component);Vr.contextType=Rk;Vr.propTypes={};function No(){}Vr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:No,onEntering:No,onEntered:No,onExit:No,onExiting:No,onExited:No};Vr.UNMOUNTED=_a;Vr.EXITED=Yr;Vr.ENTERING=Pn;Vr.ENTERED=hr;Vr.EXITING=kl;const Ws=!!(typeof window<"u"&&window.document&&window.document.createElement);var qm=!1,Gm=!1;try{var Zh={get passive(){return qm=!0},get once(){return Gm=qm=!0}};Ws&&(window.addEventListener("test",Zh,Zh),window.removeEventListener("test",Zh,!0))}catch{}function gy(t,e,n,r){if(r&&typeof r!="boolean"&&!Gm){var i=r.once,o=r.capture,s=n;!Gm&&i&&(s=n.__once||function a(l){this.removeEventListener(e,a,o),n.call(this,l)},n.__once=s),t.addEventListener(e,s,qm?r:o)}t.addEventListener(e,n,r)}function Qm(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function ii(t,e,n,r){return gy(t,e,n,r),function(){Qm(t,e,n,r)}}function C2(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function T2(t){var e=Ir(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function I2(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||C2(t,"transitionend",!0)},e+n),o=ii(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function Nk(t,e,n,r){n==null&&(n=T2(t)||0);var i=I2(t,n,r),o=ii(t,"transitionend",e);return function(){i(),o()}}function l1(t,e){const n=Ir(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function vy(t,e){const n=l1(t,"transitionDuration"),r=l1(t,"transitionDelay"),i=Nk(t,o=>{o.target===t&&(i(),e(o))},n+r)}function fa(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function Dk(t){t.offsetHeight}var u1=function(e){return!e||typeof e=="function"?e:function(n){e.current=n}};function _2(t,e){var n=u1(t),r=u1(e);return function(i){n&&n(i),r&&r(i)}}function _o(t,e){return y.useMemo(function(){return _2(t,e)},[t,e])}function k2(t){return t&&"setState"in t?qo.findDOMNode(t):t??null}const b2=Wt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:o,addEndListener:s,children:a,childRef:l,...u},c)=>{const d=y.useRef(null),f=_o(d,l),h=I=>{f(k2(I))},v=I=>_=>{I&&d.current&&I(d.current,_)},w=y.useCallback(v(t),[t]),p=y.useCallback(v(e),[e]),g=y.useCallback(v(n),[n]),m=y.useCallback(v(r),[r]),E=y.useCallback(v(i),[i]),S=y.useCallback(v(o),[o]),T=y.useCallback(v(s),[s]);return C(Vr,{ref:c,...u,onEnter:w,onEntered:g,onEntering:p,onExit:m,onExited:S,onExiting:E,addEndListener:T,nodeRef:d,children:typeof a=="function"?(I,_)=>a(I,{..._,ref:h}):Wt.cloneElement(a,{ref:h})})}),yy=b2,x2={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Ok(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=x2[t];return r+parseInt(Ir(e,i[0]),10)+parseInt(Ir(e,i[1]),10)}const R2={[Yr]:"collapse",[kl]:"collapsing",[Pn]:"collapsing",[hr]:"collapse show"},N2={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:Ok},Ak=Wt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:o,children:s,dimension:a="height",getDimensionValue:l=Ok,...u},c)=>{const d=typeof a=="function"?a():a,f=y.useMemo(()=>fa(g=>{g.style[d]="0"},t),[d,t]),h=y.useMemo(()=>fa(g=>{const m=`scroll${d[0].toUpperCase()}${d.slice(1)}`;g.style[d]=`${g[m]}px`},e),[d,e]),v=y.useMemo(()=>fa(g=>{g.style[d]=null},n),[d,n]),w=y.useMemo(()=>fa(g=>{g.style[d]=`${l(d,g)}px`,Dk(g)},r),[r,l,d]),p=y.useMemo(()=>fa(g=>{g.style[d]=null},i),[d,i]);return C(yy,{ref:c,addEndListener:vy,...u,"aria-expanded":u.role?u.in:null,onEnter:f,onEntering:h,onEntered:v,onExit:w,onExiting:p,childRef:s.ref,children:(g,m)=>Wt.cloneElement(s,{...m,className:te(o,s.props.className,R2[g],d==="width"&&"collapse-horizontal")})})});Ak.defaultProps=N2;const D2=Ak;function O2(t){var e=y.useRef(t);return y.useEffect(function(){e.current=t},[t]),e}function Be(t){var e=O2(t);return y.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}function Pk(){return y.useState(null)}function A2(t,e,n,r){r===void 0&&(r=!1);var i=Be(n);y.useEffect(function(){var o=typeof t=="function"?t():t;return o.addEventListener(e,i,r),function(){return o.removeEventListener(e,i,r)}},[t])}function $k(){var t=y.useRef(!0),e=y.useRef(function(){return t.current});return y.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e.current}function Mk(t){var e=y.useRef(null);return y.useEffect(function(){e.current=t}),e.current}var P2=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",$2=typeof document<"u";const fd=$2||P2?y.useLayoutEffect:y.useEffect,M2=["as","disabled"];function L2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function F2(t){return!t||t.trim()==="#"}function wy({tagName:t,disabled:e,href:n,target:r,rel:i,role:o,onClick:s,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const c=f=>{if((e||t==="a"&&F2(n))&&f.preventDefault(),e){f.stopPropagation();return}s==null||s(f)},d=f=>{f.key===" "&&(f.preventDefault(),c(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:c,onKeyDown:d},u]}const Ey=y.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=L2(t,M2);const[o,{tagName:s}]=wy(Object.assign({tagName:n,disabled:r},i));return C(s,Object.assign({},i,o,{ref:e}))});Ey.displayName="Button";const U2=["onKeyDown"];function j2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function B2(t){return!t||t.trim()==="#"}const Lk=y.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=j2(t,U2);const[i]=wy(Object.assign({tagName:"a"},r)),o=Be(s=>{i.onKeyDown(s),n==null||n(s)});return B2(r.href)||r.role==="button"?C("a",Object.assign({ref:e},r,i,{onKeyDown:o})):C("a",Object.assign({ref:e},r,{onKeyDown:n}))});Lk.displayName="Anchor";const Sy=Lk,V2={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},z2={[Pn]:"show",[hr]:"show"},Cy=y.forwardRef(({className:t,children:e,transitionClasses:n={},...r},i)=>{const o=y.useCallback((s,a)=>{Dk(s),r.onEnter==null||r.onEnter(s,a)},[r]);return C(yy,{ref:i,addEndListener:vy,...r,onEnter:o,childRef:e.ref,children:(s,a)=>y.cloneElement(e,{...a,className:te("fade",t,e.props.className,z2[s],n[s])})})});Cy.defaultProps=V2;Cy.displayName="Fade";const au=Cy,H2={"aria-label":Ee.string,onClick:Ee.func,variant:Ee.oneOf(["white"])},W2={"aria-label":"Close"},Vf=y.forwardRef(({className:t,variant:e,...n},r)=>C("button",{ref:r,type:"button",className:te("btn-close",e&&`btn-close-${e}`,t),...n}));Vf.displayName="CloseButton";Vf.propTypes=H2;Vf.defaultProps=W2;const Fk=Vf,lu=t=>y.forwardRef((e,n)=>C("div",{...e,ref:n,className:te(e.className,t)}));var K2=/-(.)/g;function q2(t){return t.replace(K2,function(e,n){return n.toUpperCase()})}const G2=t=>t[0].toUpperCase()+q2(t).slice(1);function Ze(t,{displayName:e=G2(t),Component:n,defaultProps:r}={}){const i=y.forwardRef(({className:o,bsPrefix:s,as:a=n||"div",...l},u)=>{const c=de(s,t);return C(a,{ref:u,className:te(o,c),...l})});return i.defaultProps=r,i.displayName=e,i}const Uk=lu("h4");Uk.displayName="DivStyledAsH4";const Q2=Ze("alert-heading",{Component:Uk}),Y2=Ze("alert-link",{Component:Sy}),X2={variant:"primary",show:!0,transition:au,closeLabel:"Close alert"},Ty=y.forwardRef((t,e)=>{const{bsPrefix:n,show:r,closeLabel:i,closeVariant:o,className:s,children:a,variant:l,onClose:u,dismissible:c,transition:d,...f}=jf(t,{show:"onClose"}),h=de(n,"alert"),v=Be(g=>{u&&u(!1,g)}),w=d===!0?au:d,p=q("div",{role:"alert",...w?void 0:f,ref:e,className:te(s,h,l&&`${h}-${l}`,c&&`${h}-dismissible`),children:[c&&C(Fk,{onClick:v,"aria-label":i,variant:o}),a]});return w?C(w,{unmountOnExit:!0,...f,ref:void 0,in:r,children:p}):r?p:null});Ty.displayName="Alert";Ty.defaultProps=X2;const jk=Object.assign(Ty,{Link:Y2,Heading:Q2}),J2={variant:"primary",active:!1,disabled:!1},Iy=y.forwardRef(({as:t,bsPrefix:e,variant:n,size:r,active:i,className:o,...s},a)=>{const l=de(e,"btn"),[u,{tagName:c}]=wy({tagName:t,...s});return C(c,{...u,...s,ref:a,className:te(o,l,i&&"active",n&&`${l}-${n}`,r&&`${l}-${r}`,s.href&&s.disabled&&"disabled")})});Iy.displayName="Button";Iy.defaultProps=J2;const Bn=Iy,Z2={vertical:!1,role:"group"},_y=y.forwardRef(({bsPrefix:t,size:e,vertical:n,className:r,as:i="div",...o},s)=>{const a=de(t,"btn-group");let l=a;return n&&(l=`${a}-vertical`),C(i,{...o,ref:s,className:te(r,l,e&&`${a}-${e}`)})});_y.displayName="ButtonGroup";_y.defaultProps=Z2;const ej=_y,Bk=y.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},o)=>{const s=de(t,"card-img");return C(r,{ref:o,className:te(n?`${s}-${n}`:s,e),...i})});Bk.displayName="CardImg";const tj=Bk,Vk=y.createContext(null);Vk.displayName="CardHeaderContext";const zk=Vk,Hk=y.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const o=de(t,"card-header"),s=y.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return C(zk.Provider,{value:s,children:C(n,{ref:i,...r,className:te(e,o)})})});Hk.displayName="CardHeader";const nj=Hk,rj=lu("h5"),ij=lu("h6"),Wk=Ze("card-body"),oj=Ze("card-title",{Component:rj}),sj=Ze("card-subtitle",{Component:ij}),aj=Ze("card-link",{Component:"a"}),lj=Ze("card-text",{Component:"p"}),uj=Ze("card-footer"),cj=Ze("card-img-overlay"),dj={body:!1},ky=y.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:o,children:s,as:a="div",...l},u)=>{const c=de(t,"card");return C(a,{ref:u,...l,className:te(e,c,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:o?C(Wk,{children:s}):s})});ky.displayName="Card";ky.defaultProps=dj;const Gn=Object.assign(ky,{Img:tj,Title:oj,Subtitle:sj,Body:Wk,Link:aj,Text:lj,Header:nj,Footer:uj,ImgOverlay:cj});function fj(t){var e=y.useRef(t);return e.current=t,e}function Kk(t){var e=fj(t);y.useEffect(function(){return function(){return e.current()}},[])}function hj(t,e){return y.Children.toArray(t).some(n=>y.isValidElement(n)&&n.type===e)}function pj({as:t,bsPrefix:e,className:n,...r}){e=de(e,"col");const i=a2(),o=l2(),s=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let c,d,f;typeof u=="object"&&u!=null?{span:c,offset:d,order:f}=u:c=u;const h=l!==o?`-${l}`:"";c&&s.push(c===!0?`${e}${h}`:`${e}${h}-${c}`),f!=null&&a.push(`order${h}-${f}`),d!=null&&a.push(`offset${h}-${d}`)}),[{...r,className:te(n,...s,...a)},{as:t,bsPrefix:e,spans:s}]}const qk=y.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:s}]=pj(t);return C(i,{...r,ref:e,className:te(n,!s.length&&o)})});qk.displayName="Col";const mj=qk;var gj=Function.prototype.bind.call(Function.prototype.call,[].slice);function fr(t,e){return gj(t.querySelectorAll(e))}function vj(t,e,n){const r=y.useRef(t!==void 0),[i,o]=y.useState(e),s=t!==void 0,a=r.current;return r.current=s,!s&&a&&i!==e&&o(e),[s?t:i,y.useCallback((l,...u)=>{n&&n(l,...u),o(l)},[n])]}function Gk(){var t=y.useReducer(function(n){return!n},!1),e=t[1];return e}const yj=y.createContext(null),zf=yj;var c1=Object.prototype.hasOwnProperty;function d1(t,e,n){for(n of t.keys())if(Ba(n,e))return n}function Ba(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Ba(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=d1(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=d1(e,i),!i)||!Ba(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(c1.call(t,n)&&++r&&!c1.call(e,n)||!(n in e)||!Ba(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function wj(t){var e=$k();return[t[0],y.useCallback(function(n){if(e())return t[1](n)},[e,t[1]])]}var Yt="top",Sn="bottom",Cn="right",Xt="left",by="auto",uu=[Yt,Sn,Cn,Xt],xs="start",bl="end",Ej="clippingParents",Qk="viewport",ha="popper",Sj="reference",f1=uu.reduce(function(t,e){return t.concat([e+"-"+xs,e+"-"+bl])},[]),Yk=[].concat(uu,[by]).reduce(function(t,e){return t.concat([e,e+"-"+xs,e+"-"+bl])},[]),Cj="beforeRead",Tj="read",Ij="afterRead",_j="beforeMain",kj="main",bj="afterMain",xj="beforeWrite",Rj="write",Nj="afterWrite",Dj=[Cj,Tj,Ij,_j,kj,bj,xj,Rj,Nj];function er(t){return t.split("-")[0]}function an(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function mo(t){var e=an(t).Element;return t instanceof e||t instanceof Element}function tr(t){var e=an(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function xy(t){if(typeof ShadowRoot>"u")return!1;var e=an(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var no=Math.max,hd=Math.min,Rs=Math.round;function Ym(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Xk(){return!/^((?!chrome|android).)*safari/i.test(Ym())}function Ns(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&tr(t)&&(i=t.offsetWidth>0&&Rs(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Rs(r.height)/t.offsetHeight||1);var s=mo(t)?an(t):window,a=s.visualViewport,l=!Xk()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/i,f=r.height/o;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u,x:u,y:c}}function Ry(t){var e=Ns(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Jk(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&xy(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function bi(t){return t?(t.nodeName||"").toLowerCase():null}function Mr(t){return an(t).getComputedStyle(t)}function Oj(t){return["table","td","th"].indexOf(bi(t))>=0}function Pi(t){return((mo(t)?t.ownerDocument:t.document)||window.document).documentElement}function Hf(t){return bi(t)==="html"?t:t.assignedSlot||t.parentNode||(xy(t)?t.host:null)||Pi(t)}function h1(t){return!tr(t)||Mr(t).position==="fixed"?null:t.offsetParent}function Aj(t){var e=/firefox/i.test(Ym()),n=/Trident/i.test(Ym());if(n&&tr(t)){var r=Mr(t);if(r.position==="fixed")return null}var i=Hf(t);for(xy(i)&&(i=i.host);tr(i)&&["html","body"].indexOf(bi(i))<0;){var o=Mr(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function cu(t){for(var e=an(t),n=h1(t);n&&Oj(n)&&Mr(n).position==="static";)n=h1(n);return n&&(bi(n)==="html"||bi(n)==="body"&&Mr(n).position==="static")?e:n||Aj(t)||e}function Ny(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Va(t,e,n){return no(t,hd(e,n))}function Pj(t,e,n){var r=Va(t,e,n);return r>n?n:r}function Zk(){return{top:0,right:0,bottom:0,left:0}}function eb(t){return Object.assign({},Zk(),t)}function tb(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var $j=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,eb(typeof e!="number"?e:tb(e,uu))};function Mj(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=er(n.placement),l=Ny(a),u=[Xt,Cn].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var d=$j(i.padding,n),f=Ry(o),h=l==="y"?Yt:Xt,v=l==="y"?Sn:Cn,w=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],p=s[l]-n.rects.reference[l],g=cu(o),m=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,E=w/2-p/2,S=d[h],T=m-f[c]-d[v],I=m/2-f[c]/2+E,_=Va(S,I,T),k=l;n.modifiersData[r]=(e={},e[k]=_,e.centerOffset=_-I,e)}}function Lj(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Jk(e.elements.popper,i)&&(e.elements.arrow=i))}const Fj={name:"arrow",enabled:!0,phase:"main",fn:Mj,effect:Lj,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ds(t){return t.split("-")[1]}var Uj={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jj(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Rs(n*i)/i||0,y:Rs(r*i)/i||0}}function p1(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,f=s.x,h=f===void 0?0:f,v=s.y,w=v===void 0?0:v,p=typeof c=="function"?c({x:h,y:w}):{x:h,y:w};h=p.x,w=p.y;var g=s.hasOwnProperty("x"),m=s.hasOwnProperty("y"),E=Xt,S=Yt,T=window;if(u){var I=cu(n),_="clientHeight",k="clientWidth";if(I===an(n)&&(I=Pi(n),Mr(I).position!=="static"&&a==="absolute"&&(_="scrollHeight",k="scrollWidth")),I=I,i===Yt||(i===Xt||i===Cn)&&o===bl){S=Sn;var M=d&&I===T&&T.visualViewport?T.visualViewport.height:I[_];w-=M-r.height,w*=l?1:-1}if(i===Xt||(i===Yt||i===Sn)&&o===bl){E=Cn;var A=d&&I===T&&T.visualViewport?T.visualViewport.width:I[k];h-=A-r.width,h*=l?1:-1}}var L=Object.assign({position:a},u&&Uj),G=c===!0?jj({x:h,y:w},an(n)):{x:h,y:w};if(h=G.x,w=G.y,l){var K;return Object.assign({},L,(K={},K[S]=m?"0":"",K[E]=g?"0":"",K.transform=(T.devicePixelRatio||1)<=1?"translate("+h+"px, "+w+"px)":"translate3d("+h+"px, "+w+"px, 0)",K))}return Object.assign({},L,(e={},e[S]=m?w+"px":"",e[E]=g?h+"px":"",e.transform="",e))}function Bj(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:er(e.placement),variation:Ds(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,p1(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,p1(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Vj={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Bj,data:{}};var Wu={passive:!0};function zj(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=an(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,Wu)}),a&&l.addEventListener("resize",n.update,Wu),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Wu)}),a&&l.removeEventListener("resize",n.update,Wu)}}const Hj={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zj,data:{}};var Wj={left:"right",right:"left",bottom:"top",top:"bottom"};function cc(t){return t.replace(/left|right|bottom|top/g,function(e){return Wj[e]})}var Kj={start:"end",end:"start"};function m1(t){return t.replace(/start|end/g,function(e){return Kj[e]})}function Dy(t){var e=an(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Oy(t){return Ns(Pi(t)).left+Dy(t).scrollLeft}function qj(t,e){var n=an(t),r=Pi(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var u=Xk();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+Oy(t),y:l}}function Gj(t){var e,n=Pi(t),r=Dy(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=no(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=no(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Oy(t),l=-r.scrollTop;return Mr(i||n).direction==="rtl"&&(a+=no(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Ay(t){var e=Mr(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function nb(t){return["html","body","#document"].indexOf(bi(t))>=0?t.ownerDocument.body:tr(t)&&Ay(t)?t:nb(Hf(t))}function za(t,e){var n;e===void 0&&(e=[]);var r=nb(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=an(r),s=i?[o].concat(o.visualViewport||[],Ay(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(za(Hf(s)))}function Xm(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Qj(t,e){var n=Ns(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function g1(t,e,n){return e===Qk?Xm(qj(t,n)):mo(e)?Qj(e,n):Xm(Gj(Pi(t)))}function Yj(t){var e=za(Hf(t)),n=["absolute","fixed"].indexOf(Mr(t).position)>=0,r=n&&tr(t)?cu(t):t;return mo(r)?e.filter(function(i){return mo(i)&&Jk(i,r)&&bi(i)!=="body"}):[]}function Xj(t,e,n,r){var i=e==="clippingParents"?Yj(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,u){var c=g1(t,u,r);return l.top=no(c.top,l.top),l.right=hd(c.right,l.right),l.bottom=hd(c.bottom,l.bottom),l.left=no(c.left,l.left),l},g1(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function rb(t){var e=t.reference,n=t.element,r=t.placement,i=r?er(r):null,o=r?Ds(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Yt:l={x:s,y:e.y-n.height};break;case Sn:l={x:s,y:e.y+e.height};break;case Cn:l={x:e.x+e.width,y:a};break;case Xt:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?Ny(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case xs:l[u]=l[u]-(e[c]/2-n[c]/2);break;case bl:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function xl(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?Ej:a,u=n.rootBoundary,c=u===void 0?Qk:u,d=n.elementContext,f=d===void 0?ha:d,h=n.altBoundary,v=h===void 0?!1:h,w=n.padding,p=w===void 0?0:w,g=eb(typeof p!="number"?p:tb(p,uu)),m=f===ha?Sj:ha,E=t.rects.popper,S=t.elements[v?m:f],T=Xj(mo(S)?S:S.contextElement||Pi(t.elements.popper),l,c,s),I=Ns(t.elements.reference),_=rb({reference:I,element:E,strategy:"absolute",placement:i}),k=Xm(Object.assign({},E,_)),M=f===ha?k:I,A={top:T.top-M.top+g.top,bottom:M.bottom-T.bottom+g.bottom,left:T.left-M.left+g.left,right:M.right-T.right+g.right},L=t.modifiersData.offset;if(f===ha&&L){var G=L[i];Object.keys(A).forEach(function(K){var ue=[Cn,Sn].indexOf(K)>=0?1:-1,ge=[Yt,Sn].indexOf(K)>=0?"y":"x";A[K]+=G[ge]*ue})}return A}function Jj(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Yk:l,c=Ds(r),d=c?a?f1:f1.filter(function(v){return Ds(v)===c}):uu,f=d.filter(function(v){return u.indexOf(v)>=0});f.length===0&&(f=d);var h=f.reduce(function(v,w){return v[w]=xl(t,{placement:w,boundary:i,rootBoundary:o,padding:s})[er(w)],v},{});return Object.keys(h).sort(function(v,w){return h[v]-h[w]})}function Zj(t){if(er(t)===by)return[];var e=cc(t);return[m1(t),e,m1(e)]}function eB(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,v=h===void 0?!0:h,w=n.allowedAutoPlacements,p=e.options.placement,g=er(p),m=g===p,E=l||(m||!v?[cc(p)]:Zj(p)),S=[p].concat(E).reduce(function(we,ke){return we.concat(er(ke)===by?Jj(e,{placement:ke,boundary:c,rootBoundary:d,padding:u,flipVariations:v,allowedAutoPlacements:w}):ke)},[]),T=e.rects.reference,I=e.rects.popper,_=new Map,k=!0,M=S[0],A=0;A<S.length;A++){var L=S[A],G=er(L),K=Ds(L)===xs,ue=[Yt,Sn].indexOf(G)>=0,ge=ue?"width":"height",ve=xl(e,{placement:L,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),le=ue?K?Cn:Xt:K?Sn:Yt;T[ge]>I[ge]&&(le=cc(le));var $=cc(le),j=[];if(o&&j.push(ve[G]<=0),a&&j.push(ve[le]<=0,ve[$]<=0),j.every(function(we){return we})){M=L,k=!1;break}_.set(L,j)}if(k)for(var P=v?3:1,ne=function(ke){var Me=S.find(function(Et){var Mt=_.get(Et);if(Mt)return Mt.slice(0,ke).every(function(dn){return dn})});if(Me)return M=Me,"break"},se=P;se>0;se--){var He=ne(se);if(He==="break")break}e.placement!==M&&(e.modifiersData[r]._skip=!0,e.placement=M,e.reset=!0)}}const tB={name:"flip",enabled:!0,phase:"main",fn:eB,requiresIfExists:["offset"],data:{_skip:!1}};function v1(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function y1(t){return[Yt,Cn,Sn,Xt].some(function(e){return t[e]>=0})}function nB(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=xl(e,{elementContext:"reference"}),a=xl(e,{altBoundary:!0}),l=v1(s,r),u=v1(a,i,o),c=y1(l),d=y1(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const rB={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:nB};function iB(t,e,n){var r=er(t),i=[Xt,Yt].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Xt,Cn].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function oB(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Yk.reduce(function(c,d){return c[d]=iB(d,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const sB={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:oB};function aB(t){var e=t.state,n=t.name;e.modifiersData[n]=rb({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const lB={name:"popperOffsets",enabled:!0,phase:"read",fn:aB,data:{}};function uB(t){return t==="x"?"y":"x"}function cB(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,v=n.tetherOffset,w=v===void 0?0:v,p=xl(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),g=er(e.placement),m=Ds(e.placement),E=!m,S=Ny(g),T=uB(S),I=e.modifiersData.popperOffsets,_=e.rects.reference,k=e.rects.popper,M=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,A=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,G={x:0,y:0};if(I){if(o){var K,ue=S==="y"?Yt:Xt,ge=S==="y"?Sn:Cn,ve=S==="y"?"height":"width",le=I[S],$=le+p[ue],j=le-p[ge],P=h?-k[ve]/2:0,ne=m===xs?_[ve]:k[ve],se=m===xs?-k[ve]:-_[ve],He=e.elements.arrow,we=h&&He?Ry(He):{width:0,height:0},ke=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Zk(),Me=ke[ue],Et=ke[ge],Mt=Va(0,_[ve],we[ve]),dn=E?_[ve]/2-P-Mt-Me-A.mainAxis:ne-Mt-Me-A.mainAxis,zr=E?-_[ve]/2+P+Mt+Et+A.mainAxis:se+Mt+Et+A.mainAxis,St=e.elements.arrow&&cu(e.elements.arrow),Vn=St?S==="y"?St.clientTop||0:St.clientLeft||0:0,Jt=(K=L==null?void 0:L[S])!=null?K:0,Se=le+dn-Jt-Vn,$i=le+zr-Jt,or=Va(h?hd($,Se):$,le,h?no(j,$i):j);I[S]=or,G[S]=or-le}if(a){var Mi,Xs=S==="x"?Yt:Xt,bo=S==="x"?Sn:Cn,_n=I[T],fn=T==="y"?"height":"width",sr=_n+p[Xs],Hr=_n-p[bo],ar=[Yt,Xt].indexOf(g)!==-1,he=(Mi=L==null?void 0:L[T])!=null?Mi:0,kn=ar?sr:_n-_[fn]-k[fn]-he+A.altAxis,Wr=ar?_n+_[fn]+k[fn]-he-A.altAxis:Hr,yu=h&&ar?Pj(kn,_n,Wr):Va(h?kn:sr,_n,h?Wr:Hr);I[T]=yu,G[T]=yu-_n}e.modifiersData[r]=G}}const dB={name:"preventOverflow",enabled:!0,phase:"main",fn:cB,requiresIfExists:["offset"]};function fB(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function hB(t){return t===an(t)||!tr(t)?Dy(t):fB(t)}function pB(t){var e=t.getBoundingClientRect(),n=Rs(e.width)/t.offsetWidth||1,r=Rs(e.height)/t.offsetHeight||1;return n!==1||r!==1}function mB(t,e,n){n===void 0&&(n=!1);var r=tr(e),i=tr(e)&&pB(e),o=Pi(e),s=Ns(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((bi(e)!=="body"||Ay(o))&&(a=hB(e)),tr(e)?(l=Ns(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=Oy(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function gB(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function vB(t){var e=gB(t);return Dj.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function yB(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function wB(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var w1={placement:"bottom",modifiers:[],strategy:"absolute"};function E1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function EB(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?w1:i;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},w1,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:c,setOptions:function(g){var m=typeof g=="function"?g(c.options):g;w(),c.options=Object.assign({},o,c.options,m),c.scrollParents={reference:mo(a)?za(a):a.contextElement?za(a.contextElement):[],popper:za(l)};var E=vB(wB([].concat(r,c.options.modifiers)));return c.orderedModifiers=E.filter(function(S){return S.enabled}),v(),h.update()},forceUpdate:function(){if(!f){var g=c.elements,m=g.reference,E=g.popper;if(E1(m,E)){c.rects={reference:mB(m,cu(E),c.options.strategy==="fixed"),popper:Ry(E)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(A){return c.modifiersData[A.name]=Object.assign({},A.data)});for(var S=0;S<c.orderedModifiers.length;S++){if(c.reset===!0){c.reset=!1,S=-1;continue}var T=c.orderedModifiers[S],I=T.fn,_=T.options,k=_===void 0?{}:_,M=T.name;typeof I=="function"&&(c=I({state:c,options:k,name:M,instance:h})||c)}}}},update:yB(function(){return new Promise(function(p){h.forceUpdate(),p(c)})}),destroy:function(){w(),f=!0}};if(!E1(a,l))return h;h.setOptions(u).then(function(p){!f&&u.onFirstUpdate&&u.onFirstUpdate(p)});function v(){c.orderedModifiers.forEach(function(p){var g=p.name,m=p.options,E=m===void 0?{}:m,S=p.effect;if(typeof S=="function"){var T=S({state:c,name:g,instance:h,options:E}),I=function(){};d.push(T||I)}})}function w(){d.forEach(function(p){return p()}),d=[]}return h}}const SB=EB({defaultModifiers:[rB,lB,Vj,Hj,sB,tB,dB,Fj]}),CB=["enabled","placement","strategy","modifiers"];function TB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const IB={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},_B={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${n.id}`:n.id)}}},kB=[];function bB(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:s=kB}=n,a=TB(n,CB);const l=y.useRef(s),u=y.useRef(),c=y.useCallback(()=>{var p;(p=u.current)==null||p.update()},[]),d=y.useCallback(()=>{var p;(p=u.current)==null||p.forceUpdate()},[]),[f,h]=wj(y.useState({placement:i,update:c,forceUpdate:d,attributes:{},styles:{popper:{},arrow:{}}})),v=y.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:p})=>{const g={},m={};Object.keys(p.elements).forEach(E=>{g[E]=p.styles[E],m[E]=p.attributes[E]}),h({state:p,styles:g,attributes:m,update:c,forceUpdate:d,placement:p.placement})}}),[c,d,h]),w=y.useMemo(()=>(Ba(l.current,s)||(l.current=s),l.current),[s]);return y.useEffect(()=>{!u.current||!r||u.current.setOptions({placement:i,strategy:o,modifiers:[...w,v,IB]})},[o,i,v,r,w]),y.useEffect(()=>{if(!(!r||t==null||e==null))return u.current=SB(t,e,Object.assign({},a,{placement:i,strategy:o,modifiers:[...w,_B,v]})),()=>{u.current!=null&&(u.current.destroy(),u.current=void 0,h(p=>Object.assign({},p,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),f}function pd(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const S1=()=>{};function xB(t){return t.button===0}function RB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const ep=t=>t&&("current"in t?t.current:t),C1={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function NB(t,e=S1,{disabled:n,clickTrigger:r="click"}={}){const i=y.useRef(!1),o=y.useRef(!1),s=y.useCallback(u=>{const c=ep(t);i.current=!c||RB(u)||!xB(u)||!!pd(c,u.target)||o.current,o.current=!1},[t]),a=Be(u=>{const c=ep(t);c&&pd(c,u.target)&&(o.current=!0)}),l=Be(u=>{i.current||e(u)});y.useEffect(()=>{if(n||t==null)return;const u=su(ep(t));let c=(u.defaultView||window).event,d=null;C1[r]&&(d=ii(u,C1[r],a,!0));const f=ii(u,r,s,!0),h=ii(u,r,w=>{if(w===c){c=void 0;return}l(w)});let v=[];return"ontouchstart"in u.documentElement&&(v=[].slice.call(u.body.children).map(w=>ii(w,"mousemove",S1))),()=>{d==null||d(),f(),h(),v.forEach(w=>w())}},[t,n,r,s,a,l])}function DB(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function OB(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function AB({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:o,containerPadding:s,arrowElement:a,popperConfig:l={}}){var u,c,d,f,h;const v=DB(l.modifiers);return Object.assign({},l,{placement:n,enabled:t,strategy:o?"fixed":l.strategy,modifiers:OB(Object.assign({},v,{eventListeners:{enabled:e,options:(u=v.eventListeners)==null?void 0:u.options},preventOverflow:Object.assign({},v.preventOverflow,{options:s?Object.assign({padding:s},(c=v.preventOverflow)==null?void 0:c.options):(d=v.preventOverflow)==null?void 0:d.options}),offset:{options:Object.assign({offset:i},(f=v.offset)==null?void 0:f.options)},arrow:Object.assign({},v.arrow,{enabled:!!a,options:Object.assign({},(h=v.arrow)==null?void 0:h.options,{element:a})}),flip:Object.assign({enabled:!!r},v.flip)}))})}const PB=["children"];function $B(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const MB=()=>{};function ib(t={}){const e=y.useContext(zf),[n,r]=Pk(),i=y.useRef(!1),{flip:o,offset:s,rootCloseEvent:a,fixed:l=!1,placement:u,popperConfig:c={},enableEventListeners:d=!0,usePopper:f=!!e}=t,h=(e==null?void 0:e.show)==null?!!t.show:e.show;h&&!i.current&&(i.current=!0);const v=I=>{e==null||e.toggle(!1,I)},{placement:w,setMenu:p,menuElement:g,toggleElement:m}=e||{},E=bB(m,g,AB({placement:u||w||"bottom-start",enabled:f,enableEvents:d??h,offset:s,flip:o,fixed:l,arrowElement:n,popperConfig:c})),S=Object.assign({ref:p||MB,"aria-labelledby":m==null?void 0:m.id},E.attributes.popper,{style:E.styles.popper}),T={show:h,placement:w,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:f?E:null,arrowProps:f?Object.assign({ref:r},E.attributes.arrow,{style:E.styles.arrow}):{}};return NB(g,v,{clickTrigger:a,disabled:!h}),[S,T]}const LB={usePopper:!0};function Py(t){let{children:e}=t,n=$B(t,PB);const[r,i]=ib(n);return C(_r,{children:e(r,i)})}Py.displayName="DropdownMenu";Py.defaultProps=LB;const ob={prefix:String(Math.round(Math.random()*1e10)),current:0,isSSR:!1},sb=Wt.createContext(ob);let FB=!!(typeof window<"u"&&window.document&&window.document.createElement),tp=new WeakMap;function UB(t=!1){let e=y.useContext(sb),n=y.useRef(null);if(n.current===null&&!t){var r,i;let o=(r=Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(i=r.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(o){let s=tp.get(o);s==null?tp.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==s.state&&(e.current=s.id,tp.delete(o))}n.current=++e.current}return n.current}function jB(t){let e=y.useContext(sb);e===ob&&!FB&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=UB(!!t);return t||`react-aria${e.prefix}-${n}`}const ab=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},T1=()=>{};function lb(){const t=jB(),{show:e=!1,toggle:n=T1,setToggle:r,menuElement:i}=y.useContext(zf)||{},o=y.useCallback(a=>{n(!e,a)},[e,n]),s={id:t,ref:r||T1,onClick:o,"aria-expanded":!!e};return i&&ab(i)&&(s["aria-haspopup"]=!0),[s,{show:e,toggle:n}]}function ub({children:t}){const[e,n]=lb();return C(_r,{children:t(e,n)})}ub.displayName="DropdownToggle";const BB=y.createContext(null),Rl=(t,e=null)=>t!=null?String(t):e||null,go=BB,cb=y.createContext(null);cb.displayName="NavContext";const $y=cb,VB="data-rr-ui-",zB="rrUi";function Ks(t){return`${VB}${t}`}function HB(t){return`${zB}${t}`}const WB=["eventKey","disabled","onClick","active","as"];function KB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function db({key:t,href:e,active:n,disabled:r,onClick:i}){const o=y.useContext(go),s=y.useContext($y),{activeKey:a}=s||{},l=Rl(t,e),u=n==null&&t!=null?Rl(a)===l:n;return[{onClick:Be(d=>{r||(i==null||i(d),o&&!d.isPropagationStopped()&&o(l,d))}),"aria-disabled":r||void 0,"aria-selected":u,[Ks("dropdown-item")]:""},{isActive:u}]}const fb=y.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:o,as:s=Ey}=t,a=KB(t,WB);const[l]=db({key:n,href:a.href,disabled:r,onClick:i,active:o});return C(s,Object.assign({},a,{ref:e},l))});fb.displayName="DropdownItem";const hb=y.createContext(Ws?window:void 0);hb.Provider;function My(){return y.useContext(hb)}function I1(){const t=Gk(),e=y.useRef(null),n=y.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function du({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${Ks("dropdown-item")}]`,focusFirstItemOnShow:o,placement:s="bottom-start",children:a}){const l=My(),[u,c]=vj(e,t,r),[d,f]=I1(),h=d.current,[v,w]=I1(),p=v.current,g=Mk(u),m=y.useRef(null),E=y.useRef(!1),S=y.useContext(go),T=y.useCallback((L,G,K=G==null?void 0:G.type)=>{c(L,{originalEvent:G,source:K})},[c]),I=Be((L,G)=>{n==null||n(L,G),T(!1,G,"select"),G.isPropagationStopped()||S==null||S(L,G)}),_=y.useMemo(()=>({toggle:T,placement:s,show:u,menuElement:h,toggleElement:p,setMenu:f,setToggle:w}),[T,s,u,h,p,f,w]);h&&g&&!u&&(E.current=h.contains(h.ownerDocument.activeElement));const k=Be(()=>{p&&p.focus&&p.focus()}),M=Be(()=>{const L=m.current;let G=o;if(G==null&&(G=d.current&&ab(d.current)?"keyboard":!1),G===!1||G==="keyboard"&&!/^key.+$/.test(L))return;const K=fr(d.current,i)[0];K&&K.focus&&K.focus()});y.useEffect(()=>{u?M():E.current&&(E.current=!1,k())},[u,E,k,M]),y.useEffect(()=>{m.current=null});const A=(L,G)=>{if(!d.current)return null;const K=fr(d.current,i);let ue=K.indexOf(L)+G;return ue=Math.max(0,Math.min(ue,K.length)),K[ue]};return A2(y.useCallback(()=>l.document,[l]),"keydown",L=>{var G,K;const{key:ue}=L,ge=L.target,ve=(G=d.current)==null?void 0:G.contains(ge),le=(K=v.current)==null?void 0:K.contains(ge);if(/input|textarea/i.test(ge.tagName)&&(ue===" "||ue!=="Escape"&&ve||ue==="Escape"&&ge.type==="search")||!ve&&!le||ue==="Tab"&&(!d.current||!u))return;m.current=L.type;const j={originalEvent:L,source:L.type};switch(ue){case"ArrowUp":{const P=A(ge,-1);P&&P.focus&&P.focus(),L.preventDefault();return}case"ArrowDown":if(L.preventDefault(),!u)c(!0,j);else{const P=A(ge,1);P&&P.focus&&P.focus()}return;case"Tab":gy(ge.ownerDocument,"keyup",P=>{var ne;(P.key==="Tab"&&!P.target||!((ne=d.current)!=null&&ne.contains(P.target)))&&c(!1,j)},{once:!0});break;case"Escape":ue==="Escape"&&(L.preventDefault(),L.stopPropagation()),c(!1,j);break}}),C(go.Provider,{value:I,children:C(zf.Provider,{value:_,children:a})})}du.displayName="Dropdown";du.Menu=Py;du.Toggle=ub;du.Item=fb;const pb=y.createContext({});pb.displayName="DropdownContext";const mb=pb,gb=y.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:o,as:s=Sy,...a},l)=>{const u=de(t,"dropdown-item"),[c,d]=db({key:n,href:a.href,disabled:r,onClick:i,active:o});return C(s,{...a,...c,ref:l,className:te(e,u,d.isActive&&"active",r&&"disabled")})});gb.displayName="DropdownItem";const qB=gb,vb=y.createContext(null);vb.displayName="InputGroupContext";const yb=vb,wb=y.createContext(null);wb.displayName="NavbarContext";const ko=wb;function Eb(t,e){return t}const Do=Ee.oneOf(["start","end"]),GB=Ee.oneOfType([Do,Ee.shape({sm:Do}),Ee.shape({md:Do}),Ee.shape({lg:Do}),Ee.shape({xl:Do}),Ee.shape({xxl:Do}),Ee.object]),QB={flip:!0};function Sb(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",o=n?"bottom-end":"bottom-start",s=n?"bottom-start":"bottom-end",a=n?"right-start":"left-start",l=n?"right-end":"left-end",u=n?"left-start":"right-start",c=n?"left-end":"right-end";let d=t?s:o;return e==="up"?d=t?i:r:e==="end"?d=t?c:u:e==="start"?d=t?l:a:e==="down-centered"?d="bottom":e==="up-centered"&&(d="top"),d}const Ly=y.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i,show:o,renderOnMount:s,as:a="div",popperConfig:l,variant:u,...c},d)=>{let f=!1;const h=y.useContext(ko),v=de(t,"dropdown-menu"),{align:w,drop:p,isRTL:g}=y.useContext(mb);n=n||w;const m=y.useContext(yb),E=[];if(n)if(typeof n=="object"){const L=Object.keys(n);if(L.length){const G=L[0],K=n[G];f=K==="start",E.push(`${v}-${G}-${K}`)}}else n==="end"&&(f=!0);const S=Sb(f,p,g),[T,{hasShown:I,popper:_,show:k,toggle:M}]=ib({flip:i,rootCloseEvent:r,show:o,usePopper:!h&&E.length===0,offset:[0,2],popperConfig:l,placement:S});if(T.ref=_o(Eb(d),T.ref),fd(()=>{k&&(_==null||_.update())},[k]),!I&&!s&&!m)return null;typeof a!="string"&&(T.show=k,T.close=()=>M==null?void 0:M(!1),T.align=n);let A=c.style;return _!=null&&_.placement&&(A={...c.style,...T.style},c["x-placement"]=_.placement),C(a,{...c,...T,style:A,...(E.length||h)&&{"data-bs-popper":"static"},className:te(e,v,k&&"show",f&&`${v}-end`,u&&`${v}-${u}`,...E)})});Ly.displayName="DropdownMenu";Ly.defaultProps=QB;const Cb=Ly,Tb=y.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=Bn,...o},s)=>{const a=de(t,"dropdown-toggle"),l=y.useContext(zf);r!==void 0&&(o.bsPrefix=r);const[u]=lb();return u.ref=_o(u.ref,Eb(s)),C(i,{className:te(n,a,e&&`${a}-split`,(l==null?void 0:l.show)&&"show"),...u,...o})});Tb.displayName="DropdownToggle";const Ib=Tb,YB=Ze("dropdown-header",{defaultProps:{role:"heading"}}),XB=Ze("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),JB=Ze("dropdown-item-text",{Component:"span"}),ZB={navbar:!1,align:"start",autoClose:!0,drop:"down"},Fy=y.forwardRef((t,e)=>{const{bsPrefix:n,drop:r,show:i,className:o,align:s,onSelect:a,onToggle:l,focusFirstItemOnShow:u,as:c="div",navbar:d,autoClose:f,...h}=jf(t,{show:"onToggle"}),v=y.useContext(yb),w=de(n,"dropdown"),p=kk(),g=_=>f===!1?_==="click":f==="inside"?_!=="rootClose":f==="outside"?_!=="select":!0,m=Be((_,k)=>{k.originalEvent.currentTarget===document&&(k.source!=="keydown"||k.originalEvent.key==="Escape")&&(k.source="rootClose"),g(k.source)&&(l==null||l(_,k))}),S=Sb(s==="end",r,p),T=y.useMemo(()=>({align:s,drop:r,isRTL:p}),[s,r,p]),I={down:w,"down-centered":`${w}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return C(mb.Provider,{value:T,children:C(du,{placement:S,show:i,onSelect:a,onToggle:m,focusFirstItemOnShow:u,itemSelector:`.${w}-item:not(.disabled):not(:disabled)`,children:v?h.children:C(c,{...h,ref:e,className:te(o,i&&"show",I[r])})})})});Fy.displayName="Dropdown";Fy.defaultProps=ZB;const Uy=Object.assign(Fy,{Toggle:Ib,Menu:Cb,Item:qB,ItemText:JB,Divider:XB,Header:YB}),eV={id:Ee.string,href:Ee.string,onClick:Ee.func,title:Ee.node.isRequired,disabled:Ee.bool,align:GB,menuRole:Ee.string,renderMenuOnMount:Ee.bool,rootCloseEvent:Ee.string,menuVariant:Ee.oneOf(["dark"]),flip:Ee.bool,bsPrefix:Ee.string,variant:Ee.string,size:Ee.string},jy=y.forwardRef(({title:t,children:e,bsPrefix:n,rootCloseEvent:r,variant:i,size:o,menuRole:s,renderMenuOnMount:a,disabled:l,href:u,id:c,menuVariant:d,flip:f,...h},v)=>q(Uy,{ref:v,...h,children:[C(Ib,{id:c,href:u,size:o,variant:i,disabled:l,childBsPrefix:n,children:t}),C(Cb,{role:s,renderOnMount:a,rootCloseEvent:r,variant:d,flip:f,children:e})]}));jy.displayName="DropdownButton";jy.propTypes=eV;const _b=jy,tV={type:Ee.string,tooltip:Ee.bool,as:Ee.elementType},By=y.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},o)=>C(t,{...i,ref:o,className:te(e,`${n}-${r?"tooltip":"feedback"}`)}));By.displayName="Feedback";By.propTypes=tV;const kb=By,nV=y.createContext({}),Lr=nV,bb=y.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:s="input",...a},l)=>{const{controlId:u}=y.useContext(Lr);return e=de(e,"form-check-input"),C(s,{...a,ref:l,type:r,id:t||u,className:te(n,e,i&&"is-valid",o&&"is-invalid")})});bb.displayName="FormCheckInput";const xb=bb,Rb=y.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:o}=y.useContext(Lr);return t=de(t,"form-check-label"),C("label",{...r,ref:i,htmlFor:n||o,className:te(e,t)})});Rb.displayName="FormCheckLabel";const Jm=Rb,Nb=y.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:s=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:c,className:d,style:f,title:h="",type:v="checkbox",label:w,children:p,as:g="input",...m},E)=>{e=de(e,"form-check"),n=de(n,"form-switch");const{controlId:S}=y.useContext(Lr),T=y.useMemo(()=>({controlId:t||S}),[S,t]),I=!p&&w!=null&&w!==!1||hj(p,Jm),_=C(xb,{...m,type:v==="switch"?"checkbox":v,ref:E,isValid:s,isInvalid:a,disabled:o,as:g});return C(Lr.Provider,{value:T,children:C("div",{style:f,className:te(d,I&&e,r&&`${e}-inline`,i&&`${e}-reverse`,v==="switch"&&n),children:p||q(_r,{children:[_,I&&C(Jm,{title:h,children:w}),u&&C(kb,{type:c,tooltip:l,children:u})]})})})});Nb.displayName="FormCheck";const md=Object.assign(Nb,{Input:xb,Label:Jm}),Db=y.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:o,isValid:s=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:c="input",...d},f)=>{const{controlId:h}=y.useContext(Lr);t=de(t,"form-control");let v;return l?v={[`${t}-plaintext`]:!0}:v={[t]:!0,[`${t}-${n}`]:n},C(c,{...d,type:e,size:r,ref:f,readOnly:u,id:i||h,className:te(o,v,s&&"is-valid",a&&"is-invalid",e==="color"&&`${t}-color`)})});Db.displayName="FormControl";const rV=Object.assign(Db,{Feedback:kb}),iV=Ze("form-floating"),Ob=y.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=y.useMemo(()=>({controlId:t}),[t]);return C(Lr.Provider,{value:i,children:C(e,{...n,ref:r})})});Ob.displayName="FormGroup";const Ab=Ob,oV={column:!1,visuallyHidden:!1},Vy=y.forwardRef(({as:t="label",bsPrefix:e,column:n,visuallyHidden:r,className:i,htmlFor:o,...s},a)=>{const{controlId:l}=y.useContext(Lr);e=de(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const c=te(i,e,r&&"visually-hidden",n&&u);return o=o||l,n?C(mj,{ref:a,as:"label",className:c,htmlFor:o,...s}):C(t,{ref:a,className:c,htmlFor:o,...s})});Vy.displayName="FormLabel";Vy.defaultProps=oV;const sV=Vy,Pb=y.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:o}=y.useContext(Lr);return t=de(t,"form-range"),C("input",{...r,type:"range",ref:i,className:te(e,t),id:n||o})});Pb.displayName="FormRange";const aV=Pb,$b=y.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:o=!1,id:s,...a},l)=>{const{controlId:u}=y.useContext(Lr);return t=de(t,"form-select"),C("select",{...a,size:n,ref:l,className:te(r,t,e&&`${t}-${e}`,i&&"is-valid",o&&"is-invalid"),id:s||u})});$b.displayName="FormSelect";const lV=$b,Mb=y.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},o)=>(t=de(t,"form-text"),C(n,{...i,ref:o,className:te(e,t,r&&"text-muted")})));Mb.displayName="FormText";const uV=Mb,Lb=y.forwardRef((t,e)=>C(md,{...t,ref:e,type:"switch"}));Lb.displayName="Switch";const cV=Object.assign(Lb,{Input:md.Input,Label:md.Label}),Fb=y.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...o},s)=>(t=de(t,"form-floating"),q(Ab,{ref:s,className:te(e,t),controlId:r,...o,children:[n,C("label",{htmlFor:r,children:i})]})));Fb.displayName="FloatingLabel";const dV=Fb,fV={_ref:Ee.any,validated:Ee.bool,as:Ee.elementType},zy=y.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>C(n,{...r,ref:i,className:te(t,e&&"was-validated")}));zy.displayName="Form";zy.propTypes=fV;const Te=Object.assign(zy,{Group:Ab,Control:rV,Floating:iV,Check:md,Switch:cV,Label:sV,Text:uV,Range:aV,Select:lV,FloatingLabel:dV}),hV={fluid:!1},Hy=y.forwardRef(({bsPrefix:t,fluid:e,as:n="div",className:r,...i},o)=>{const s=de(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return C(n,{ref:o,...i,className:te(r,e?`${s}${a}`:s)})});Hy.displayName="Container";Hy.defaultProps=hV;const qs=Hy,pV=y.createContext(null),Ub=pV,mV=["as","active","eventKey"];function gV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jb({key:t,onClick:e,active:n,id:r,role:i,disabled:o}){const s=y.useContext(go),a=y.useContext($y),l=y.useContext(Ub);let u=n;const c={role:i};if(a){!i&&a.role==="tablist"&&(c.role="tab");const d=a.getControllerId(t??null),f=a.getControlledId(t??null);c[Ks("event-key")]=t,c.id=d||r,u=n==null&&t!=null?a.activeKey===t:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(c["aria-controls"]=f)}return c.role==="tab"&&(c["aria-selected"]=u,u||(c.tabIndex=-1),o&&(c.tabIndex=-1,c["aria-disabled"]=!0)),c.onClick=Be(d=>{o||(e==null||e(d),t!=null&&s&&!d.isPropagationStopped()&&s(t,d))}),[c,{isActive:u}]}const Bb=y.forwardRef((t,e)=>{let{as:n=Ey,active:r,eventKey:i}=t,o=gV(t,mV);const[s,a]=jb(Object.assign({key:Rl(i,o.href),active:r},o));return s[Ks("active")]=a.isActive,C(n,Object.assign({},o,s,{ref:e}))});Bb.displayName="NavItem";const vV=Bb,yV=["as","onSelect","activeKey","role","onKeyDown"];function wV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const _1=()=>{},k1=Ks("event-key"),Vb=y.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:o,onKeyDown:s}=t,a=wV(t,yV);const l=Gk(),u=y.useRef(!1),c=y.useContext(go),d=y.useContext(Ub);let f,h;d&&(o=o||"tablist",i=d.activeKey,f=d.getControlledId,h=d.getControllerId);const v=y.useRef(null),w=E=>{const S=v.current;if(!S)return null;const T=fr(S,`[${k1}]:not([aria-disabled=true])`),I=S.querySelector("[aria-selected=true]");if(!I||I!==document.activeElement)return null;const _=T.indexOf(I);if(_===-1)return null;let k=_+E;return k>=T.length&&(k=0),k<0&&(k=T.length-1),T[k]},p=(E,S)=>{E!=null&&(r==null||r(E,S),c==null||c(E,S))},g=E=>{if(s==null||s(E),!d)return;let S;switch(E.key){case"ArrowLeft":case"ArrowUp":S=w(-1);break;case"ArrowRight":case"ArrowDown":S=w(1);break;default:return}S&&(E.preventDefault(),p(S.dataset[HB("EventKey")]||null,E),u.current=!0,l())};y.useEffect(()=>{if(v.current&&u.current){const E=v.current.querySelector(`[${k1}][aria-selected=true]`);E==null||E.focus()}u.current=!1});const m=_o(e,v);return C(go.Provider,{value:p,children:C($y.Provider,{value:{role:o,activeKey:Rl(i),getControlledId:f||_1,getControllerId:h||_1},children:C(n,Object.assign({},a,{onKeyDown:g,ref:m,role:o}))})})});Vb.displayName="Nav";const EV=Object.assign(Vb,{Item:vV});var Ku;function b1(t){if((!Ku&&Ku!==0||t)&&Ws){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Ku=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Ku}function np(t){t===void 0&&(t=su());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function SV(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const x1=Ks("modal-open");class CV{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return SV(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Ir(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(x1,""),Ir(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(x1),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Wy=CV,rp=(t,e)=>Ws?t==null?(e||su()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function TV(t,e){const n=My(),[r,i]=y.useState(()=>rp(t,n==null?void 0:n.document));if(!r){const o=rp(t);o&&i(o)}return y.useEffect(()=>{e&&r&&e(r)},[e,r]),y.useEffect(()=>{const o=rp(t);o!==r&&i(o)},[t,r]),r}function IV({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const o=y.useRef(null),s=y.useRef(e),a=Be(n);y.useEffect(()=>{e?s.current=!0:a(o.current)},[e,a]);const l=_o(o,t.ref),u=y.cloneElement(t,{ref:l});return e?u:i||!s.current&&r?null:u}function _V({in:t,onTransition:e}){const n=y.useRef(null),r=y.useRef(!0),i=Be(e);return fd(()=>{if(!n.current)return;let o=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[t,i]),fd(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function kV({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[o,s]=y.useState(!e);e&&o&&s(!1);const a=_V({in:!!e,onTransition:u=>{const c=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(s(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(c,d=>{throw u.in||s(!0),d})}}),l=_o(a,t.ref);return o&&!e?null:y.cloneElement(t,{ref:l})}function R1(t,e,n){return t?C(t,Object.assign({},n)):e?C(kV,Object.assign({},n,{transition:e})):C(IV,Object.assign({},n))}function bV(t){return t.code==="Escape"||t.keyCode===27}const xV=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function RV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let ip;function NV(t){return ip||(ip=new Wy({ownerDocument:t==null?void 0:t.document})),ip}function DV(t){const e=My(),n=t||NV(e),r=y.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:y.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:y.useCallback(i=>{r.current.backdrop=i},[])})}const zb=y.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:o,children:s,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:d,runTransition:f,backdropTransition:h,runBackdropTransition:v,autoFocus:w=!0,enforceFocus:p=!0,restoreFocus:g=!0,restoreFocusOptions:m,renderDialog:E,renderBackdrop:S=Se=>C("div",Object.assign({},Se)),manager:T,container:I,onShow:_,onHide:k=()=>{},onExit:M,onExited:A,onExiting:L,onEnter:G,onEntering:K,onEntered:ue}=t,ge=RV(t,xV);const ve=TV(I),le=DV(T),$=$k(),j=Mk(n),[P,ne]=y.useState(!n),se=y.useRef(null);y.useImperativeHandle(e,()=>le,[le]),Ws&&!j&&n&&(se.current=np()),n&&P&&ne(!1);const He=Be(()=>{if(le.add(),dn.current=ii(document,"keydown",Et),Mt.current=ii(document,"focus",()=>setTimeout(ke),!0),_&&_(),w){const Se=np(document);le.dialog&&Se&&!pd(le.dialog,Se)&&(se.current=Se,le.dialog.focus())}}),we=Be(()=>{if(le.remove(),dn.current==null||dn.current(),Mt.current==null||Mt.current(),g){var Se;(Se=se.current)==null||Se.focus==null||Se.focus(m),se.current=null}});y.useEffect(()=>{!n||!ve||He()},[n,ve,He]),y.useEffect(()=>{P&&we()},[P,we]),Kk(()=>{we()});const ke=Be(()=>{if(!p||!$()||!le.isTopModal())return;const Se=np();le.dialog&&Se&&!pd(le.dialog,Se)&&le.dialog.focus()}),Me=Be(Se=>{Se.target===Se.currentTarget&&(u==null||u(Se),a===!0&&k())}),Et=Be(Se=>{l&&bV(Se)&&le.isTopModal()&&(c==null||c(Se),Se.defaultPrevented||k())}),Mt=y.useRef(),dn=y.useRef(),zr=(...Se)=>{ne(!0),A==null||A(...Se)};if(!ve)return null;const St=Object.assign({role:r,ref:le.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},ge,{style:o,className:i,tabIndex:-1});let Vn=E?E(St):C("div",Object.assign({},St,{children:y.cloneElement(s,{role:"document"})}));Vn=R1(d,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:M,onExiting:L,onExited:zr,onEnter:G,onEntering:K,onEntered:ue,children:Vn});let Jt=null;return a&&(Jt=S({ref:le.setBackdropRef,onClick:Me}),Jt=R1(h,v,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Jt})),C(_r,{children:qo.createPortal(q(_r,{children:[Jt,Vn]}),ve)})});zb.displayName="Modal";const Hb=Object.assign(zb,{Manager:Wy});function OV(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function AV(t,e){t.classList?t.classList.add(e):OV(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function N1(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function PV(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=N1(t.className,e):t.setAttribute("class",N1(t.className&&t.className.baseVal||"",e))}const Oo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Wb extends Wy{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Ir(n,{[e]:`${parseFloat(Ir(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Ir(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(AV(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";fr(n,Oo.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),fr(n,Oo.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),fr(n,Oo.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();PV(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";fr(n,Oo.FIXED_CONTENT).forEach(o=>this.restore(r,o)),fr(n,Oo.STICKY_CONTENT).forEach(o=>this.restore(i,o)),fr(n,Oo.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let op;function Kb(t){return op||(op=new Wb(t)),op}const $V=Wb,MV=Ze("modal-body"),LV=y.createContext({onHide(){}}),Ky=LV,qb=y.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:o,children:s,scrollable:a,...l},u)=>{t=de(t,"modal");const c=`${t}-dialog`,d=typeof o=="string"?`${t}-fullscreen-${o}`:`${t}-fullscreen`;return C("div",{...l,ref:u,className:te(c,e,i&&`${t}-${i}`,r&&`${c}-centered`,a&&`${c}-scrollable`,o&&d),children:C("div",{className:te(`${t}-content`,n),children:s})})});qb.displayName="ModalDialog";const Gb=qb,qy=Ze("modal-footer"),FV={closeLabel:"Close",closeButton:!1},Qb=y.forwardRef(({closeLabel:t,closeVariant:e,closeButton:n,onHide:r,children:i,...o},s)=>{const a=y.useContext(Ky),l=Be(()=>{a==null||a.onHide(),r==null||r()});return q("div",{ref:s,...o,children:[i,n&&C(Fk,{"aria-label":t,variant:e,onClick:l})]})});Qb.defaultProps=FV;const Yb=Qb,UV={closeLabel:"Close",closeButton:!1},Gy=y.forwardRef(({bsPrefix:t,className:e,...n},r)=>(t=de(t,"modal-header"),C(Yb,{ref:r,...n,className:te(e,t)})));Gy.displayName="ModalHeader";Gy.defaultProps=UV;const jV=Gy,BV=lu("h4"),VV=Ze("modal-title",{Component:BV}),zV={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Gb};function HV(t){return C(au,{...t,timeout:null})}function WV(t){return C(au,{...t,timeout:null})}const Qy=y.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:o,dialogAs:s,"aria-labelledby":a,"aria-describedby":l,"aria-label":u,show:c,animation:d,backdrop:f,keyboard:h,onEscapeKeyDown:v,onShow:w,onHide:p,container:g,autoFocus:m,enforceFocus:E,restoreFocus:S,restoreFocusOptions:T,onEntered:I,onExit:_,onExiting:k,onEnter:M,onEntering:A,onExited:L,backdropClassName:G,manager:K,...ue},ge)=>{const[ve,le]=y.useState({}),[$,j]=y.useState(!1),P=y.useRef(!1),ne=y.useRef(!1),se=y.useRef(null),[He,we]=Pk(),ke=_o(ge,we),Me=Be(p),Et=kk();t=de(t,"modal");const Mt=y.useMemo(()=>({onHide:Me}),[Me]);function dn(){return K||Kb({isRTL:Et})}function zr(he){if(!Ws)return;const kn=dn().getScrollbarWidth()>0,Wr=he.scrollHeight>su(he).documentElement.clientHeight;le({paddingRight:kn&&!Wr?b1():void 0,paddingLeft:!kn&&Wr?b1():void 0})}const St=Be(()=>{He&&zr(He.dialog)});Kk(()=>{Qm(window,"resize",St),se.current==null||se.current()});const Vn=()=>{P.current=!0},Jt=he=>{P.current&&He&&he.target===He.dialog&&(ne.current=!0),P.current=!1},Se=()=>{j(!0),se.current=Nk(He.dialog,()=>{j(!1)})},$i=he=>{he.target===he.currentTarget&&Se()},or=he=>{if(f==="static"){$i(he);return}if(ne.current||he.target!==he.currentTarget){ne.current=!1;return}p==null||p()},Mi=he=>{h?v==null||v(he):(he.preventDefault(),f==="static"&&Se())},Xs=(he,kn)=>{he&&zr(he),M==null||M(he,kn)},bo=he=>{se.current==null||se.current(),_==null||_(he)},_n=(he,kn)=>{A==null||A(he,kn),gy(window,"resize",St)},fn=he=>{he&&(he.style.display=""),L==null||L(he),Qm(window,"resize",St)},sr=y.useCallback(he=>C("div",{...he,className:te(`${t}-backdrop`,G,!d&&"show")}),[d,G,t]),Hr={...n,...ve};Hr.display="block";const ar=he=>C("div",{role:"dialog",...he,style:Hr,className:te(e,t,$&&`${t}-static`,!d&&"show"),onClick:f?or:void 0,onMouseUp:Jt,"aria-label":u,"aria-labelledby":a,"aria-describedby":l,children:C(s,{...ue,onMouseDown:Vn,className:r,contentClassName:i,children:o})});return C(Ky.Provider,{value:Mt,children:C(Hb,{show:c,ref:ke,backdrop:f,container:g,keyboard:!0,autoFocus:m,enforceFocus:E,restoreFocus:S,restoreFocusOptions:T,onEscapeKeyDown:Mi,onShow:w,onHide:p,onEnter:Xs,onEntering:_n,onEntered:I,onExit:bo,onExiting:k,onExited:fn,manager:dn(),transition:d?HV:void 0,backdropTransition:d?WV:void 0,renderBackdrop:sr,renderDialog:ar})})});Qy.displayName="Modal";Qy.defaultProps=zV;const oi=Object.assign(Qy,{Body:MV,Header:jV,Title:VV,Footer:qy,Dialog:Gb,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var Zm={},KV={get exports(){return Zm},set exports(t){Zm=t}},gd={},qV={get exports(){return gd},set exports(t){gd=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(s,a,l,u,c,d){var f=u||"<<anonymous>>",h=d||l;if(a[l]==null)return s?new Error("Required "+c+" `"+h+"` was not specified "+("in `"+f+"`.")):null;for(var v=arguments.length,w=Array(v>6?v-6:0),p=6;p<v;p++)w[p-6]=arguments[p];return r.apply(void 0,[a,l,f,c,h].concat(w))}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}t.exports=e.default})(qV,gd);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=gd,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function o(){for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];function u(){for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=null;return a.forEach(function(v){if(h==null){var w=v.apply(void 0,d);w!=null&&(h=w)}}),h}return(0,r.default)(u)}t.exports=e.default})(KV,Zm);const GV=Ze("nav-item"),QV={disabled:!1},Yy=y.forwardRef(({bsPrefix:t,className:e,as:n=Sy,active:r,eventKey:i,...o},s)=>{t=de(t,"nav-link");const[a,l]=jb({key:Rl(i,o.href),active:r,...o});return C(n,{...o,...a,ref:s,className:te(e,t,o.disabled&&"disabled",l.isActive&&"active")})});Yy.displayName="NavLink";Yy.defaultProps=QV;const YV=Yy,XV={justify:!1,fill:!1},Xy=y.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:o,justify:s,navbar:a,navbarScroll:l,className:u,activeKey:c,...d}=jf(t,{activeKey:"onSelect"}),f=de(r,"nav");let h,v,w=!1;const p=y.useContext(ko),g=y.useContext(zk);return p?(h=p.bsPrefix,w=a??!0):g&&({cardHeaderBsPrefix:v}=g),C(EV,{as:n,ref:e,activeKey:c,className:te(u,{[f]:!w,[`${h}-nav`]:w,[`${h}-nav-scroll`]:w&&l,[`${v}-${i}`]:!!v,[`${f}-${i}`]:!!i,[`${f}-fill`]:o,[`${f}-justified`]:s}),...d})});Xy.displayName="Nav";Xy.defaultProps=XV;const Qn=Object.assign(Xy,{Item:GV,Link:YV}),Xb=y.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=de(t,"navbar-brand");const o=n||(r.href?"a":"span");return C(o,{...r,ref:i,className:te(e,t)})});Xb.displayName="NavbarBrand";const JV=Xb,Jb=y.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=de(e,"navbar-collapse");const i=y.useContext(ko);return C(D2,{in:!!(i&&i.expanded),...n,children:C("div",{ref:r,className:e,children:t})})});Jb.displayName="NavbarCollapse";const ZV=Jb,ez={label:"Toggle navigation"},Jy=y.forwardRef(({bsPrefix:t,className:e,children:n,label:r,as:i="button",onClick:o,...s},a)=>{t=de(t,"navbar-toggler");const{onToggle:l,expanded:u}=y.useContext(ko)||{},c=Be(d=>{o&&o(d),l&&l()});return i==="button"&&(s.type="button"),C(i,{...s,ref:a,onClick:c,"aria-label":r,className:te(e,t,!u&&"collapsed"),children:n||C("span",{className:`${t}-icon`})})});Jy.displayName="NavbarToggle";Jy.defaultProps=ez;const tz=Jy;var eg=new WeakMap,D1=function(e,n){if(!(!e||!n)){var r=eg.get(n)||new Map;eg.set(n,r);var i=r.get(e);return i||(i=n.matchMedia(e),i.refCount=0,r.set(i.media,i)),i}};function nz(t,e){e===void 0&&(e=typeof window>"u"?void 0:window);var n=D1(t,e),r=y.useState(function(){return n?n.matches:!1}),i=r[0],o=r[1];return fd(function(){var s=D1(t,e);if(!s)return o(!1);var a=eg.get(e),l=function(){o(s.matches)};return s.refCount++,s.addListener(l),l(),function(){s.removeListener(l),s.refCount--,s.refCount<=0&&(a==null||a.delete(s.media)),s=void 0}},[t]),i}function rz(t){var e=Object.keys(t);function n(a,l){return a===l?l:a?a+" and "+l:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){var l=r(a),u=t[l];return typeof u=="number"?u=u-.2+"px":u="calc("+u+" - 0.2px)","(max-width: "+u+")"}function o(a){var l=t[a];return typeof l=="number"&&(l=l+"px"),"(min-width: "+l+")"}function s(a,l,u){var c;if(typeof a=="object")c=a,u=l,l=!0;else{var d;l=l||!0,c=(d={},d[a]=l,d)}var f=y.useMemo(function(){return Object.entries(c).reduce(function(h,v){var w=v[0],p=v[1];return(p==="up"||p===!0)&&(h=n(h,o(w))),(p==="down"||p===!0)&&(h=n(h,i(w))),h},"")},[JSON.stringify(c)]);return nz(f,u)}return s}var iz=rz({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});const oz=Ze("offcanvas-body"),sz={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},az={[Pn]:"show",[hr]:"show"},Zy=y.forwardRef(({bsPrefix:t,className:e,children:n,...r},i)=>(t=de(t,"offcanvas"),C(yy,{ref:i,addEndListener:vy,...r,childRef:n.ref,children:(o,s)=>y.cloneElement(n,{...s,className:te(e,n.props.className,(o===Pn||o===kl)&&`${t}-toggling`,az[o])})})));Zy.defaultProps=sz;Zy.displayName="OffcanvasToggling";const lz=Zy,uz={closeLabel:"Close",closeButton:!1},e0=y.forwardRef(({bsPrefix:t,className:e,...n},r)=>(t=de(t,"offcanvas-header"),C(Yb,{ref:r,...n,className:te(e,t)})));e0.displayName="OffcanvasHeader";e0.defaultProps=uz;const cz=e0,dz=lu("h5"),fz=Ze("offcanvas-title",{Component:dz}),hz={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};function pz(t){return C(lz,{...t})}function mz(t){return C(au,{...t})}const t0=y.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i,responsive:o,show:s,backdrop:a,keyboard:l,scroll:u,onEscapeKeyDown:c,onShow:d,onHide:f,container:h,autoFocus:v,enforceFocus:w,restoreFocus:p,restoreFocusOptions:g,onEntered:m,onExit:E,onExiting:S,onEnter:T,onEntering:I,onExited:_,backdropClassName:k,manager:M,renderStaticNode:A,...L},G)=>{const K=y.useRef();t=de(t,"offcanvas");const{onToggle:ue}=y.useContext(ko)||{},[ge,ve]=y.useState(!1),le=iz(o||"xs","up");y.useEffect(()=>{ve(o?s&&!le:s)},[s,o,le]);const $=Be(()=>{ue==null||ue(),f==null||f()}),j=y.useMemo(()=>({onHide:$}),[$]);function P(){return M||(u?(K.current||(K.current=new $V({handleContainerOverflow:!1})),K.current):Kb())}const ne=(ke,...Me)=>{ke&&(ke.style.visibility="visible"),T==null||T(ke,...Me)},se=(ke,...Me)=>{ke&&(ke.style.visibility=""),_==null||_(...Me)},He=y.useCallback(ke=>C("div",{...ke,className:te(`${t}-backdrop`,k)}),[k,t]),we=ke=>C("div",{...ke,...L,className:te(e,o?`${t}-${o}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return q(_r,{children:[!ge&&(o||A)&&we({}),C(Ky.Provider,{value:j,children:C(Hb,{show:ge,ref:G,backdrop:a,container:h,keyboard:l,autoFocus:v,enforceFocus:w&&!u,restoreFocus:p,restoreFocusOptions:g,onEscapeKeyDown:c,onShow:d,onHide:$,onEnter:ne,onEntering:I,onEntered:m,onExit:E,onExiting:S,onExited:se,manager:P(),transition:pz,backdropTransition:mz,renderBackdrop:He,renderDialog:we})})]})});t0.displayName="Offcanvas";t0.defaultProps=hz;const gz=Object.assign(t0,{Body:oz,Header:cz,Title:fz}),Zb=y.forwardRef((t,e)=>{const n=y.useContext(ko);return C(gz,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});Zb.displayName="NavbarOffcanvas";const vz=Zb,yz=Ze("navbar-text",{Component:"span"}),wz={expand:!0,variant:"light",collapseOnSelect:!1},n0=y.forwardRef((t,e)=>{const{bsPrefix:n,expand:r,variant:i,bg:o,fixed:s,sticky:a,className:l,as:u="nav",expanded:c,onToggle:d,onSelect:f,collapseOnSelect:h,...v}=jf(t,{expanded:"onToggle"}),w=de(n,"navbar"),p=y.useCallback((...E)=>{f==null||f(...E),h&&c&&(d==null||d(!1))},[f,h,c,d]);v.role===void 0&&u!=="nav"&&(v.role="navigation");let g=`${w}-expand`;typeof r=="string"&&(g=`${g}-${r}`);const m=y.useMemo(()=>({onToggle:()=>d==null?void 0:d(!c),bsPrefix:w,expanded:!!c,expand:r}),[w,c,r,d]);return C(ko.Provider,{value:m,children:C(go.Provider,{value:p,children:C(u,{ref:e,...v,className:te(l,w,r&&g,i&&`${w}-${i}`,o&&`bg-${o}`,a&&`sticky-${a}`,s&&`fixed-${s}`)})})})});n0.defaultProps=wz;n0.displayName="Navbar";const mn=Object.assign(n0,{Brand:JV,Collapse:ZV,Offcanvas:vz,Text:yz,Toggle:tz}),Ez=y.forwardRef(({bsPrefix:t,className:e,striped:n,bordered:r,borderless:i,hover:o,size:s,variant:a,responsive:l,...u},c)=>{const d=de(t,"table"),f=te(e,d,a&&`${d}-${a}`,s&&`${d}-${s}`,n&&`${d}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${d}-bordered`,i&&`${d}-borderless`,o&&`${d}-hover`),h=C("table",{...u,className:f,ref:c});if(l){let v=`${d}-responsive`;return typeof l=="string"&&(v=`${v}-${l}`),C("div",{className:v,children:h})}return h}),Sz=Ez,ex={Admin:"admin",User:"user",Passenger:"passenger",Driver:"driver",TripManager:"trip manager"},tx=t=>{const[e,n]=y.useState(!1),[r,i]=y.useState(null);return{loading:e,error:r,addDocument:async l=>{n(!0),i(null);try{const u=await YU(sy(to,t),l);return n(!1),u.id}catch(u){i(u),n(!1)}},deleteDocument:async l=>{n(!0),i(null);try{await QU(eo(to,t,l)),n(!1)}catch(u){i(u),n(!1)}},updateDocument:async(l,u)=>{n(!0),i(null);try{const c=eo(to,t,user.id);await _k(eo(c),u),n(!1)}catch(c){i(c),n(!1)}}}},Cz=({onUpdateUser:t,user:e,setShowUserModal:n})=>{const[r,i]=y.useState(e.name),[o,s]=y.useState(e.email),[a,l]=y.useState(e.phone||""),[u,c]=y.useState(e.role),{error:d,loading:f,deleteDocument:h,updateDocument:v}=tx("users"),w=ck(),p=eo(w,"users",e.id),g={name:r,email:o,phone:a,role:u},m=async S=>{S.preventDefault(),console.log({...e});try{await _k(p,g),console.log("A New Document Field has been added to an existing document"),i(""),s(""),l(""),c(""),t(g)}catch(T){console.log(T),console.log(T.message)}finally{n(!1)}},E=()=>{h(e.id)};return q(Te,{onSubmit:m,children:[d&&q(jk,{variant:"danger",children:["Error: ",d.message]}),q(Te.Group,{controlId:"formName",children:[C(Te.Label,{children:"Name:"}),C(Te.Control,{type:"text",value:r,onChange:S=>i(S.target.value),required:!0})]}),q(Te.Group,{controlId:"formEmail",children:[C(Te.Label,{children:"Email:"}),C(Te.Control,{placeholder:"example@email.com",type:"email",value:o,onChange:S=>s(S.target.value),required:!0})]}),q(Te.Group,{controlId:"formPhone",children:[C(Te.Label,{children:"Phone:"}),C(Te.Control,{type:"tel",value:`+3${a}`,placeholder:"+380631234567",onChange:S=>{const T=/^[\s()+-]*([0-9][\s()+-]*){10}$/,I="+3"+S.target.value;T.test(S.target.value)&&l(I)}})]}),q(Te.Group,{controlId:"formRole",children:[C(Te.Label,{children:"Role:"}),C(_b,{variant:"light",style:{width:"100%"},className:"w-100 mt-2",id:"dropdown-role",title:u||"Select a role",onSelect:S=>c(S),required:!0,children:Object.values(ex).map(S=>C(Uy.Item,{className:"w-100",eventKey:S,children:S},S))})]}),C("hr",{className:"hr"}),C(Bn,{variant:"light",className:"w-100 mt-2",type:"submit",children:"Save Changes"}),C(Bn,{variant:"danger",className:"w-100 mt-2",onClick:E,children:"Delete"})]})},Tz=({loading:t,error:e,data:n,handleDelete:r})=>{const[i,o]=y.useState([]),[s,a]=y.useState(!1),[l,u]=y.useState(null),c=d=>{const f=i.findIndex(v=>v.id===d.id),h=[...i];h[f]=d,o(h)};return q(Sz,{striped:!0,bordered:!0,hover:!0,children:[C("thead",{children:q("tr",{children:[C("th",{children:"Name"}),C("th",{children:"Email"}),C("th",{children:"Phone"}),C("th",{children:"Role"})]})}),q("tbody",{children:[t&&C("p",{children:"Loading data..."}),e&&q("p",{children:["Error loading data: ",e.message]}),!t&&n&&C(_r,{children:n.map(d=>q("tr",{children:[C("td",{onClick:()=>{u(d),a(!0)},children:d.name}),C("td",{onClick:()=>{u(d),a(!0)},children:d.email}),C("td",{onClick:()=>{u(d),a(!0)},children:d.phone}),C("td",{onClick:()=>{u(d),a(!0)},children:d.role})]},d.id))})]}),q(oi,{show:s,onHide:()=>a(!1),children:[C(oi.Header,{closeButton:!0,children:C(oi.Title,{children:"User Details"})}),C(oi.Body,{children:C(Cz,{setShowUserModal:a,onUpdateUser:c,user:l,onCancel:()=>setShowEditForm(!1)})})]})]})},Iz=({setShowAddUserModal:t})=>{const[e,n]=y.useState(""),[r,i]=y.useState(""),[o,s]=y.useState(""),[a,l]=y.useState(""),{loading:u,error:c,addDocument:d}=tx("users");return q(Te,{onSubmit:async h=>{h.preventDefault(),await d({name:e,email:r,phone:o,role:a}),t(!1),n(""),i(""),s(""),l("")},children:[c&&q(jk,{variant:"danger",children:["Error: ",c.message]}),q(Te.Group,{controlId:"formName",children:[C(Te.Label,{children:"Name:"}),C(Te.Control,{type:"text",value:e,onChange:h=>n(h.target.value),required:!0})]}),q(Te.Group,{controlId:"formEmail",children:[C(Te.Label,{children:"Email:"}),C(Te.Control,{placeholder:"example@email.com",type:"email",value:r,onChange:h=>i(h.target.value),required:!0})]}),q(Te.Group,{controlId:"formPhone",children:[C(Te.Label,{children:"Phone:"}),C(Te.Control,{type:"tel",value:`+3${o}`,placeholder:"+380631234567",onChange:h=>{const v=/^\d{10}$/,w="+3"+h.target.value;v.test(h.target.value)&&s(w)}})]}),q(Te.Group,{controlId:"formRole",children:[C(Te.Label,{children:"Role:"}),C(_b,{variant:"light",style:{width:"100%"},className:"w-100 mt-2",id:"dropdown-role",title:a||"Select a role",onSelect:h=>l(h),required:!0,children:Object.values(ex).map(h=>C(Uy.Item,{className:"w-100",eventKey:h,children:h},h))})]}),C(Bn,{variant:"light",className:"w-100 mt-2",type:"submit",disabled:u,children:u?"Adding...":"Add User"})]})},_z=async t=>{const e=sy(to,t);return(await Ik(e)).docs.map(i=>({id:i.id,...i.data()}))},kz=async(t,e)=>{const n=eo(to,t,e),r=await Ck(n);if(r.exists()){const i=r.data();return r.id,i}else console.log("No such document!")},nx=(t,e=null)=>{const[n,r]=y.useState(!0),[i,o]=y.useState(null),[s,a]=y.useState(null);return y.useEffect(()=>{(async()=>{try{if(e){const u=await kz(t,e);a(u)}else{const u=await _z(t);a(u)}r(!1)}catch(u){o(u.message),r(!1)}})()},[t,e]),{loading:n,error:i,data:s}};function r0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rx(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bz=rx,ix=new jl("auth","Firebase",rx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new mv("@firebase/auth");function dc(t,...e){O1.logLevel<=Ie.ERROR&&O1.error(`Auth (${Vl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw i0(t,...e)}function nr(t,...e){return i0(t,...e)}function ox(t,e,n){const r=Object.assign(Object.assign({},bz()),{[e]:n});return new jl("auth","Firebase",r).create(e,{appName:t.name})}function xz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tn(t,"argument-error"),ox(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function i0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ix.create(t,...e)}function Y(t,e,...n){if(!t)throw i0(e,...n)}function wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dc(e),new Error(e)}function Fr(t,e){t||wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new Map;function Er(t){Fr(t instanceof Function,"Expected a class definition");let e=A1.get(t);return e?(Fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,A1.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rz(t,e){const n=vv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Gc(o,e??{}))return i;Tn(i,"already-initialized")}return n.initialize({options:e})}function Nz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Er);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Dz(){return P1()==="http:"||P1()==="https:"}function P1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Dz()||AP()||"connection"in navigator)?navigator.onLine:!0}function Az(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fr(n>e,"Short delay should be less than long delay!"),this.isMobile=OP()||PP()}get(){return Oz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t,e){Fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z=new fu(3e4,6e4);function hu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pu(t,e,n,r,i={}){return ax(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Bl(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),sx.fetch()(lx(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function ax(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Pz),e);try{const i=new Mz(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw qu(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw qu(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw qu(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw qu(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ox(t,c,u);Tn(t,c)}}catch(i){if(i instanceof Br)throw i;Tn(t,"network-request-failed",{message:String(i)})}}async function mu(t,e,n,r,i={}){const o=await pu(t,e,n,r,i);return"mfaPendingCredential"in o&&Tn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function lx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?o0(t.config,i):`${t.config.apiScheme}://${i}`}class Mz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nr(this.auth,"network-request-failed")),$z.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=nr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lz(t,e){return pu(t,"POST","/v1/accounts:delete",e)}async function Fz(t,e){return pu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Uz(t,e=!1){const n=yt(t),r=await n.getIdToken(e),i=s0(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ha(sp(i.auth_time)),issuedAtTime:Ha(sp(i.iat)),expirationTime:Ha(sp(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function sp(t){return Number(t)*1e3}function s0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dc("JWT malformed, contained fewer than 3 sections"),null;try{const i=KT(n);return i?JSON.parse(i):(dc("Failed to decode base64 JWT payload"),null)}catch(i){return dc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function jz(t){const e=s0(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Br&&Bz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Bz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ha(this.lastLoginAt),this.creationTime=Ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Nl(t,Fz(n,{idToken:r}));Y(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Wz(o.providerUserInfo):[],a=Hz(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ux(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function zz(t){const e=yt(t);await vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Hz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Wz(t){return t.map(e=>{var{providerId:n}=e,r=r0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kz(t,e){const n=await ax(t,{},async()=>{const r=Bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=lx(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",sx.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jz(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Y(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Kz(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Dl;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dl,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ro{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=r0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ux(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Nl(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Uz(this,e)}reload(){return zz(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ro(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Nl(this,Lz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,p=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:S,isAnonymous:T,providerData:I,stsTokenManager:_}=n;Y(E&&_,e,"internal-error");const k=Dl.fromJSON(this.name,_);Y(typeof E=="string",e,"internal-error"),qr(d,e.name),qr(f,e.name),Y(typeof S=="boolean",e,"internal-error"),Y(typeof T=="boolean",e,"internal-error"),qr(h,e.name),qr(v,e.name),qr(w,e.name),qr(p,e.name),qr(g,e.name),qr(m,e.name);const M=new ro({uid:E,auth:e,email:f,emailVerified:S,displayName:d,isAnonymous:T,photoURL:v,phoneNumber:h,tenantId:w,stsTokenManager:k,createdAt:g,lastLoginAt:m});return I&&Array.isArray(I)&&(M.providerData=I.map(A=>Object.assign({},A))),p&&(M._redirectEventId=p),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dl;i.updateFromServerResponse(n);const o=new ro({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await vd(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cx.type="NONE";const $1=cx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t,e,n){return`firebase:${t}:${e}:${n}`}class ls{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=fc(this.userKey,i.apiKey,o),this.fullPersistenceKey=fc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ro._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ls(Er($1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Er($1);const s=fc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=ro._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ls(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new ls(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mx(e))return"Blackberry";if(gx(e))return"Webos";if(a0(e))return"Safari";if((e.includes("chrome/")||fx(e))&&!e.includes("edge/"))return"Chrome";if(px(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dx(t=Pt()){return/firefox\//i.test(t)}function a0(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fx(t=Pt()){return/crios\//i.test(t)}function hx(t=Pt()){return/iemobile/i.test(t)}function px(t=Pt()){return/android/i.test(t)}function mx(t=Pt()){return/blackberry/i.test(t)}function gx(t=Pt()){return/webos/i.test(t)}function Wf(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qz(t=Pt()){var e;return Wf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Gz(){return $P()&&document.documentMode===10}function vx(t=Pt()){return Wf(t)||px(t)||gx(t)||mx(t)||/windows phone/i.test(t)||hx(t)}function Qz(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t,e=[]){let n;switch(t){case"Browser":n=M1(Pt());break;case"Worker":n=`${M1(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L1(this),this.idTokenSubscription=new L1(this),this.beforeStateQueue=new Yz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ix,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Er(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ls.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Az()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?yt(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Er(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await ls.create(this,[Er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Gs(t){return yt(t)}class L1{constructor(e){this.auth=e,this.observer=null,this.addObserver=VP(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Jz(t,e,n){const r=Gs(t);Y(r._canInitEmulator,r,"emulator-config-failed"),Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=wx(e),{host:s,port:a}=Zz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||e3()}function wx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Zz(t){const e=wx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:F1(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:F1(s)}}}function F1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function e3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,n){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}async function t3(t,e){return pu(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(t,e){return mu(t,"POST","/v1/accounts:signInWithPassword",hu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(t,e){return mu(t,"POST","/v1/accounts:signInWithEmailLink",hu(t,e))}async function i3(t,e){return mu(t,"POST","/v1/accounts:signInWithEmailLink",hu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends l0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ol(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ol(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return n3(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return r3(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return t3(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return i3(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function us(t,e){return mu(t,"POST","/v1/accounts:signInWithIdp",hu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="http://localhost";class vo extends l0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=r0(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new vo(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return us(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,us(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,us(e,n)}buildRequest(){const e={requestUri:o3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a3(t){const e=wa(Ea(t)).link,n=e?wa(Ea(e)).deep_link_id:null,r=wa(Ea(t)).deep_link_id;return(r?wa(Ea(r)).link:null)||r||n||e||t}class u0{constructor(e){var n,r,i,o,s,a;const l=wa(Ea(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=s3((i=l.mode)!==null&&i!==void 0?i:null);Y(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=a3(e);try{return new u0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.providerId=Qs.PROVIDER_ID}static credential(e,n){return Ol._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=u0.parseLink(n);return Y(r,"argument-error"),Ol._fromEmailAndCode(e,r.code,r.tenantId)}}Qs.PROVIDER_ID="password";Qs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends c0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends gu{constructor(){super("facebook.com")}static credential(e){return vo._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vo._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return mr.credential(n,r)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends gu{constructor(){super("github.com")}static credential(e){return vo._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.GITHUB_SIGN_IN_METHOD="github.com";ei.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends gu{constructor(){super("twitter.com")}static credential(e,n){return vo._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ti.credential(n,r)}catch{return null}}}ti.TWITTER_SIGN_IN_METHOD="twitter.com";ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(t,e){return mu(t,"POST","/v1/accounts:signUp",hu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ro._fromIdTokenResponse(e,r,i),s=U1(r);return new yo({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=U1(r);return new yo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function U1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends Br{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new yd(e,n,r,i)}}function Ex(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?yd._fromErrorAndOperation(t,o,e,r):o})}async function u3(t,e,n=!1){const r=await Nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Nl(t,Ex(r,i,e,t),n);Y(o.idToken,r,"internal-error");const s=s0(o.idToken);Y(s,r,"internal-error");const{sub:a}=s;return Y(t.uid===a,r,"user-mismatch"),yo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Tn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(t,e,n=!1){const r="signIn",i=await Ex(t,r,e),o=await yo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function d3(t,e){return Sx(Gs(t),e)}async function f3(t,e,n){const r=Gs(t),i=await l3(r,{returnSecureToken:!0,email:e,password:n}),o=await yo._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}function h3(t,e,n){return d3(yt(t),Qs.credential(e,n))}function p3(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function m3(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function g3(t){return yt(t).signOut()}const wd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wd,"1"),this.storage.removeItem(wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(){const t=Pt();return a0(t)||Wf(t)}const y3=1e3,w3=10;class Tx extends Cx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=v3()&&Qz(),this.fallbackToPolling=vx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Gz()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,w3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},y3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Tx.type="LOCAL";const E3=Tx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix extends Cx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ix.type="SESSION";const _x=Ix;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Kf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await S3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=d0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return window}function T3(t){rr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){return typeof rr().WorkerGlobalScope<"u"&&typeof rr().importScripts=="function"}async function I3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function k3(){return kx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="firebaseLocalStorageDb",b3=1,Ed="firebaseLocalStorage",xx="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qf(t,e){return t.transaction([Ed],e?"readwrite":"readonly").objectStore(Ed)}function x3(){const t=indexedDB.deleteDatabase(bx);return new vu(t).toPromise()}function ng(){const t=indexedDB.open(bx,b3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ed,{keyPath:xx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ed)?e(r):(r.close(),await x3(),e(await ng()))})})}async function j1(t,e,n){const r=qf(t,!0).put({[xx]:e,value:n});return new vu(r).toPromise()}async function R3(t,e){const n=qf(t,!1).get(e),r=await new vu(n).toPromise();return r===void 0?null:r.value}function B1(t,e){const n=qf(t,!0).delete(e);return new vu(n).toPromise()}const N3=800,D3=3;class Rx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ng(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>D3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kf._getInstance(k3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await I3(),!this.activeServiceWorker)return;this.sender=new C3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ng();return await j1(e,wd,"1"),await B1(e,wd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>j1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>R3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>B1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=qf(i,!1).getAll();return new vu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Rx.type="LOCAL";const O3=Rx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function P3(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=nr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",A3().appendChild(r)})}function $3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e){return e?Er(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends l0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return us(e,this._buildIdpRequest())}_linkToIdToken(e,n){return us(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return us(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function M3(t){return Sx(t.auth,new f0(t),t.bypassAuthState)}function L3(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),c3(n,new f0(t),t.bypassAuthState)}async function F3(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),u3(n,new f0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M3;case"linkViaPopup":case"linkViaRedirect":return F3;case"reauthViaPopup":case"reauthViaRedirect":return L3;default:Tn(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=new fu(2e3,1e4);async function V1(t,e,n){const r=Gs(t);xz(t,e,c0);const i=Nx(r,n);return new Qi(r,"signInViaPopup",e,i).executeNotNull()}class Qi extends Dx{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Qi.currentPopupAction&&Qi.currentPopupAction.cancel(),Qi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const e=d0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,U3.get())};e()}}Qi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3="pendingRedirect",hc=new Map;class B3 extends Dx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hc.get(this.auth._key());if(!e){try{const r=await V3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hc.set(this.auth._key(),e)}return this.bypassAuthState||hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function V3(t,e){const n=W3(e),r=H3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function z3(t,e){hc.set(t._key(),e)}function H3(t){return Er(t._redirectPersistence)}function W3(t){return fc(j3,t.config.apiKey,t.name)}async function K3(t,e,n=!1){const r=Gs(t),i=Nx(r,e),s=await new B3(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=10*60*1e3;class G3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ox(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(nr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q3&&this.cachedEventUids.clear(),this.cachedEventUids.has(z1(e))}saveEventToCache(e){this.cachedEventUids.add(z1(e)),this.lastProcessedEventTime=Date.now()}}function z1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ox({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Q3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ox(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(t,e={}){return pu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J3=/^https?/;async function Z3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Y3(t);for(const n of e)try{if(e4(n))return}catch{}Tn(t,"unauthorized-domain")}function e4(t){const e=tg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!J3.test(n))return!1;if(X3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=new fu(3e4,6e4);function H1(){const t=rr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function n4(t){return new Promise((e,n)=>{var r,i,o;function s(){H1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H1(),n(nr(t,"network-request-failed"))},timeout:t4.get()})}if(!((i=(r=rr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=rr().gapi)===null||o===void 0)&&o.load)s();else{const a=$3("iframefcb");return rr()[a]=()=>{gapi.load?s():n(nr(t,"network-request-failed"))},P3(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw pc=null,e})}let pc=null;function r4(t){return pc=pc||n4(t),pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new fu(5e3,15e3),o4="__/auth/iframe",s4="emulator/auth/iframe",a4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u4(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?o0(e,s4):`https://${t.config.authDomain}/${o4}`,r={apiKey:e.apiKey,appName:t.name,v:Vl},i=l4.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Bl(r).slice(1)}`}async function c4(t){const e=await r4(t),n=rr().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:u4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a4,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=nr(t,"network-request-failed"),a=rr().setTimeout(()=>{o(s)},i4.get());function l(){rr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f4=500,h4=600,p4="_blank",m4="http://localhost";class W1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g4(t,e,n,r=f4,i=h4){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},d4),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Pt().toLowerCase();n&&(a=fx(u)?p4:n),dx(u)&&(e=e||m4,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,v])=>`${f}${h}=${v},`,"");if(qz(u)&&a!=="_self")return v4(e||"",a),new W1(null);const d=window.open(e||"",a,c);Y(d,t,"popup-blocked");try{d.focus()}catch{}return new W1(d)}function v4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="__/auth/handler",w4="emulator/auth/handler";function K1(t,e,n,r,i,o){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vl,eventId:i};if(e instanceof c0){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",BP(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(o||{}))s[l]=u}if(e instanceof gu){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${E4(t)}?${Bl(a).slice(1)}`}function E4({config:t}){return t.emulator?o0(t,w4):`https://${t.authDomain}/${y4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="webStorageSupport";class S4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_x,this._completeRedirectFn=K3,this._overrideRedirectResult=z3}async _openPopup(e,n,r,i){var o;Fr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=K1(e,n,r,tg(),i);return g4(e,s,d0())}async _openRedirect(e,n,r,i){return await this._originValidation(e),T3(K1(e,n,r,tg(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Fr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await c4(e),r=new G3(e);return n.register("authEvent",i=>(Y(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ap,{type:ap},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[ap];s!==void 0&&n(!!s),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Z3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vx()||a0()||Wf()}}const C4=S4;var q1="@firebase/auth",G1="0.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function _4(t){ws(new co("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:o,authDomain:s}=r.options;return((a,l)=>{Y(o&&!o.includes(":"),"invalid-api-key",{appName:a.name}),Y(!(s!=null&&s.includes(":")),"argument-error",{appName:a.name});const u={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yx(t)},c=new Xz(a,l,u);return Nz(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ws(new co("auth-internal",e=>{const n=Gs(e.getProvider("auth").getImmediate());return(r=>new T4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(q1,G1,I4(t)),yi(q1,G1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=5*60,b4=GT("authIdTokenMaxAge")||k4;let Q1=null;const x4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>b4)return;const i=n==null?void 0:n.token;Q1!==i&&(Q1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function R4(t=JT()){const e=vv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Rz(t,{popupRedirectResolver:C4,persistence:[O3,E3,_x]}),r=GT("authTokenSyncURL");if(r){const o=x4(r);m3(n,o,()=>o(n.currentUser)),p3(n,s=>o(s))}const i=qT("auth");return i&&Jz(n,`http://${i}`),n}_4("Browser");const N4=()=>{const t=sv();return{dispatchUser:(n,r,i,o,s)=>{t(mP({email:n,id:r,token:i,role:o,name:s}))}}},Ys=()=>{const[t,e]=y.useState(null),n=R4(),{dispatchUser:r}=N4(),i=async(u,c)=>(await f3(n,u,c)).user,o=(u,c)=>h3(n,u,c).user,s=async()=>{const u=new mr;return await V1(n,u)},a=async()=>{const u=new pr;return await V1(n,u)},l=async()=>await g3(n);return y.useEffect(()=>n.onAuthStateChanged(async c=>{if(e(c),c){const d=eo(to,"users",c.uid),f=await Ck(d);if(!f.exists()){const w=sy(to,"users"),p=VU(w,zU("email","==",c.email));if((await Ik(p)).docs.length>0){console.log("User with this email already exists.");return}try{await GU(d,{displayName:c.displayName,email:c.email,photoURL:c.photoURL,createdAt:new Date,role:"user"}),console.log("User added to Firestore collection")}catch(m){console.error("Error adding user to Firestore collection:",m)}}const h=f.data().role||"user",v=f.data().displayName;r(c.email,c.uid,c.accessToken,h,v)}}),[n,r]),{user:t,signUpWithEmailAndPassword:i,signInWithEmailPassword:o,signInWithGoogle:s,signInWithFacebook:a,signOutFromFirebase:l}},D4=()=>{const{email:t,token:e,id:n,role:r,name:i}=ev(o=>o.user);return{isAuth:!!t,email:t,token:e,id:n,role:r,name:i}},Ax=()=>{y.useState(!1);const t=ev(l=>l.user),e=t.id,{data:n,loading:r,error:i}=nx("users",e);console.log("data",n);const{signOutFromFirebase:o}=Ys();Ls();const s=sv(),a=async()=>{try{await o(),localStorage.removeItem("user"),s(zT())}catch(l){console.error("Error signing out:",l)}};return q(_r,{children:[C("header",{children:q(mn,{bg:"light",expand:"full",children:[q("div",{className:" w-100 d-flex align-items-center justify-content-between",children:[C(mn.Toggle,{"aria-controls":"basic-navbar-nav",className:"d-flex w-content-fit",children:C("i",{className:"bi bi-list"})}),C(mn.Brand,{children:C("i",{className:"bi bi-bus-front"})}),q("div",{className:"d-flex align-items-center justify-content-center",children:[C(mn.Text,{children:t.role}),C(mn.Text,{children:t.email}),C(Bn,{variant:"light",onClick:a,children:C("i",{className:"bi bi-x-circle"})})]})]}),C(qs,{fluid:!0,className:"d-flex align-items-center justify-content-between",children:C(mn.Collapse,{id:"basic-navbar-nav",children:q(Qn,{className:"me-auto",children:[C(Qn.Link,{children:"drivers"}),C(Qn.Link,{children:"transport"}),C(Qn.Link,{children:"trips"}),C(Qn.Link,{children:"users"})]})})})]})}),C("main",{children:C("h1",{children:"UserPage"})}),C(qy,{className:"bg-light d-flex justify-content-center align-item-center text-center w-100",style:{marginLeft:0,marginRight:0},children:"© 2023 Crm-pass-transport"})]})},Px=({title:t,buttonTitle:e,handleSubmit:n})=>{const r=y.useRef(""),i=y.useRef("");return q(Te,{onSubmit:o=>n(o,r.current.value,i.current.value),children:[q(Te.Group,{id:"email",children:[C(Te.Label,{className:"mb-0",children:"Email"}),C(Te.Control,{placeholder:"Enter email",type:"email",ref:r,required:!0})]}),q(Te.Group,{id:"password",children:[C(Te.Label,{className:"mb-0",children:"Password"}),C(Te.Control,{placeholder:"Password",type:"password",ref:i,required:!0})]}),C(Bn,{variant:"light",className:"w-100 mt-2",type:"submit",children:t})]})},$x=()=>{const[t,e]=y.useState(!1),[n,r]=y.useState(null),[i,o]=y.useState(!1),s=Ls(),{signInWithGoogle:a,signInWithFacebook:l}=Ys(),u=async d=>{d.preventDefault(),o(!0);try{await l(),s("/user-page")}catch(f){r(f.message)}finally{o(!1),e(!0)}},c=async d=>{d.preventDefault(),o(!0);try{await a()}catch(f){console.log(f),r(f.message)}finally{s("/user-page"),o(!1)}};return y.useEffect(()=>{e(!1)},[t]),q("div",{className:"mt-4 w-100 d-flex flex-column justify-content-center align-items-center",children:[C("p",{children:" or using: "}),q(ej,{className:" w-100 d-flex justify-content-center",children:[C(Bn,{className:"btn btn-light w-100",onClick:c,children:C("i",{className:"bi bi-google"})}),C(Bn,{className:"btn btn-light w-100",onClick:u,children:C("i",{className:"bi bi-facebook"})})]})]})},O4=()=>{const[t,e]=y.useState(null),[n,r]=y.useState(!1),{user:i,signUpWithEmailAndPassword:o}=Ys();console.log(i);const s=Ls(),a=async(l,u,c)=>{l.preventDefault(),r(!0);try{await o(u,c)}catch(d){e(d.message),console.error("Error signing in with Email:",d)}finally{s("/user-page"),r(!1)}};return C(qs,{style:{minHeight:"100vh",padding:"0",width:"85%",margin:"auto"},className:"d-flex align-items-center justify-content-center",children:q(Gn,{style:{display:"flex",flexDirection:"row-reverse",boxShadow:"rgba(0, 0, 0, 0.1) 0px 4px 12px",backgroundColor:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(3px)"},children:[C(Gn.Img,{src:"src\\images\\welcome-img.png",className:"w-50 img-fluid",style:{objectFit:"cover",objectPosition:"right"}}),q(Gn.Body,{className:"w-50 d-flex flex-column align-items-center justify-content-center",children:[C(Gn.Title,{children:"Create account"}),C(Px,{title:"SignUp",handleSubmit:a}),C($x,{}),q(Gn.Text,{className:"mt-4",children:["Already have an account? ",C(ST,{to:"/login",children:"LogIn"})]})]})]})})},A4=()=>{const[t,e]=y.useState(!1),[n,r]=y.useState(null);y.useState(!1);const{signInWithEmailPassword:i}=Ys(),o=Ls(),s=async(a,l,u)=>{a.preventDefault();try{await i(l,u),e(!0),o("/user-page")}catch(c){console.log("error code: ",c.code,"error message: ",c.message),r(c.message)}};return y.useEffect(()=>{e(!0)},[t]),C(qs,{style:{minHeight:"100vh",padding:"0",width:"85%",margin:"auto"},className:"d-flex align-items-center justify-content-center",children:q(Gn,{style:{display:"flex",flexDirection:"row-reverse",boxShadow:"rgba(0, 0, 0, 0.1) 0px 4px 12px"},children:[C(Gn.Img,{src:"src\\images\\welcome-img.png",className:"w-50",style:{objectFit:"cover",objectPosition:"right"}}),q(Gn.Body,{className:"w-50 d-flex flex-column align-items-center justify-content-center",children:[C(Gn.Title,{children:"Hello!"}),C(Px,{title:"Log In",handleSubmit:s}),C($x,{}),q(Gn.Text,{className:"mt-4",children:["Do not have account? ",C(ST,{to:"/signup",children:"Sign Up"})]})]})]})})},P4=()=>{const[t,e]=y.useState(""),[n,r]=y.useState(""),{signInWithEmailPassword:i,signInWithGoogle:o,signInWithFacebook:s}=Ys();return q("div",{children:[C("h2",{children:"Login"}),q("form",{onSubmit:async c=>{c.preventDefault();try{await i(t,n)}catch(d){console.error("Error signing in with email and password:",d)}},children:[q("label",{children:["Email:",C("input",{type:"email",value:t,onChange:c=>e(c.target.value)})]}),q("label",{children:["Password:",C("input",{type:"password",value:n,onChange:c=>r(c.target.value)})]}),C("button",{type:"submit",children:"Sign in with email and password"})]}),C("button",{onClick:async()=>{try{await o()}catch(c){console.error("Error signing in with Google:",c)}},children:"Sign in with Google"}),C("button",{onClick:async()=>{try{await s()}catch(c){console.error("Error signing in with Facebook:",c)}},children:"Sign in with Facebook"})]})},$4=()=>C(qs,{fluid:!0,className:"d-flex align-items-center justify-content-between",children:C(mn.Collapse,{id:"basic-navbar-nav",children:q(Qn,{className:"me-auto",children:[C(Qn.Link,{children:"drivers"}),C(Qn.Link,{children:"transport"}),C(Qn.Link,{children:"trips"}),C(Qn.Link,{children:"users"})]})})}),M4=()=>{const{role:t,name:e}=D4();console.log("name",e);const n=sv(),{signOutFromFirebase:r}=Ys(),i=async()=>{try{await r(),localStorage.removeItem("user"),n(zT())}catch(o){console.error("Error signing out:",o)}};return q("div",{className:"d-flex align-items-center justify-content-center",children:[C(mn.Text,{className:"mr-1",children:t}),C(mn.Text,{className:"mr-1",children:e}),C(Bn,{variant:"light",className:"p-0",onClick:i,children:C("i",{className:"bi bi-x-circle",style:{width:"16px"}})})]})},L4=()=>C("header",{children:C(mn,{bg:"light",expand:"full",children:q(qs,{className:"p-relative w-100 d-flex align-items-center justify-content-between",children:[C(mn.Toggle,{"aria-controls":"basic-navbar-nav",className:"d-flex w-content-fit",children:C("i",{className:"bi bi-list"})}),C(mn.Brand,{style:{position:"absolute",width:"20px",margin:"0 auto",top:"6px",right:"0",left:"0",display:"flex",justifyContent:"center"},children:C("i",{className:"bi bi-bus-front"})}),C(M4,{}),C($4,{})]})})}),F4=()=>C(qy,{className:"bg-light d-flex justify-content-center align-item-center text-center w-100",style:{marginLeft:0,marginRight:0},children:"© 2023 Crm-pass-transport"}),U4=()=>{const[t,e]=y.useState(!1),{loading:n,error:r,data:i}=nx("users");return C(qs,{className:"my-4 mx-auto d-flex flex-column min-vh-100",style:{minHeight:"calc(100vh - 56px - 2.5rem - 2.5rem)",paddingBottom:"2.5rem"},children:q("main",{className:"flex-grow-1",children:[C(Bn,{variant:"primary",onClick:()=>e(!0),children:"Add User"}),C(Tz,{data:i,loading:n,error:r}),q(oi,{show:t,onHide:()=>e(!1),size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[q(oi.Header,{children:[C(oi.Title,{children:"Add User"}),C(Bn,{variant:"light",onClick:()=>e(!1),children:C("i",{className:"bi bi-x"})})]}),C(oi.Body,{children:C(Iz,{setShowAddUserModal:e})})]})]})})},j4=()=>q(_r,{children:[C(L4,{}),C(U4,{}),C(F4,{})]}),B4=({roles:t,...e})=>{const n=ev(i=>i.user);return!n.email?C(ET,{to:"/login"}):n.role==="admin"?C(j4,{}):C(Ax,{})},V4=NO([{path:"/",element:C(ET,{to:"/user-page"}),errorElement:C(Jh,{})},{path:"/testLogin",element:C(P4,{})},{path:"user-page",element:C(B4,{roles:["admin","user"],element:C(Ax,{})})},{path:"/login",element:C(A4,{}),errorElement:C(Jh,{})},{path:"/signup",element:C(O4,{}),errorElement:C(Jh,{})}]);up.createRoot(document.getElementById("root")).render(C(Wt.StrictMode,{children:C(TA,{store:EP,children:C(SO,{router:V4})})}));
